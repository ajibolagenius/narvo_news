"use strict";(self.webpackChunknarvo_frontend=self.webpackChunknarvo_frontend||[]).push([[146],{831(e,s,r){r.d(s,{A:()=>l});var t=r(5043),a=r(579);const l=()=>{const[e,s]=(0,t.useState)("00:00:00");return(0,t.useEffect)(()=>{const e=()=>s((new Date).toISOString().split("T")[1].split(".")[0]);e();const r=setInterval(e,1e3);return()=>clearInterval(r)},[]),(0,a.jsx)("span",{children:e})}},6146(e,s,r){r.r(s),r.d(s,{default:()=>c});var t=r(5043),a=r(5475),l=r(3216),o=r(1561),i=r(831),n=r(579);const c=()=>{const e=(0,l.Zp)(),{signIn:s,signUp:r}=(0,o.A)(),[c,d]=(0,t.useState)(""),[x,m]=(0,t.useState)(""),[p,h]=(0,t.useState)(!1),[f,b]=(0,t.useState)(""),[u,j]=(0,t.useState)(!1),[N,g]=(0,t.useState)("");return(0,n.jsxs)("div",{className:"h-screen w-full overflow-hidden flex flex-col relative bg-background-dark","data-testid":"auth-page",children:[(0,n.jsxs)("header",{className:"h-16 flex items-center justify-between px-8 border-b border-forest bg-background-dark z-10 shrink-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("svg",{className:"w-6 h-6 text-primary",viewBox:"0 0 256 256",fill:"currentColor",children:(0,n.jsx)("path",{d:"M208,40H48A16,16,0,0,0,32,56V200a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V56A16,16,0,0,0,208,40Zm0,160H48V56H208V200ZM64,96a8,8,0,0,1,8-8H184a8,8,0,0,1,0,16H72A8,8,0,0,1,64,96Zm0,32a8,8,0,0,1,8-8H184a8,8,0,0,1,0,16H72A8,8,0,0,1,64,128Zm0,32a8,8,0,0,1,8-8h72a8,8,0,0,1,0,16H72A8,8,0,0,1,64,160Z"})}),(0,n.jsxs)("div",{className:"font-display text-xl tracking-tight font-bold uppercase text-content",children:["NARVO ",(0,n.jsx)("span",{className:"text-forest font-light mx-2",children:"//"})," ACCESS_CENTER"]}),(0,n.jsx)("div",{className:"h-4 w-[1px] bg-forest mx-2"}),(0,n.jsx)("div",{className:"mono-ui text-[10px] text-forest",children:"V.2.5.0_STABLE"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-8 mono-ui text-[10px] text-forest",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"w-2 h-2 bg-primary animate-pulse"}),(0,n.jsx)("span",{children:"SECURE_CONNECTION: ACTIVE"})]}),(0,n.jsx)("div",{className:"hidden md:flex items-center gap-2",children:(0,n.jsxs)("span",{children:["UTC ",(0,n.jsx)(i.A,{})]})})]})]}),(0,n.jsxs)("main",{className:"flex-1 grid grid-cols-12 h-full",children:[(0,n.jsx)("div",{className:"hidden lg:block lg:col-span-3 border-r border-forest h-full relative",children:(0,n.jsxs)("div",{className:"absolute inset-0 grid grid-rows-6",children:[(0,n.jsxs)("div",{className:"border-b border-forest p-6 flex flex-col justify-end",children:[(0,n.jsx)("span",{className:"mono-ui text-[9px] text-forest block mb-1",children:"NODE_ID"}),(0,n.jsx)("span",{className:"mono-ui text-[10px] text-content",children:"NRV-LGS-X1"})]}),(0,n.jsxs)("div",{className:"border-b border-forest p-6 flex flex-col justify-end",children:[(0,n.jsx)("span",{className:"mono-ui text-[9px] text-forest block mb-1",children:"ENCRYPTION"}),(0,n.jsx)("span",{className:"mono-ui text-[10px] text-primary",children:"AES-256-GCM"})]}),(0,n.jsx)("div",{className:"border-b border-forest"}),(0,n.jsx)("div",{className:"border-b border-forest"}),(0,n.jsx)("div",{className:"border-b border-forest"}),(0,n.jsx)("div",{className:"p-6 flex items-end",children:(0,n.jsx)("span",{className:"mono-ui text-[9px] text-forest animate-pulse",children:"AWAITING_INPUT_SIGNAL..."})})]})}),(0,n.jsxs)("div",{className:"col-span-12 lg:col-span-6 flex flex-col justify-center items-center relative p-6",children:[(0,n.jsx)("div",{className:"absolute inset-0 grid grid-cols-4 pointer-events-none opacity-5",children:[...Array(4)].map((e,s)=>(0,n.jsx)("div",{className:"border-r border-forest h-full"},s))}),(0,n.jsxs)("div",{className:"w-full max-w-md z-10 relative",children:[(0,n.jsxs)("div",{className:"border border-forest bg-background-dark mb-[-1px]",children:[(0,n.jsxs)("div",{className:"p-4 flex justify-between items-center border-b border-forest",children:[(0,n.jsx)("h2",{className:"font-display text-2xl font-bold uppercase tracking-tight text-content",children:p?"Create Account":"Initialize Session"}),(0,n.jsx)("svg",{className:"w-6 h-6 text-primary",viewBox:"0 0 256 256",fill:"currentColor",children:(0,n.jsx)("path",{d:"M184,128a56,56,0,1,1-56-56A56,56,0,0,1,184,128Z"})})]}),(0,n.jsx)("div",{className:"h-1 w-full bg-surface overflow-hidden border-b border-forest",children:(0,n.jsx)("div",{className:"h-full w-1/3 bg-primary"})})]}),(0,n.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),b(""),g(""),j(!0);try{if(p){const s=await r(c,x);null!==s&&void 0!==s&&s.user&&!s.session?g("Check your email to confirm your account, then sign in."):e("/onboarding")}else{const r=await s(c,x);if(null!==r&&void 0!==r&&r.user)try{const s=await fetch("".concat("https://african-news-hub-1.preview.emergentagent.com","/api/preferences?user_id=").concat(r.user.id));if(s.ok){const r=await s.json();if(r.updated_at)return localStorage.setItem("narvo_preferences",JSON.stringify(r)),void e("/dashboard")}}catch(a){}const t=localStorage.getItem("narvo_preferences");e(t?"/dashboard":"/onboarding")}}catch(l){b(l.message||"Authentication failed")}j(!1)},className:"border border-forest border-t-0 bg-surface/50 p-8 flex flex-col gap-6",children:[f&&(0,n.jsxs)("div",{className:"border border-red-500/50 bg-red-500/10 p-3 text-red-400 mono-ui text-[11px]","data-testid":"auth-error",children:["[ERROR] ",f]}),N&&(0,n.jsxs)("div",{className:"border border-primary/50 bg-primary/10 p-3 text-primary mono-ui text-[11px]","data-testid":"auth-confirm",children:["[OK] ",N]}),(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsx)("label",{className:"mono-ui text-[10px] text-forest mb-2 block font-bold",children:"Operator Credential"}),(0,n.jsxs)("div",{className:"flex items-center border border-forest bg-background-dark h-12 px-4 focus-within:border-primary transition-all",children:[(0,n.jsx)("svg",{className:"w-5 h-5 text-forest mr-3",viewBox:"0 0 256 256",fill:"currentColor",children:(0,n.jsx)("path",{d:"M200,112H184V88a56,56,0,0,0-112,0v24H56a8,8,0,0,0-8,8v80a8,8,0,0,0,8,8H200a8,8,0,0,0,8-8V120A8,8,0,0,0,200,112Z"})}),(0,n.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),className:"flex-1 bg-transparent border-none outline-none text-content mono-ui text-sm",placeholder:"operator@narvo.io",required:!0,"data-testid":"email-input"})]})]}),(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,n.jsx)("label",{className:"mono-ui text-[10px] text-forest font-bold",children:"Access Code"}),!p&&(0,n.jsx)(a.N_,{to:"/forgot-password",className:"mono-ui text-[9px] text-primary cursor-pointer hover:underline","data-testid":"forgot-password-link",children:"[Recover_Key]"})]}),(0,n.jsxs)("div",{className:"flex items-center border border-forest bg-background-dark h-12 px-4 focus-within:border-primary transition-all",children:[(0,n.jsx)("svg",{className:"w-5 h-5 text-forest mr-3",viewBox:"0 0 256 256",fill:"currentColor",children:(0,n.jsx)("path",{d:"M216.57,39.43A80,80,0,0,0,83.91,120.78L28.69,176A15.86,15.86,0,0,0,24,187.31V216a16,16,0,0,0,16,16H72a8,8,0,0,0,8-8V208H96a8,8,0,0,0,8-8V184h16a8,8,0,0,0,5.66-2.34l9.56-9.57A80,80,0,0,0,216.57,39.43Z"})}),(0,n.jsx)("input",{type:"password",value:x,onChange:e=>m(e.target.value),className:"flex-1 bg-transparent border-none outline-none text-content mono-ui text-sm",placeholder:"min 6 characters",required:!0,minLength:6,"data-testid":"password-input"})]})]}),(0,n.jsxs)("button",{type:"submit",disabled:u,className:"w-full h-14 bg-primary text-background-dark font-display font-bold uppercase tracking-tighter text-lg hover:bg-white transition-all flex items-center justify-between px-6 mt-2 group disabled:opacity-50","data-testid":"auth-submit-btn",children:[(0,n.jsx)("span",{children:u?"Processing...":p?"Create Account":"Initiate Sync"}),!u&&(0,n.jsx)("svg",{className:"w-6 h-6 group-hover:translate-x-1 transition-transform",viewBox:"0 0 256 256",fill:"currentColor",children:(0,n.jsx)("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"})})]})]}),(0,n.jsx)("div",{className:"border border-forest border-t-0 bg-background-dark p-4",children:(0,n.jsx)("button",{onClick:()=>{h(!p),b(""),g("")},className:"w-full text-center mono-ui text-[11px] text-forest hover:text-primary transition-colors","data-testid":"auth-toggle-btn",children:p?"[Already have access? Sign In]":"[Request New Access? Create Account]"})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 border border-forest border-t-0 bg-background-dark",children:[(0,n.jsxs)("div",{className:"p-4 border-r border-forest flex items-center gap-3",children:[(0,n.jsx)("svg",{className:"w-5 h-5 text-forest",viewBox:"0 0 256 256",fill:"currentColor",children:(0,n.jsx)("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8Z"})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"mono-ui text-[9px] text-forest",children:"AUTHENTICATION"}),(0,n.jsx)("span",{className:"mono-ui text-[10px] text-content",children:"Supabase_Auth"})]})]}),(0,n.jsxs)("div",{className:"p-4 flex items-center gap-3",children:[(0,n.jsx)("svg",{className:"w-5 h-5 text-forest",viewBox:"0 0 256 256",fill:"currentColor",children:(0,n.jsx)("path",{d:"M208,40H48A16,16,0,0,0,32,56V200a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V56A16,16,0,0,0,208,40Z"})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"mono-ui text-[9px] text-forest",children:"PROTOCOL"}),(0,n.jsx)("span",{className:"mono-ui text-[10px] text-content",children:"E2E_ENCRYPTED"})]})]})]}),(0,n.jsx)("div",{className:"mt-8 text-center",children:(0,n.jsxs)("p",{className:"mono-ui text-[9px] text-forest leading-relaxed",children:["Authorized Access Only. Internal Signal NRV-00-1.",(0,n.jsx)("br",{}),"Clearance Level: [LEVEL_4_BROADCAST]"]})}),(0,n.jsx)(a.N_,{to:"/",className:"block text-center mono-ui text-[10px] text-forest mt-6 hover:text-primary","data-testid":"back-to-landing",children:"\u2190 [BACK_TO_LANDING]"})]})]}),(0,n.jsx)("div",{className:"hidden lg:block lg:col-span-3 border-l border-forest h-full relative",children:(0,n.jsxs)("div",{className:"absolute inset-0 grid grid-rows-6",children:[(0,n.jsx)("div",{className:"border-b border-forest p-6 flex justify-end items-end",children:(0,n.jsxs)("span",{className:"mono-ui text-[10px] text-forest",children:["SECURE_HANDSHAKE: ",(0,n.jsx)("span",{className:"text-primary",children:"PASS"})]})}),(0,n.jsxs)("div",{className:"border-b border-forest p-6 flex flex-col justify-end items-end gap-1",children:[(0,n.jsx)("div",{className:"h-[1px] w-12 bg-forest"}),(0,n.jsx)("div",{className:"h-[1px] w-8 bg-forest opacity-50"}),(0,n.jsx)("div",{className:"h-[1px] w-4 bg-forest opacity-30"})]}),(0,n.jsx)("div",{className:"border-b border-forest"}),(0,n.jsx)("div",{className:"border-b border-forest"}),(0,n.jsx)("div",{className:"border-b border-forest"}),(0,n.jsxs)("div",{className:"p-6 flex flex-col justify-end items-end text-right",children:[(0,n.jsx)("span",{className:"mono-ui text-[9px] text-forest uppercase",children:"Node_Location"}),(0,n.jsx)("span",{className:"mono-ui text-[10px] text-content",children:"6.5244 N, 3.3792 E"})]})]})})]}),(0,n.jsxs)("footer",{className:"h-12 border-t border-forest bg-surface/30 flex items-center justify-between px-8 text-forest mono-ui text-[9px] z-10 shrink-0",children:[(0,n.jsxs)("div",{className:"flex gap-6",children:[(0,n.jsx)("span",{className:"pr-6 border-r border-forest/30",children:"HELP_TERMINAL"}),(0,n.jsx)("span",{children:"PRIVACY_PROTOCOL_2026"})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("span",{children:"SYSTEM_STORAGE: 84% READ_ONLY"})})]})]})}}}]);
//# sourceMappingURL=146.0176a85f.chunk.js.map