{"version":3,"file":"static/js/870.e0479950.chunk.js","mappings":"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","sources":["components/HashtagText.js","components/Skeleton.js","components/TruthTag.js","hooks/useBookmarks.js","hooks/useAudioPrefetch.js","hooks/usePullToRefresh.js","lib/categoryImages.js","pages/DashboardPage.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\n\n/**\n * HashtagText — Parses text and renders #hashtags as clickable links.\n * Clicking a hashtag navigates to /search?q={tag}\n * @param {string} text - Text containing #hashtags\n * @param {string} className - Additional classes for the container span\n * @param {string} tagClassName - Classes for individual tag links\n */\nconst HashtagText = ({ text, className = '', tagClassName = '' }) => {\n  const navigate = useNavigate();\n\n  if (!text) return null;\n\n  const parts = text.split(/(#[a-zA-Z0-9_]+)/g);\n\n  return (\n    <span className={className}>\n      {parts.map((part, i) => {\n        if (part.startsWith('#')) {\n          const tag = part.slice(1);\n          return (\n            <button\n              key={i}\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                navigate(`/search?q=${encodeURIComponent(tag)}`);\n              }}\n              className={`text-primary hover:underline cursor-pointer ${tagClassName}`}\n              data-testid={`hashtag-${tag.toLowerCase()}`}\n            >\n              {part}\n            </button>\n          );\n        }\n        return <React.Fragment key={i}>{part}</React.Fragment>;\n      })}\n    </span>\n  );\n};\n\n/**\n * TagPill — Renders a single tag as a clickable pill\n * @param {string} tag - Tag name (without #)\n * @param {string} className - Additional classes\n */\nexport const TagPill = ({ tag, className = '' }) => {\n  const navigate = useNavigate();\n  return (\n    <button\n      onClick={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        navigate(`/search?q=${encodeURIComponent(tag)}`);\n      }}\n      className={`narvo-border px-1.5 py-1 mono-ui text-[10px] text-content hover:bg-primary hover:text-background-dark hover:border-primary cursor-pointer transition-colors ${className}`}\n      data-testid={`hashtag-${tag.toLowerCase()}`}\n    >\n      #{tag.toUpperCase()}\n    </button>\n  );\n};\n\nexport default HashtagText;\n","import React from 'react';\n\nconst Skeleton = ({ className = '', variant = 'rect' }) => {\n  const base = 'animate-pulse bg-forest/10';\n  if (variant === 'circle') return <div className={`${base} rounded-full ${className}`} />;\n  if (variant === 'text') return <div className={`${base} h-4 ${className}`} />;\n  return <div className={`${base} ${className}`} />;\n};\n\nexport const FeaturedSkeleton = () => (\n  <div className=\"narvo-border bg-surface/30 flex flex-col md:flex-row min-h-[320px]\">\n    <div className=\"md:w-1/2 bg-forest/5 min-h-[200px]\" />\n    <div className=\"flex-1 p-8 flex flex-col justify-between gap-4\">\n      <div className=\"space-y-4\">\n        <Skeleton variant=\"text\" className=\"w-40 h-3\" />\n        <Skeleton variant=\"text\" className=\"w-full h-8\" />\n        <Skeleton variant=\"text\" className=\"w-3/4 h-8\" />\n        <Skeleton variant=\"text\" className=\"w-full h-4 mt-4\" />\n        <Skeleton variant=\"text\" className=\"w-2/3 h-4\" />\n      </div>\n      <div className=\"flex gap-4\">\n        <Skeleton className=\"flex-1 h-12\" />\n        <Skeleton className=\"w-12 h-12\" />\n        <Skeleton className=\"w-12 h-12\" />\n      </div>\n    </div>\n  </div>\n);\n\nexport const StreamCardSkeleton = () => (\n  <div className=\"p-6 narvo-border-b\">\n    <div className=\"flex justify-between mb-3\">\n      <div className=\"flex gap-3\"><Skeleton variant=\"text\" className=\"w-24 h-4\" /><Skeleton variant=\"text\" className=\"w-14 h-4\" /></div>\n      <Skeleton variant=\"text\" className=\"w-20 h-4\" />\n    </div>\n    <Skeleton variant=\"text\" className=\"w-full h-6 mb-2\" />\n    <Skeleton variant=\"text\" className=\"w-3/4 h-6 mb-3\" />\n    <Skeleton variant=\"text\" className=\"w-full h-4\" />\n    <Skeleton variant=\"text\" className=\"w-2/3 h-4 mt-1\" />\n  </div>\n);\n\nexport const ArticleSkeleton = () => (\n  <div className=\"space-y-6\">\n    <div className=\"flex gap-2\"><Skeleton className=\"w-20 h-6\" /><Skeleton className=\"w-20 h-6\" /></div>\n    <Skeleton variant=\"text\" className=\"w-full h-12\" />\n    <Skeleton variant=\"text\" className=\"w-4/5 h-12\" />\n    <div className=\"border-l-2 border-forest/20 pl-6 space-y-2\">\n      <Skeleton variant=\"text\" className=\"w-full h-5\" />\n      <Skeleton variant=\"text\" className=\"w-3/4 h-5\" />\n    </div>\n    <Skeleton className=\"w-full h-[400px]\" />\n    <Skeleton className=\"w-full h-16\" />\n    <div className=\"space-y-3\">\n      <Skeleton variant=\"text\" className=\"w-full h-4\" />\n      <Skeleton variant=\"text\" className=\"w-full h-4\" />\n      <Skeleton variant=\"text\" className=\"w-2/3 h-4\" />\n    </div>\n  </div>\n);\n\nexport const ListSkeleton = ({ count = 4 }) => (\n  <div className=\"narvo-border bg-surface/20 divide-y divide-forest/10\">\n    {Array.from({ length: count }).map((_, i) => <StreamCardSkeleton key={i} />)}\n  </div>\n);\n\nexport default Skeleton;\n","import React, { useState, useEffect } from 'react';\nimport { ShieldCheck, ShieldWarning, Question, CircleNotch } from '@phosphor-icons/react';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\n\nconst STATUS_MAP = {\n  VERIFIED: { icon: ShieldCheck, color: 'text-green-400', bg: 'bg-green-400/10', border: 'border-green-400/30', label: 'VERIFIED' },\n  DISPUTED: { icon: ShieldWarning, color: 'text-red-400', bg: 'bg-red-400/10', border: 'border-red-400/30', label: 'DISPUTED' },\n  UNVERIFIED: { icon: Question, color: 'text-yellow-400', bg: 'bg-yellow-400/10', border: 'border-yellow-400/30', label: 'UNVERIFIED' },\n  PENDING: { icon: CircleNotch, color: 'text-forest', bg: 'bg-forest/10', border: 'border-forest/30', label: 'CHECKING...' },\n};\n\nconst TruthTag = ({ storyId, compact = false }) => {\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!storyId) { setLoading(false); return; }\n    fetch(`${API_URL}/api/factcheck/story/${storyId}`)\n      .then(r => r.ok ? r.json() : null)\n      .then(data => {\n        if (data) setResult(data);\n        setLoading(false);\n      })\n      .catch(() => setLoading(false));\n  }, [storyId]);\n\n  if (loading) {\n    return (\n      <span className=\"inline-flex items-center gap-1 px-1.5 py-0.5 mono-ui text-[9px] md:text-[10px] text-forest border border-forest/30 font-bold\">\n        <CircleNotch className=\"w-3 h-3 animate-spin\" />\n        {!compact && 'VERIFYING...'}\n      </span>\n    );\n  }\n\n  const status = result?.status || 'UNVERIFIED';\n  const config = STATUS_MAP[status] || STATUS_MAP.UNVERIFIED;\n  const Icon = config.icon;\n  const source = result?.source || 'UNKNOWN';\n  const confidence = result?.confidence || 0;\n\n  if (compact) {\n    return (\n      <span\n        className={`inline-flex items-center gap-1 px-1.5 py-0.5 mono-ui text-[9px] font-bold ${config.color} ${config.bg} ${config.border} border`}\n        data-testid={`truth-tag-${storyId}`}\n        title={`${config.label} (${confidence}%) — ${source}`}\n      >\n        <Icon className=\"w-3 h-3\" weight={status === 'PENDING' ? 'regular' : 'bold'} />\n        {config.label}\n      </span>\n    );\n  }\n\n  return (\n    <div\n      className={`flex items-center gap-2 p-2 ${config.bg} border ${config.border}`}\n      data-testid={`truth-tag-${storyId}`}\n    >\n      <Icon className={`w-4 h-4 ${config.color}`} weight={status === 'PENDING' ? 'regular' : 'bold'} />\n      <div className=\"flex flex-col gap-0.5 min-w-0\">\n        <div className=\"flex items-center gap-2\">\n          <span className={`mono-ui text-[11px] font-bold ${config.color}`}>{config.label}</span>\n          <span className=\"mono-ui text-[9px] text-forest/60\">{confidence}%</span>\n        </div>\n        <span className=\"mono-ui text-[9px] text-forest truncate\">{source}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default TruthTag;\n","import { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\nconst BOOKMARKS_KEY = 'narvo_bookmarks';\n\nexport const useBookmarks = () => {\n  const { user } = useAuth();\n  const [bookmarks, setBookmarks] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const getLocalBookmarks = () => {\n    try {\n      return JSON.parse(localStorage.getItem(BOOKMARKS_KEY) || '[]');\n    } catch { return []; }\n  };\n\n  const saveLocalBookmarks = (items) => {\n    localStorage.setItem(BOOKMARKS_KEY, JSON.stringify(items));\n  };\n\n  const fetchBookmarks = useCallback(async () => {\n    if (!user) {\n      setBookmarks(getLocalBookmarks());\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/bookmarks?user_id=${user.id}`);\n      if (res.ok) {\n        const data = await res.json();\n        setBookmarks(data);\n        saveLocalBookmarks(data);\n      } else {\n        setBookmarks(getLocalBookmarks());\n      }\n    } catch {\n      setBookmarks(getLocalBookmarks());\n    }\n    setLoading(false);\n  }, [user]);\n\n  useEffect(() => { fetchBookmarks(); }, [fetchBookmarks]);\n\n  const addBookmark = async (story) => {\n    const bookmark = {\n      story_id: story.id,\n      title: story.title,\n      summary: story.summary || '',\n      source: story.source || '',\n      category: story.category || 'General',\n      source_url: story.source_url || '',\n      saved_at: new Date().toISOString(),\n    };\n\n    const updated = [...bookmarks.filter(b => b.story_id !== story.id), bookmark];\n    setBookmarks(updated);\n    saveLocalBookmarks(updated);\n\n    if (user) {\n      try {\n        await fetch(`${API_URL}/api/bookmarks`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ user_id: user.id, ...bookmark }),\n        });\n      } catch (e) { console.error('Failed to sync bookmark:', e); }\n    }\n  };\n\n  const removeBookmark = async (storyId) => {\n    const updated = bookmarks.filter(b => b.story_id !== storyId);\n    setBookmarks(updated);\n    saveLocalBookmarks(updated);\n\n    if (user) {\n      try {\n        await fetch(`${API_URL}/api/bookmarks/${storyId}?user_id=${user.id}`, { method: 'DELETE' });\n      } catch (e) { console.error('Failed to remove bookmark:', e); }\n    }\n  };\n\n  const isBookmarked = (storyId) => bookmarks.some(b => b.story_id === storyId);\n\n  return { bookmarks, loading, addBookmark, removeBookmark, isBookmarked, fetchBookmarks };\n};\n","import { useEffect, useRef } from 'react';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL;\nconst prefetchedIds = new Set();\n\n/**\n * useAudioPrefetch — Prefetches TTS audio for news articles in idle time.\n * Caches results in memory and triggers server-side caching.\n * @param {Array} articles - Array of { id, title, summary }\n * @param {string} voiceId - Voice model ID\n * @param {number} limit - Max articles to prefetch (default 3)\n */\nexport const useAudioPrefetch = (articles = [], voiceId = 'nova', limit = 3) => {\n  const controllerRef = useRef(null);\n\n  useEffect(() => {\n    if (!articles.length) return;\n\n    const toPrefetch = articles.filter(a => !prefetchedIds.has(a.id)).slice(0, limit);\n    if (!toPrefetch.length) return;\n\n    const controller = new AbortController();\n    controllerRef.current = controller;\n\n    const prefetch = async () => {\n      for (const article of toPrefetch) {\n        if (controller.signal.aborted) break;\n        try {\n          // Use requestIdleCallback if available, else setTimeout\n          await new Promise(resolve => {\n            if ('requestIdleCallback' in window) {\n              window.requestIdleCallback(resolve, { timeout: 5000 });\n            } else {\n              setTimeout(resolve, 2000);\n            }\n          });\n          if (controller.signal.aborted) break;\n\n          const text = (article.narrative || article.summary || article.title || '').slice(0, 500);\n          if (!text) continue;\n\n          await fetch(`${API_URL}/api/tts/generate`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ text, voice_id: voiceId, language: 'en' }),\n            signal: controller.signal,\n          });\n          prefetchedIds.add(article.id);\n        } catch {\n          // Abort or network error — silently skip\n        }\n      }\n    };\n\n    prefetch();\n    return () => { controller.abort(); };\n  }, [articles, voiceId, limit]);\n};\n","import { useState, useRef, useCallback, useEffect } from 'react';\n\n/**\n * usePullToRefresh — native-like pull-down gesture to refresh content.\n * Attach `handlers` to the scrollable container's props.\n * @param {Function} onRefresh - async function called when pull is released\n * @param {Object} options - { threshold: 80, disabled: false }\n */\nconst usePullToRefresh = (onRefresh, options = {}) => {\n  const { threshold = 80, disabled = false } = options;\n  const [pulling, setPulling] = useState(false);\n  const [pullDistance, setPullDistance] = useState(0);\n  const [refreshing, setRefreshing] = useState(false);\n  const startY = useRef(0);\n  const containerRef = useRef(null);\n\n  const handleTouchStart = useCallback((e) => {\n    if (disabled || refreshing) return;\n    const el = containerRef.current;\n    if (el && el.scrollTop <= 0) {\n      startY.current = e.touches[0].clientY;\n      setPulling(true);\n    }\n  }, [disabled, refreshing]);\n\n  const handleTouchMove = useCallback((e) => {\n    if (!pulling || disabled) return;\n    const delta = Math.max(0, e.touches[0].clientY - startY.current);\n    const dampened = Math.min(delta * 0.5, threshold * 1.5);\n    setPullDistance(dampened);\n  }, [pulling, disabled, threshold]);\n\n  const handleTouchEnd = useCallback(async () => {\n    if (!pulling || disabled) return;\n    setPulling(false);\n    if (pullDistance >= threshold) {\n      setRefreshing(true);\n      try { await onRefresh(); } catch { /* ignore */ }\n      setRefreshing(false);\n    }\n    setPullDistance(0);\n  }, [pulling, pullDistance, threshold, onRefresh, disabled]);\n\n  // Clean up on unmount\n  useEffect(() => {\n    return () => {\n      setPulling(false);\n      setPullDistance(0);\n    };\n  }, []);\n\n  const progress = Math.min(pullDistance / threshold, 1);\n\n  return {\n    containerRef,\n    pulling: pulling && pullDistance > 10,\n    refreshing,\n    pullDistance,\n    progress,\n    handlers: {\n      onTouchStart: handleTouchStart,\n      onTouchMove: handleTouchMove,\n      onTouchEnd: handleTouchEnd,\n    },\n  };\n};\n\nexport default usePullToRefresh;\n","// Category-specific images for news cards\n// Maps news categories/tags to themed stock photos from Unsplash/Pexels\n\nconst CATEGORY_IMAGES = {\n  politics: [\n    'https://images.unsplash.com/photo-1755756383827-95a69fbee439?w=600&h=400&fit=crop',\n    'https://images.unsplash.com/photo-1735886161697-b868f22f7dcd?w=600&h=400&fit=crop',\n  ],\n  tech: [\n    'https://images.unsplash.com/photo-1528901166007-3784c7dd3653?w=600&h=400&fit=crop',\n    'https://images.unsplash.com/photo-1684337399050-0412ebed8005?w=600&h=400&fit=crop',\n  ],\n  sports: [\n    'https://images.unsplash.com/photo-1694124087597-e27496da7e98?w=600&h=400&fit=crop',\n    'https://images.unsplash.com/photo-1706345832298-6d2be382a378?w=600&h=400&fit=crop',\n  ],\n  finance: [\n    'https://images.unsplash.com/photo-1646924095921-ee83d7d69974?w=600&h=400&fit=crop',\n    'https://images.pexels.com/photos/534216/pexels-photo-534216.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop',\n  ],\n  business: [\n    'https://images.unsplash.com/photo-1646924095921-ee83d7d69974?w=600&h=400&fit=crop',\n    'https://images.pexels.com/photos/7876445/pexels-photo-7876445.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop',\n  ],\n  culture: [\n    'https://images.unsplash.com/photo-1764670085286-55cd79507a72?w=600&h=400&fit=crop',\n    'https://images.pexels.com/photos/18198595/pexels-photo-18198595.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop',\n  ],\n  afrobeats: [\n    'https://images.unsplash.com/photo-1764670085286-55cd79507a72?w=600&h=400&fit=crop',\n    'https://images.unsplash.com/photo-1676156787191-c055f62e9771?w=600&h=400&fit=crop',\n  ],\n  health: [\n    'https://images.pexels.com/photos/34185205/pexels-photo-34185205.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop',\n    'https://images.pexels.com/photos/5593681/pexels-photo-5593681.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop',\n  ],\n  environment: [\n    'https://images.unsplash.com/photo-1647891684895-15c5b831fde1?w=600&h=400&fit=crop',\n    'https://images.unsplash.com/photo-1759252973882-d33c8a3b3b2e?w=600&h=400&fit=crop',\n  ],\n  education: [\n    'https://images.unsplash.com/photo-1528901166007-3784c7dd3653?w=600&h=400&fit=crop',\n    'https://images.pexels.com/photos/9432947/pexels-photo-9432947.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop',\n  ],\n  general: [\n    'https://images.unsplash.com/photo-1647891684895-15c5b831fde1?w=600&h=400&fit=crop',\n    'https://images.unsplash.com/photo-1646924095921-ee83d7d69974?w=600&h=400&fit=crop',\n  ],\n};\n\n// Stable hash from string to pick consistent image per article\nconst hashCode = (str) => {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = ((hash << 5) - hash) + str.charCodeAt(i);\n    hash |= 0;\n  }\n  return Math.abs(hash);\n};\n\nexport const getCategoryImage = (category, articleId = '') => {\n  const normalizedCategory = (category || 'general').toLowerCase().replace(/[#\\s]/g, '');\n  \n  // Find matching category\n  const matchedKey = Object.keys(CATEGORY_IMAGES).find(key => \n    normalizedCategory.includes(key)\n  ) || 'general';\n  \n  const images = CATEGORY_IMAGES[matchedKey];\n  const index = hashCode(articleId || normalizedCategory) % images.length;\n  return images[index];\n};\n\nexport const getCategoryColor = (category) => {\n  const colors = {\n    politics: 'from-red-900/60 to-red-950/80',\n    tech: 'from-cyan-900/60 to-cyan-950/80',\n    sports: 'from-green-900/60 to-green-950/80',\n    finance: 'from-amber-900/60 to-amber-950/80',\n    business: 'from-amber-900/60 to-amber-950/80',\n    culture: 'from-purple-900/60 to-purple-950/80',\n    afrobeats: 'from-pink-900/60 to-pink-950/80',\n    health: 'from-teal-900/60 to-teal-950/80',\n    environment: 'from-emerald-900/60 to-emerald-950/80',\n    education: 'from-blue-900/60 to-blue-950/80',\n    general: 'from-forest/60 to-background-dark/80',\n  };\n  \n  const normalizedCategory = (category || 'general').toLowerCase().replace(/[#\\s]/g, '');\n  const matchedKey = Object.keys(colors).find(key => normalizedCategory.includes(key)) || 'general';\n  return colors[matchedKey];\n};\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { motion } from 'framer-motion';\nimport { PlayCircle, Translate, BookmarkSimple, ArrowDown, Pulse, CloudSun, ShareNetwork, Queue, CloudArrowDown, Broadcast, Lightning } from '@phosphor-icons/react';\nimport { useAudio } from '../contexts/AudioContext';\nimport { useContentSources } from '../contexts/ContentSourcesContext';\nimport { useBookmarks } from '../hooks/useBookmarks';\nimport { useAudioPrefetch } from '../hooks/useAudioPrefetch';\nimport usePullToRefresh from '../hooks/usePullToRefresh';\nimport { TagPill } from '../components/HashtagText';\nimport { FeaturedSkeleton, StreamCardSkeleton } from '../components/Skeleton';\nimport TruthTag from '../components/TruthTag';\nimport { useHapticAlert } from '../components/HapticAlerts';\nimport { getCategoryImage, getCategoryColor } from '../lib/categoryImages';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\n\n// Save article for offline\nconst saveForOffline = async (item) => {\n  try {\n    await fetch(`${API_URL}/api/offline/save`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        story_id: item.id,\n        title: item.title,\n        summary: item.summary || '',\n        narrative: item.narrative || '',\n        source: item.source || '',\n        category: item.category || 'General',\n        image_url: item.image_url || null\n      })\n    });\n    return true;\n  } catch (e) {\n    console.error('Error saving for offline:', e);\n    return false;\n  }\n};\n\nconst containerVariants = {\n  hidden: {},\n  show: { transition: { staggerChildren: 0.08 } },\n};\n\nconst cardVariants = {\n  hidden: { opacity: 0, y: 20 },\n  show: { opacity: 1, y: 0, transition: { duration: 0.4, ease: [0.25, 0.1, 0.25, 1] } },\n};\n\nconst DashboardPage = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const [news, setNews] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [metrics, setMetrics] = useState(null);\n  const [visibleCount, setVisibleCount] = useState(10);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [allLoaded, setAllLoaded] = useState(false);\n  const [sourceFilter, setSourceFilter] = useState('all'); // 'all' | 'rss' | 'aggregators'\n  const [, setUserAggPrefs] = useState(null);\n  const { playTrack, addToQueue } = useAudio();\n  const { getTotalSources, getLocalSources, getInternationalSources, getContinentalSources, getSourcesByRegion, getHealthForSource, getHealthSummary, refreshHealth } = useContentSources();\n  const { isBookmarked, addBookmark, removeBookmark } = useBookmarks();\n  const { showAlert } = useHapticAlert();\n  const { user } = useAuth();\n  const [sortOrder, setSortOrder] = useState('latest');\n  const [userInterests, setUserInterests] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [recoProfile, setRecoProfile] = useState(null);\n  const [, setRecoLoading] = useState(false);\n\n  // Prefetch audio for the first 3 articles in idle time\n  useAudioPrefetch(news.slice(0, 3), 'nova', 3);\n  const [showTelemetry, setShowTelemetry] = useState(false);\n\n  const fetchDashboardData = React.useCallback(async () => {\n    const settings = await fetch(`${API_URL}/api/settings/guest`).then(r => r.json());\n    const ms = settings.aggregator_mediastack !== false;\n    const nd = settings.aggregator_newsdata !== false;\n    setUserAggPrefs({ mediastack: ms, newsdata: nd });\n    if (settings.interests?.length) setUserInterests(settings.interests);\n\n    const enabledSources = [ms && 'mediastack', nd && 'newsdata'].filter(Boolean).join(',');\n    const aggParam = enabledSources ? `&aggregator_sources=${enabledSources}` : '';\n\n    const [newsData, metricsData] = await Promise.all([\n      fetch(`${API_URL}/api/news?limit=50&include_aggregators=true${aggParam}`).then(r => r.json()),\n      fetch(`${API_URL}/api/metrics`).then(r => r.json()).catch(() => null),\n    ]);\n\n    const seen = new Map();\n    const deduped = [];\n    for (const item of newsData) {\n      const key = (item.title || '').toLowerCase().trim().slice(0, 60);\n      if (!key) { deduped.push(item); continue; }\n      const existing = seen.get(key);\n      if (!existing) {\n        seen.set(key, item);\n        deduped.push(item);\n      } else if (item.aggregator && !existing.aggregator) {\n        // skip\n      } else if (!item.aggregator && existing.aggregator) {\n        const idx = deduped.indexOf(existing);\n        if (idx !== -1) deduped[idx] = item;\n        seen.set(key, item);\n      }\n    }\n    setNews(deduped);\n    setMetrics(metricsData);\n    if (deduped.length <= 10) setAllLoaded(true);\n  }, []);\n\n  useEffect(() => {\n    fetchDashboardData().catch(() => {}).finally(() => setLoading(false));\n  }, [fetchDashboardData]);\n\n  // Fetch recommendations in parallel (non-blocking)\n  useEffect(() => {\n    const userId = user?.id || 'guest';\n    setRecoLoading(true);\n    fetch(`${API_URL}/api/recommendations/${userId}?limit=6`)\n      .then(r => r.json())\n      .then(data => {\n        setRecommendations(data.recommendations || []);\n        setRecoProfile(data.profile_summary || null);\n      })\n      .catch(() => {})\n      .finally(() => setRecoLoading(false));\n  }, [user?.id]);\n\n  // Pull-to-refresh\n  const { containerRef, pulling, refreshing, pullDistance, handlers: pullHandlers } = usePullToRefresh(\n    fetchDashboardData,\n    { threshold: 70 }\n  );\n\n  const featured = news[0];\n  const filteredNews = news.slice(1).filter(item => {\n    if (sourceFilter === 'rss') return !item.aggregator;\n    if (sourceFilter === 'aggregators') return !!item.aggregator;\n    return true;\n  }).sort((a, b) => {\n    // If user has interests, boost matching stories to the top\n    if (userInterests.length > 0) {\n      const aCat = (a.category || '').toLowerCase();\n      const bCat = (b.category || '').toLowerCase();\n      const aMatch = userInterests.includes(aCat) ? 1 : 0;\n      const bMatch = userInterests.includes(bCat) ? 1 : 0;\n      if (aMatch !== bMatch) return bMatch - aMatch;\n    }\n    if (sortOrder === 'oldest') return new Date(a.published || 0) - new Date(b.published || 0);\n    return new Date(b.published || 0) - new Date(a.published || 0);\n  });\n  const stream = filteredNews.slice(0, visibleCount);\n\n  const loadMore = () => {\n    setLoadingMore(true);\n    setTimeout(() => {\n      const next = visibleCount + 10;\n      setVisibleCount(next);\n      if (next + 1 >= news.length) setAllLoaded(true);\n      setLoadingMore(false);\n    }, 400);\n  };\n\n  const toggleBookmark = (e, item) => {\n    e.stopPropagation();\n    if (isBookmarked(item.id)) {\n      removeBookmark(item.id);\n      showAlert('BOOKMARK_REMOVED');\n    } else {\n      addBookmark(item);\n      showAlert('BOOKMARK_ADDED');\n    }\n  };\n\n  const shareStory = async (e, item) => {\n    e.stopPropagation();\n    const shareUrl = `${window.location.origin}/news/${item.id}`;\n    const shareText = `${item.title} - Listen on NARVO`;\n    \n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: item.title,\n          text: shareText,\n          url: shareUrl,\n        });\n        showAlert({\n          type: 'success',\n          title: 'SHARED_SUCCESS',\n          message: 'Story shared successfully.',\n          code: 'SHARE_OK',\n        });\n      } catch (err) {\n        if (err.name !== 'AbortError') {\n          // Fallback to clipboard\n          await navigator.clipboard.writeText(shareUrl);\n          showAlert({\n            type: 'sync',\n            title: 'LINK_COPIED',\n            message: 'Story link copied to clipboard.',\n            code: 'CLIP_OK',\n          });\n        }\n      }\n    } else {\n      // Fallback for browsers without Web Share API\n      await navigator.clipboard.writeText(shareUrl);\n      showAlert({\n        type: 'sync',\n        title: 'LINK_COPIED',\n        message: 'Story link copied to clipboard.',\n        code: 'CLIP_OK',\n      });\n    }\n  };\n\n  const handleSaveOffline = async (e, item) => {\n    e.stopPropagation();\n    const success = await saveForOffline(item);\n    if (success) {\n      showAlert({\n        type: 'success',\n        title: 'SAVED_OFFLINE',\n        message: `\"${item.title?.slice(0, 30)}...\" saved for offline reading.`,\n        code: 'OFFLINE_OK',\n      });\n    } else {\n      showAlert({\n        type: 'warning',\n        title: 'SAVE_FAILED',\n        message: 'Could not save article for offline.',\n        code: 'OFFLINE_ERR',\n      });\n    }\n  };\n\n  const timeAgo = (idx) => {\n    const times = ['1HR_AGO', '2HR_AGO', '3HR_AGO', '4HR_AGO', '6HR_AGO', '8HR_AGO', '12HR_AGO'];\n    return times[idx % times.length];\n  };\n\n  return (\n    <div className=\"flex-1 flex min-h-0 min-w-0 overflow-hidden\">\n      {/* Primary Feed */}\n      <main className=\"flex-1 flex flex-col bg-background-dark min-w-0 min-h-0 overflow-hidden\">\n        {/* Sub-Header */}\n        <div className=\"h-10 md:h-14 flex items-center justify-between px-2 md:px-8 bg-surface/30 narvo-border-b shrink-0 overflow-hidden\">\n          <div className=\"flex items-center gap-1 md:gap-3 min-w-0\">\n            <span className=\"mono-ui text-[9px] md:text-xs text-primary font-bold shrink-0 hidden xs:inline\">LGS_01</span>\n            <div className=\"w-1.5 h-1.5 md:w-2 md:h-2 bg-primary animate-pulse shrink-0\" />\n          </div>\n          <div className=\"flex items-center gap-1 md:gap-2 shrink-0 ml-auto\">\n            {/* Source filter tabs */}\n            <div className=\"flex items-center border border-forest/30 p-0.5\" data-testid=\"source-filter-toggle\">\n              {['all', 'rss', 'aggregators'].map(f => (\n                <button\n                  key={f}\n                  onClick={() => setSourceFilter(f)}\n                  className={`px-1.5 md:px-2.5 py-0.5 md:py-1 mono-ui text-[9px] md:text-[11px] font-bold transition-colors ${sourceFilter === f ? 'bg-primary text-background-dark' : 'text-forest hover:text-content'}`}\n                  data-testid={`filter-${f}`}\n                >\n                  {f === 'all' ? 'ALL' : f === 'rss' ? 'RSS' : 'AGG'}\n                </button>\n              ))}\n            </div>\n            {/* Sort toggle */}\n            <button\n              onClick={() => setSortOrder(s => s === 'latest' ? 'oldest' : 'latest')}\n              className=\"mono-ui text-[10px] md:text-[11px] text-primary border border-primary px-1.5 md:px-2.5 py-0.5 md:py-1 hover:bg-primary hover:text-background-dark transition-colors font-bold\"\n              data-testid=\"sort-btn\"\n            >\n              {sortOrder === 'latest' ? 'NEW' : 'OLD'}\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Telemetry Drawer (hidden on xl where sidebar shows) */}\n        <div className=\"xl:hidden overflow-hidden\">\n          <button\n            onClick={() => setShowTelemetry(v => !v)}\n            className=\"w-full h-9 flex items-center justify-between px-4 bg-surface/20 narvo-border-b\"\n            data-testid=\"telemetry-toggle\"\n          >\n            <div className=\"flex items-center gap-2\">\n              <Broadcast weight=\"fill\" className=\"w-3 h-3 text-primary\" />\n              <span className=\"mono-ui text-[10px] text-forest font-bold tracking-widest\">TELEMETRY</span>\n              <span className=\"mono-ui text-[9px] text-primary font-bold\">{getTotalSources()} FEEDS</span>\n            </div>\n            <span className={`mono-ui text-[10px] text-forest transition-transform ${showTelemetry ? 'rotate-90' : ''}`}>&#9654;</span>\n          </button>\n          {showTelemetry && (\n            <div className=\"bg-surface/10 narvo-border-b px-4 py-3 space-y-3 max-h-60 overflow-y-auto custom-scroll\">\n              {/* Trending */}\n              <div className=\"flex flex-wrap gap-1\">\n                {['#ECONOMY', '#SOLAR_GRID', '#AI_SYNTH', '#ENERGY', '#TECH'].map(tag => (\n                  <span key={tag} className=\"narvo-border px-1.5 py-0.5 mono-ui text-[9px] text-content\">{tag}</span>\n                ))}\n              </div>\n              {/* Source Matrix Mini */}\n              <div>\n                <div className=\"flex items-center justify-between mb-1\">\n                  <span className=\"mono-ui text-[10px] text-forest font-bold\">SOURCE_MATRIX</span>\n                  <span className=\"mono-ui text-[9px] text-primary font-bold\">{getTotalSources()} FEEDS</span>\n                </div>\n                {(() => {\n                  const hs = getHealthSummary();\n                  const total = hs?.total || getTotalSources() || 1;\n                  const g = hs?.green || 0, a = hs?.amber || 0, r = hs?.red || 0;\n                  return (\n                    <div className=\"flex h-1.5 w-full gap-px mb-1\">\n                      {g > 0 && <div className=\"bg-emerald-500\" style={{ width: `${(g / total) * 100}%` }} />}\n                      {a > 0 && <div className=\"bg-amber-500\" style={{ width: `${(a / total) * 100}%` }} />}\n                      {r > 0 && <div className=\"bg-red-500\" style={{ width: `${(r / total) * 100}%` }} />}\n                    </div>\n                  );\n                })()}\n                <div className=\"flex items-center gap-3 mono-ui text-[9px]\">\n                  <span className=\"text-forest\">LOCAL: {getLocalSources()}</span>\n                  <span className=\"text-forest\">CONTINENTAL: {getContinentalSources()}</span>\n                  <span className=\"text-forest\">INTL: {getInternationalSources()}</span>\n                </div>\n              </div>\n              {/* Node Health Mini */}\n              {metrics && (\n                <div className=\"flex items-center gap-3 mono-ui text-[9px] text-forest\">\n                  <span>ARTICLES: <span className=\"text-primary\">{metrics.totalArticles || 0}</span></span>\n                  <span>RSS: <span className=\"text-primary\">{metrics.rssFeeds || 0}</span></span>\n                  <span>PODCASTS: <span className=\"text-primary\">{metrics.totalPodcasts || 0}</span></span>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Feed Content */}\n        <div\n          ref={containerRef}\n          className=\"flex-1 overflow-y-auto overflow-x-hidden custom-scroll p-4 md:p-8 pb-32 md:pb-8 relative\"\n          data-testid=\"news-feed\"\n          {...pullHandlers}\n        >\n          {/* Pull-to-refresh indicator (mobile) */}\n          {(pulling || refreshing) && (\n            <div\n              className=\"md:hidden flex items-center justify-center py-3 transition-all\"\n              style={{ height: pulling ? pullDistance : refreshing ? 40 : 0, overflow: 'hidden' }}\n            >\n              <div className={`w-5 h-5 border-2 border-[rgb(var(--color-primary))] border-t-transparent ${refreshing ? 'animate-spin' : ''}`}\n                style={{ transform: pulling ? `rotate(${pullDistance * 3}deg)` : undefined, borderRadius: '50%' }}\n              />\n              <span className=\"ml-2 font-mono text-[11px] text-[rgb(var(--color-primary))]\">\n                {refreshing ? 'REFRESHING...' : 'PULL TO REFRESH'}\n              </span>\n            </div>\n          )}\n          <div className=\"max-w-4xl mx-auto flex flex-col gap-8 md:gap-12\">\n            {loading ? (\n              <>\n                <div>\n                  <div className=\"h-3 w-32 bg-forest/10 animate-pulse mb-4\" />\n                  <FeaturedSkeleton />\n                </div>\n                <div>\n                  <div className=\"h-3 w-40 bg-forest/10 animate-pulse mb-4\" />\n                  <div className=\"narvo-border bg-surface/20 divide-y divide-forest/10\">\n                    {Array.from({ length: 5 }).map((_, i) => <StreamCardSkeleton key={i} />)}\n                  </div>\n                </div>\n              </>\n            ) : (\n              <>\n                {/* Featured Transmission */}\n                {featured && (\n                  <motion.section\n                    variants={cardVariants}\n                    initial=\"hidden\"\n                    animate=\"show\"\n                  >\n                    <span className=\"mono-ui text-[12px] md:text-xs text-primary block mb-4 font-bold tracking-[0.2em]\">{'//'} {t('dashboard.featured_transmission')}</span>\n                    <article\n                      className=\"narvo-border bg-surface/50 group relative overflow-hidden flex flex-col md:flex-row min-h-[280px] md:min-h-[320px] cursor-pointer\"\n                      onClick={() => navigate(`/news/${featured.id}`)}\n                      data-testid=\"featured-card\"\n                    >\n                      <div className=\"absolute top-0 left-0 w-1 h-full bg-primary opacity-0 group-hover:opacity-100 transition-opacity\" />\n                      <div className=\"md:w-1/2 relative bg-background-dark overflow-hidden min-h-[180px] md:min-h-[200px]\">\n                        <img\n                          alt={featured.title}\n                          className=\"w-full h-full object-cover opacity-60 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700 grayscale hover:grayscale-0 absolute inset-0\"\n                          src={featured.image_url || getCategoryImage(featured.category || featured.tags?.[0], featured.id)}\n                        />\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-background-dark/80 to-transparent\" />\n                        <div className=\"absolute top-4 left-4 flex gap-2\">\n                          <span className=\"bg-primary text-background-dark font-mono text-[11px] md:text-[12px] font-bold px-2 py-0.5 uppercase\">Feature</span>\n                          <TruthTag storyId={featured.id} compact />\n                        </div>\n                      </div>\n                      <div className=\"flex-1 p-4 md:p-8 flex flex-col justify-between overflow-hidden\">\n                        <div>\n                          <span className=\"mono-ui text-[12px] md:text-xs text-forest block mb-2 font-bold tracking-widest\">NARRATIVE_NODE {'//'} {featured.category?.toUpperCase()}</span>\n                          <h2 className=\"font-display text-xl md:text-3xl font-bold uppercase tracking-tight text-content mb-2 md:mb-4 leading-none group-hover:text-primary transition-colors line-clamp-3\">\n                            {featured.title}\n                          </h2>\n                          <p className=\"text-sm md:text-base text-forest font-mono leading-relaxed mb-4 md:mb-6 opacity-80 line-clamp-3\">\n                            {featured.summary}\n                          </p>\n                        </div>\n                        <div className=\"flex gap-3 md:gap-4\">\n                          <button\n                            onClick={(e) => { e.stopPropagation(); playTrack(featured); }}\n                            className=\"flex-1 h-11 md:h-12 bg-primary text-background-dark font-display font-bold text-sm md:text-base uppercase flex items-center justify-center gap-2 md:gap-3 hover:bg-white transition-all\"\n                            data-testid=\"featured-play-btn\"\n                          >\n                            <PlayCircle weight=\"fill\" className=\"w-5 h-5 md:w-6 md:h-6\" />\n                            <span>{t('dashboard.listen_now')}</span>\n                          </button>\n                          <button className=\"w-11 h-11 md:w-12 md:h-12 narvo-border flex items-center justify-center text-primary\" title=\"Translate\" onClick={(e) => e.stopPropagation()}>\n                            <Translate weight=\"bold\" className=\"w-5 h-5\" />\n                          </button>\n                          <button\n                            className=\"w-11 h-11 md:w-12 md:h-12 narvo-border flex items-center justify-center text-forest hover:text-primary transition-colors\"\n                            onClick={(e) => handleSaveOffline(e, featured)}\n                            title=\"Save for Offline\"\n                            data-testid=\"featured-offline-btn\"\n                          >\n                            <CloudArrowDown weight=\"bold\" className=\"w-5 h-5\" />\n                          </button>\n                          <button\n                            className=\"w-11 h-11 md:w-12 md:h-12 narvo-border flex items-center justify-center text-forest hover:text-primary transition-colors\"\n                            onClick={(e) => shareStory(e, featured)}\n                            title=\"Share\"\n                            data-testid=\"featured-share-btn\"\n                          >\n                            <ShareNetwork weight=\"bold\" className=\"w-5 h-5\" />\n                          </button>\n                          <button\n                            className={`w-11 h-11 md:w-12 md:h-12 narvo-border flex items-center justify-center transition-colors ${isBookmarked(featured.id) ? 'text-primary border-primary' : 'text-forest hover:text-primary'}`}\n                            onClick={(e) => toggleBookmark(e, featured)}\n                            data-testid=\"featured-bookmark-btn\"\n                          >\n                            <BookmarkSimple weight={isBookmarked(featured.id) ? 'fill' : 'regular'} className=\"w-5 h-5\" />\n                          </button>\n                        </div>\n                      </div>\n                    </article>\n                  </motion.section>\n                )}\n\n                {/* Recommended For You */}\n                {recommendations.length > 0 && (\n                  <motion.section\n                    variants={containerVariants}\n                    initial=\"hidden\"\n                    animate=\"show\"\n                    data-testid=\"recommendations-section\"\n                  >\n                    <div className=\"flex items-center justify-between border-b border-primary/30 pb-2 mb-3 gap-2\">\n                      <div className=\"flex items-center gap-2 min-w-0 shrink\">\n                        <Lightning weight=\"fill\" className=\"w-3.5 h-3.5 text-primary shrink-0\" />\n                        <span className=\"mono-ui text-[11px] md:text-xs text-primary font-bold tracking-[0.15em] shrink-0\">{'//'} FOR_YOU</span>\n                      </div>\n                      <div className=\"flex items-center gap-2 shrink-0\">\n                        {recoProfile && (\n                          <span className=\"mono-ui text-[9px] md:text-[10px] text-forest/50 uppercase hidden sm:inline\">\n                            {recoProfile.history_count} listens\n                          </span>\n                        )}\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            recommendations.slice(0, 5).forEach((item, i) => {\n                              setTimeout(() => addToQueue(item), i * 100);\n                            });\n                            showAlert({ type: 'success', title: 'PLAYLIST_QUEUED', message: `${Math.min(5, recommendations.length)} recommendations added to queue.`, code: 'PL_OK', duration: 3000 });\n                          }}\n                          className=\"flex items-center gap-1 px-2 py-1 bg-primary text-background-dark mono-ui text-[9px] md:text-[11px] font-bold hover:bg-white transition-colors whitespace-nowrap\"\n                          data-testid=\"play-all-recommendations\"\n                        >\n                          <PlayCircle weight=\"fill\" className=\"w-3 h-3\" />\n                          PLAY_ALL\n                        </button>\n                      </div>\n                    </div>\n\n                    {recoProfile?.top_categories?.length > 0 && (\n                      <div className=\"flex flex-wrap gap-1 mb-3\">\n                        {recoProfile.top_categories.map(cat => (\n                          <span key={cat} className=\"bg-primary/10 text-primary mono-ui text-[9px] px-1.5 py-0.5 border border-primary/20 uppercase\">\n                            {cat}\n                          </span>\n                        ))}\n                        {recoProfile.expanded_topics?.slice(0, 3).map(topic => (\n                          <span key={topic} className=\"bg-forest/10 text-forest mono-ui text-[9px] px-1.5 py-0.5 border border-forest/20\">\n                            {topic}\n                          </span>\n                        ))}\n                      </div>\n                    )}\n\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-3 gap-2 md:gap-3\">\n                      {recommendations.slice(0, 6).map((item) => (\n                        <motion.article\n                          key={item.id}\n                          variants={cardVariants}\n                          className=\"narvo-border bg-surface/30 group cursor-pointer hover:bg-surface/50 hover:border-primary/30 transition-all overflow-hidden\"\n                          onClick={() => navigate(`/news/${item.id}`)}\n                          data-testid={`reco-card-${item.id}`}\n                        >\n                          <div className=\"h-20 md:h-24 relative overflow-hidden\">\n                            <img\n                              src={item.image_url || getCategoryImage(item.category || item.tags?.[0], item.id)}\n                              alt={item.category}\n                              className=\"w-full h-full object-cover opacity-40 group-hover:opacity-70 grayscale group-hover:grayscale-0 transition-all duration-500\"\n                            />\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-background-dark/90 to-transparent\" />\n                            <div className=\"absolute top-1.5 left-1.5\">\n                              <span className=\"bg-primary/90 text-background-dark mono-ui text-[8px] md:text-[9px] font-bold px-1 py-0.5 uppercase\">{item.category || 'General'}</span>\n                            </div>\n                            <div className=\"absolute bottom-1.5 right-1.5\">\n                              <button\n                                onClick={(e) => { e.stopPropagation(); playTrack(item); }}\n                                className=\"w-7 h-7 bg-primary/90 flex items-center justify-center hover:bg-primary transition-colors\"\n                                data-testid={`reco-play-${item.id}`}\n                              >\n                                <PlayCircle weight=\"fill\" className=\"w-3.5 h-3.5 text-background-dark\" />\n                              </button>\n                            </div>\n                          </div>\n                          <div className=\"p-2 md:p-2.5\">\n                            <h4 className=\"font-display text-[11px] md:text-xs font-bold text-content uppercase tracking-tight leading-tight line-clamp-2 group-hover:text-primary transition-colors\">\n                              {item.title}\n                            </h4>\n                            <div className=\"flex items-center justify-between mt-1\">\n                              <span className=\"mono-ui text-[8px] md:text-[9px] text-forest truncate\">{item.source}</span>\n                              {item.recommendation_score > 0 && (\n                                <span className=\"mono-ui text-[8px] text-primary/60 font-bold shrink-0 ml-1\">{Math.round(item.recommendation_score)}%</span>\n                              )}\n                            </div>\n                          </div>\n                        </motion.article>\n                      ))}\n                    </div>\n                  </motion.section>\n                )}\n\n                {/* Synthesized Streams */}\n                <motion.section\n                  className=\"space-y-4 md:space-y-6\"\n                  variants={containerVariants}\n                  initial=\"hidden\"\n                  animate=\"show\"\n                >\n                  <div className=\"flex items-center justify-between border-b border-forest/30 pb-2\">\n                    <span className=\"mono-ui text-[12px] md:text-xs text-forest font-bold tracking-[0.2em]\">{'//'} {t('dashboard.synthesized_streams')}</span>\n                    <span className=\"mono-ui text-[11px] md:text-[12px] text-forest/50 uppercase\">Nodes: {String(stream.length).padStart(2, '0')}</span>\n                  </div>\n\n                  <motion.div variants={cardVariants} className=\"narvo-border bg-surface/20 divide-y divide-forest/10\">\n                    {stream.map((item, idx) => (\n                      <motion.article\n                        key={item.id}\n                        variants={cardVariants}\n                        className=\"p-4 md:p-6 group hover:bg-surface/40 transition-colors cursor-pointer flex gap-4\"\n                        onClick={() => navigate(`/news/${item.id}`)}\n                        data-testid={`stream-card-${item.id}`}\n                      >\n                        {/* Category thumbnail */}\n                        <div className=\"hidden sm:block w-20 h-20 md:w-24 md:h-24 shrink-0 narvo-border overflow-hidden relative\">\n                          <img\n                            src={item.image_url || getCategoryImage(item.category || item.tags?.[0], item.id)}\n                            alt={item.category}\n                            className=\"w-full h-full object-cover opacity-50 group-hover:opacity-80 grayscale group-hover:grayscale-0 transition-all duration-500\"\n                          />\n                          <div className={`absolute inset-0 bg-gradient-to-t ${getCategoryColor(item.category || item.tags?.[0])} mix-blend-multiply`} />\n                        </div>\n                        <div className=\"flex-1 flex flex-col gap-2 md:gap-3 min-w-0\">\n                          <div className=\"flex flex-wrap justify-between items-start gap-2\">\n                            <div className=\"flex items-center gap-2 md:gap-3\">\n                              <span className=\"bg-forest/20 text-primary mono-ui text-[11px] md:text-[12px] px-1.5 md:px-2 py-0.5 border border-forest/30\">SOURCE:{item.source?.toUpperCase().replace(/\\s/g, '_').slice(0, 15)}</span>\n                              {item.aggregator && (\n                                <span className=\"bg-primary/10 text-primary mono-ui text-[10px] px-1.5 py-0.5 border border-primary/30\" data-testid={`aggregator-badge-${item.id}`}>\n                                  {item.aggregator === 'mediastack' ? 'MEDIASTACK' : 'NEWSDATA'}\n                                </span>\n                              )}\n                              <span className=\"mono-ui text-[11px] md:text-[12px] text-forest/50\">{timeAgo(idx)}</span>\n                              <TruthTag storyId={item.id} compact />\n                            </div>\n                            <div className=\"flex gap-1.5 md:gap-2\">\n                              {!item.tags?.length && <TagPill tag={item.category || 'GENERAL'} className=\"text-[10px] md:text-[11px] border-forest/20 px-1 md:px-1.5\" />}\n                              {item.tags?.slice(0, 2).map((tag, i) => (\n                                <TagPill key={i} tag={tag} className=\"text-[10px] md:text-[11px] border-forest/20 px-1 md:px-1.5\" />\n                              ))}\n                            </div>\n                          </div>\n                          <h3 className=\"font-display text-lg md:text-xl font-bold uppercase tracking-tight text-content group-hover:text-primary transition-colors leading-tight\">\n                            {item.title}\n                          </h3>\n                          <p className=\"text-sm md:text-base text-forest font-mono leading-relaxed opacity-70 line-clamp-2\">\n                            {item.summary}\n                          </p>\n                          <div className=\"flex items-center gap-4 md:gap-6 pt-1\">\n                            <button\n                              onClick={(e) => { e.stopPropagation(); playTrack(item); }}\n                              className=\"mono-ui text-[12px] md:text-xs text-primary flex items-center gap-2 hover:text-content transition-colors\"\n                              data-testid={`play-btn-${item.id}`}\n                            >\n                              <Pulse weight=\"bold\" className=\"w-4 h-4 text-forest\" />\n                              <span>GENERATE_AUDIO</span>\n                            </button>\n                            <div className=\"flex-1 h-[1px] bg-forest/10\" />\n                            <button\n                              onClick={(e) => { e.stopPropagation(); addToQueue(item); showAlert({ type: 'sync', title: 'QUEUE_UPDATED', message: `Added to queue: ${item.title?.slice(0, 40)}...`, code: 'Q_ADD', duration: 2000 }); }}\n                              className=\"text-forest hover:text-primary transition-colors\"\n                              title=\"Add to Queue\"\n                              data-testid={`queue-btn-${item.id}`}\n                            >\n                              <Queue weight=\"bold\" className=\"w-4 h-4\" />\n                            </button>\n                            <button\n                              onClick={(e) => handleSaveOffline(e, item)}\n                              className=\"text-forest hover:text-primary transition-colors\"\n                              title=\"Save for Offline\"\n                              data-testid={`offline-btn-${item.id}`}\n                            >\n                              <CloudArrowDown weight=\"bold\" className=\"w-4 h-4\" />\n                            </button>\n                            <button\n                              onClick={(e) => shareStory(e, item)}\n                              className=\"text-forest hover:text-primary transition-colors\"\n                              title=\"Share\"\n                              data-testid={`share-btn-${item.id}`}\n                            >\n                              <ShareNetwork weight=\"bold\" className=\"w-4 h-4\" />\n                            </button>\n                            <button\n                              onClick={(e) => toggleBookmark(e, item)}\n                              className={`transition-colors ${isBookmarked(item.id) ? 'text-primary' : 'text-forest hover:text-primary'}`}\n                              data-testid={`bookmark-btn-${item.id}`}\n                            >\n                              <BookmarkSimple weight={isBookmarked(item.id) ? 'fill' : 'regular'} className=\"w-4 h-4\" />\n                            </button>\n                          </div>\n                        </div>\n                      </motion.article>\n                    ))}\n                  </motion.div>\n\n                  {!allLoaded && (\n                  <button\n                    onClick={loadMore}\n                    disabled={loadingMore}\n                    className=\"w-full h-11 md:h-12 narvo-border bg-surface/10 mono-ui text-[12px] md:text-xs text-forest hover:bg-surface hover:text-primary transition-all flex items-center justify-center gap-3 disabled:opacity-50\"\n                    data-testid=\"load-more-btn\"\n                  >\n                    {loadingMore ? (\n                      <div className=\"w-4 h-4 border-2 border-forest border-t-transparent animate-spin\" />\n                    ) : (\n                      <ArrowDown weight=\"bold\" className=\"w-4 h-4\" />\n                    )}\n                    <span>{loadingMore ? 'LOADING...' : `LOAD_MORE // ${Math.max(0, filteredNews.length - visibleCount)} REMAINING`}</span>\n                  </button>\n                  )}\n                  </motion.section>\n              </>\n            )}\n          </div>\n        </div>\n      </main>\n\n      {/* Right Sidebar: Telemetry - hidden on mobile/tablet */}\n      <aside className=\"w-72 xl:w-80 hidden xl:flex flex-col narvo-border-l bg-background-dark shrink-0\" data-testid=\"telemetry-sidebar\">\n        <div className=\"h-16 flex items-center px-5 narvo-border-b bg-surface/10\">\n          <span className=\"mono-ui text-xs font-bold text-forest tracking-widest uppercase flex items-center gap-3\">\n            <Pulse weight=\"bold\" className=\"text-primary w-4 h-4\" /> {t('dashboard.telemetry')}\n          </span>\n        </div>\n        <div className=\"flex-1 overflow-y-auto p-5 space-y-6 custom-scroll\">\n          {/* Weather */}\n          <div className=\"narvo-border bg-surface/20 p-4 relative overflow-hidden\">\n            <div className=\"absolute top-0 right-0 p-2 opacity-20\"><CloudSun weight=\"fill\" className=\"w-8 h-8\" /></div>\n            <span className=\"mono-ui text-[12px] text-forest block mb-3 font-bold tracking-widest\">REGIONAL_ENV</span>\n            <div className=\"flex items-end justify-between\">\n              <div>\n                <span className=\"font-display text-3xl font-bold text-content tracking-tighter\">28°C</span>\n                <span className=\"mono-ui text-[12px] text-forest block mt-1\">LAGOS, NIGERIA</span>\n              </div>\n              <div className=\"text-right\">\n                <span className=\"mono-ui text-[12px] text-primary font-bold\">HUM: 62%</span>\n                <span className=\"mono-ui text-[12px] text-forest block\">WIND: 12km/h</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Trending Tags */}\n          <div>\n            <span className=\"mono-ui text-[12px] text-forest block mb-3 font-bold tracking-widest\">{t('dashboard.trending')}</span>\n            <div className=\"flex flex-wrap gap-1.5\">\n              {['#ECONOMY', '#SOLAR_GRID', '#AI_SYNTH', '#ENERGY', '#TECH'].map(tag => (\n                <span key={tag} className=\"narvo-border px-2 py-1 mono-ui text-[11px] text-content hover:bg-forest hover:text-background-dark cursor-pointer transition-colors\">\n                  {tag}\n                </span>\n              ))}\n            </div>\n          </div>\n\n          {/* Source Breakdown Widget */}\n          <div className=\"narvo-border bg-surface/20 p-4 relative overflow-hidden\" data-testid=\"source-breakdown-widget\">\n            <div className=\"absolute top-0 right-0 p-2 opacity-20\"><Broadcast weight=\"fill\" className=\"w-8 h-8\" /></div>\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"mono-ui text-[12px] text-forest font-bold tracking-widest\">SOURCE_MATRIX</span>\n              <span className=\"mono-ui text-[11px] text-primary font-bold\">{getTotalSources()} FEEDS</span>\n            </div>\n\n            {/* Health summary bar */}\n            {(() => {\n              const hs = getHealthSummary();\n              const total = hs?.total || getTotalSources() || 1;\n              const g = hs?.green || 0;\n              const a = hs?.amber || 0;\n              const r = hs?.red || 0;\n              const u = total - g - a - r;\n              return (\n                <>\n                  <div className=\"flex h-1.5 w-full mb-1 gap-px\" data-testid=\"health-bar\">\n                    {g > 0 && <div className=\"bg-emerald-500 transition-all\" style={{ width: `${(g / total) * 100}%` }} />}\n                    {a > 0 && <div className=\"bg-amber-500 transition-all\" style={{ width: `${(a / total) * 100}%` }} />}\n                    {r > 0 && <div className=\"bg-red-500 transition-all\" style={{ width: `${(r / total) * 100}%` }} />}\n                    {u > 0 && <div className=\"bg-forest/30 transition-all\" style={{ width: `${(u / total) * 100}%` }} />}\n                  </div>\n                  <div className=\"flex items-center gap-3 mb-3 mono-ui text-[10px]\">\n                    <span className=\"flex items-center gap-1 text-emerald-500\"><span className=\"w-1.5 h-1.5 bg-emerald-500 inline-block\" />{g}</span>\n                    <span className=\"flex items-center gap-1 text-amber-500\"><span className=\"w-1.5 h-1.5 bg-amber-500 inline-block\" />{a}</span>\n                    <span className=\"flex items-center gap-1 text-red-500\"><span className=\"w-1.5 h-1.5 bg-red-500 inline-block\" />{r}</span>\n                    {u > 0 && <span className=\"flex items-center gap-1 text-forest/50\"><span className=\"w-1.5 h-1.5 bg-forest/30 inline-block\" />{u}</span>}\n                  </div>\n                </>\n              );\n            })()}\n\n            {/* Region groups */}\n            {[\n              { key: 'local', label: 'LOCAL_NG', count: getLocalSources() },\n              { key: 'continental', label: 'CONTINENTAL_AF', count: getContinentalSources() },\n              { key: 'international', label: 'INTERNATIONAL', count: getInternationalSources() },\n            ].map(region => {\n              const regionSources = getSourcesByRegion(region.key);\n              const regionHealthCounts = regionSources.reduce((acc, src) => {\n                const h = getHealthForSource(src.name);\n                const s = h?.status || 'unknown';\n                acc[s] = (acc[s] || 0) + 1;\n                return acc;\n              }, {});\n              return (\n                <details key={region.key} className=\"group mb-2\" data-testid={`source-region-${region.key}`}>\n                  <summary className=\"flex items-center justify-between cursor-pointer py-1.5 list-none\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className={`w-2 h-2 ${regionHealthCounts.red ? 'bg-red-500' : regionHealthCounts.amber ? 'bg-amber-500' : 'bg-emerald-500'} animate-pulse`} />\n                      <span className=\"mono-ui text-[12px] text-content font-bold\">{region.label}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"mono-ui text-[12px] font-bold text-forest\">{region.count}</span>\n                      <span className=\"mono-ui text-[10px] text-forest group-open:rotate-90 transition-transform\">&#9654;</span>\n                    </div>\n                  </summary>\n                  <div className=\"pl-4 pt-1 pb-1 space-y-0.5\">\n                    {regionSources.map((src, i) => {\n                      const h = getHealthForSource(src.name);\n                      const dotColor = h?.status === 'green' ? 'bg-emerald-500' : h?.status === 'amber' ? 'bg-amber-500' : h?.status === 'red' ? 'bg-red-500' : 'bg-forest/30';\n                      const latency = h?.latency_ms > 0 ? `${h.latency_ms}ms` : '';\n                      return (\n                        <div key={i} className=\"flex items-center gap-1.5 mono-ui text-[10px] text-forest/80\" data-testid={`source-health-${src.name.replace(/\\s/g, '-').toLowerCase()}`}>\n                          <span className={`w-1.5 h-1.5 shrink-0 ${dotColor}`} />\n                          <span className=\"truncate\">{src.name}</span>\n                          {latency && <span className=\"ml-auto text-forest/40 shrink-0\">{latency}</span>}\n                        </div>\n                      );\n                    })}\n                  </div>\n                </details>\n              );\n            })}\n\n            {/* Aggregator APIs */}\n            <div className=\"mt-2 pt-2 border-t border-forest/20\" data-testid=\"aggregator-counts\">\n              <span className=\"mono-ui text-[11px] text-forest font-bold tracking-widest block mb-1.5\">AGGREGATOR_APIs</span>\n              {[\n                { name: 'Mediastack', key: 'mediastack' },\n                { name: 'NewsData.io', key: 'newsdata' },\n              ].map(agg => {\n                const status = metrics?.aggregators?.[agg.key];\n                const configured = status?.configured;\n                const cached = status?.cached_count || 0;\n                return (\n                  <div key={agg.key} className=\"flex items-center justify-between py-0.5 mono-ui text-[10px]\" data-testid={`aggregator-${agg.key}`}>\n                    <div className=\"flex items-center gap-1.5\">\n                      <span className={`w-1.5 h-1.5 ${configured ? 'bg-emerald-500 animate-pulse' : 'bg-red-500'}`} />\n                      <span className=\"text-forest/80\">{agg.name}</span>\n                    </div>\n                    <span className={`font-bold ${cached > 0 ? 'text-primary' : 'text-forest/40'}`}>{cached > 0 ? `${cached} articles` : configured ? 'READY' : 'OFF'}</span>\n                  </div>\n                );\n              })}\n            </div>\n\n            <div className=\"mt-2 pt-2 border-t border-forest/20 flex items-center justify-between\">\n              <span className=\"mono-ui text-[10px] text-primary flex items-center gap-1\">\n                <span className=\"w-1.5 h-1.5 bg-primary animate-pulse\" />\n                LIVE_AGGREGATION\n              </span>\n              <button\n                onClick={() => { refreshHealth(); }}\n                className=\"mono-ui text-[9px] text-forest/50 hover:text-primary transition-colors cursor-pointer\"\n                data-testid=\"refresh-health-btn\"\n              >\n                REFRESH\n              </button>\n            </div>\n          </div>\n\n          {/* Regional Health */}\n          <div>\n            <span className=\"mono-ui text-[12px] text-forest block mb-3 font-bold tracking-widest\">NODE_HEALTH</span>\n            <div className=\"space-y-3\">\n              {[\n                { name: 'LAGOS', pct: 98, color: 'bg-primary' },\n                { name: 'NAIROBI', pct: 84, color: 'bg-forest' },\n                { name: 'ACCRA', pct: 91, color: 'bg-primary' },\n                { name: 'JHB', pct: 76, color: 'bg-forest' },\n              ].map(node => (\n                <div key={node.name} className=\"space-y-1\">\n                  <div className=\"flex justify-between mono-ui text-[12px]\">\n                    <span className=\"text-content\">{node.name}_NODE</span>\n                    <span className={`${node.color === 'bg-primary' ? 'text-primary' : 'text-forest'} font-bold`}>{node.pct}%</span>\n                  </div>\n                  <div className=\"h-1 w-full bg-forest/20\"><div className={`h-full ${node.color}`} style={{ width: `${node.pct}%` }} /></div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Metrics */}\n          <div className=\"grid grid-cols-2 gap-[1px] narvo-border bg-forest\">\n            <div className=\"bg-background-dark p-3 flex flex-col justify-between h-20\">\n              <span className=\"mono-ui text-[11px] text-forest\">LISTENERS</span>\n              <span className=\"font-display text-2xl font-bold text-content tracking-tighter\">{metrics?.total_listeners || '14.2K'}</span>\n            </div>\n            <div className=\"bg-background-dark p-3 flex flex-col justify-between h-20\">\n              <span className=\"mono-ui text-[11px] text-forest\">SOURCES</span>\n              <span className=\"font-display text-2xl font-bold text-primary tracking-tighter\">{metrics?.total_sources || '7'}</span>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"names":["TagPill","_ref2","tag","className","navigate","useNavigate","_jsxs","onClick","e","preventDefault","stopPropagation","concat","encodeURIComponent","toLowerCase","children","toUpperCase","Skeleton","_ref","variant","base","_jsx","FeaturedSkeleton","StreamCardSkeleton","ArticleSkeleton","ListSkeleton","count","Array","from","length","map","_","i","STATUS_MAP","VERIFIED","icon","ShieldCheck","color","bg","border","label","DISPUTED","ShieldWarning","UNVERIFIED","Question","PENDING","CircleNotch","storyId","compact","result","setResult","useState","loading","setLoading","useEffect","fetch","process","then","r","ok","json","data","catch","status","config","Icon","source","confidence","title","weight","API_URL","BOOKMARKS_KEY","useBookmarks","user","useAuth","bookmarks","setBookmarks","getLocalBookmarks","JSON","parse","localStorage","getItem","_unused","saveLocalBookmarks","items","setItem","stringify","fetchBookmarks","useCallback","async","res","id","_unused2","addBookmark","bookmark","story_id","story","summary","category","source_url","saved_at","Date","toISOString","updated","filter","b","method","headers","body","_objectSpread","user_id","console","error","removeBookmark","isBookmarked","some","prefetchedIds","Set","onRefresh","options","arguments","undefined","threshold","disabled","pulling","setPulling","pullDistance","setPullDistance","refreshing","setRefreshing","startY","useRef","containerRef","handleTouchStart","el","current","scrollTop","touches","clientY","handleTouchMove","delta","Math","max","dampened","min","handleTouchEnd","progress","handlers","onTouchStart","onTouchMove","onTouchEnd","CATEGORY_IMAGES","politics","tech","sports","finance","business","culture","afrobeats","health","environment","education","general","getCategoryImage","articleId","normalizedCategory","replace","matchedKey","Object","keys","find","key","includes","images","str","hash","charCodeAt","abs","hashCode","getCategoryColor","colors","containerVariants","hidden","show","transition","staggerChildren","cardVariants","opacity","y","duration","ease","DashboardPage","_featured$tags","_featured$category","_recoProfile$top_cate","_recoProfile$expanded","t","useTranslation","news","setNews","metrics","setMetrics","visibleCount","setVisibleCount","loadingMore","setLoadingMore","allLoaded","setAllLoaded","sourceFilter","setSourceFilter","setUserAggPrefs","playTrack","addToQueue","useAudio","getTotalSources","getLocalSources","getInternationalSources","getContinentalSources","getSourcesByRegion","getHealthForSource","getHealthSummary","refreshHealth","useContentSources","showAlert","useHapticAlert","sortOrder","setSortOrder","userInterests","setUserInterests","recommendations","setRecommendations","recoProfile","setRecoProfile","setRecoLoading","articles","voiceId","limit","controllerRef","toPrefetch","a","has","slice","controller","AbortController","article","signal","aborted","Promise","resolve","window","requestIdleCallback","timeout","setTimeout","text","narrative","voice_id","language","add","prefetch","abort","useAudioPrefetch","showTelemetry","setShowTelemetry","fetchDashboardData","React","_settings$interests","settings","ms","aggregator_mediastack","nd","aggregator_newsdata","mediastack","newsdata","interests","enabledSources","Boolean","join","aggParam","newsData","metricsData","all","seen","Map","deduped","item","trim","push","existing","get","aggregator","idx","indexOf","set","finally","userId","profile_summary","pullHandlers","usePullToRefresh","featured","filteredNews","sort","aCat","bCat","aMatch","bMatch","published","stream","toggleBookmark","shareStory","shareUrl","location","origin","shareText","navigator","share","url","type","message","code","err","name","clipboard","writeText","handleSaveOffline","success","image_url","saveForOffline","_item$title","timeAgo","times","f","s","v","Broadcast","hs","total","g","green","amber","red","style","width","totalArticles","rssFeeds","totalPodcasts","ref","height","overflow","transform","borderRadius","_Fragment","motion","section","variants","initial","animate","alt","src","tags","TruthTag","PlayCircle","Translate","CloudArrowDown","ShareNetwork","BookmarkSimple","Lightning","history_count","forEach","top_categories","cat","expanded_topics","topic","_item$tags","recommendation_score","round","String","padStart","div","_item$tags2","_item$tags3","_item$source","_item$tags4","_item$tags5","Pulse","_item$title2","Queue","loadMore","next","ArrowDown","CloudSun","u","region","regionSources","regionHealthCounts","reduce","acc","h","dotColor","latency","latency_ms","agg","_metrics$aggregators","aggregators","configured","cached","cached_count","pct","node","total_listeners","total_sources"],"sourceRoot":""}