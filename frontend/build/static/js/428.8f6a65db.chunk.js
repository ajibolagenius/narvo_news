"use strict";(self.webpackChunknarvo_frontend=self.webpackChunknarvo_frontend||[]).push([[428],{7302(e,t,a){a.d(t,{Ay:()=>m,Oi:()=>c,_N:()=>i,c$:()=>n,if:()=>r});a(5043);var s=a(579);const l=e=>{let{className:t="",variant:a="rect"}=e;const l="animate-pulse bg-forest/10";return"circle"===a?(0,s.jsx)("div",{className:"".concat(l," rounded-full ").concat(t)}):"text"===a?(0,s.jsx)("div",{className:"".concat(l," h-4 ").concat(t)}):(0,s.jsx)("div",{className:"".concat(l," ").concat(t)})},n=()=>(0,s.jsxs)("div",{className:"narvo-border bg-surface/30 flex flex-col md:flex-row min-h-[320px]",children:[(0,s.jsx)("div",{className:"md:w-1/2 bg-forest/5 min-h-[200px]"}),(0,s.jsxs)("div",{className:"flex-1 p-8 flex flex-col justify-between gap-4",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(l,{variant:"text",className:"w-40 h-3"}),(0,s.jsx)(l,{variant:"text",className:"w-full h-8"}),(0,s.jsx)(l,{variant:"text",className:"w-3/4 h-8"}),(0,s.jsx)(l,{variant:"text",className:"w-full h-4 mt-4"}),(0,s.jsx)(l,{variant:"text",className:"w-2/3 h-4"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l,{className:"flex-1 h-12"}),(0,s.jsx)(l,{className:"w-12 h-12"}),(0,s.jsx)(l,{className:"w-12 h-12"})]})]})]}),c=()=>(0,s.jsxs)("div",{className:"p-6 narvo-border-b",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(l,{variant:"text",className:"w-24 h-4"}),(0,s.jsx)(l,{variant:"text",className:"w-14 h-4"})]}),(0,s.jsx)(l,{variant:"text",className:"w-20 h-4"})]}),(0,s.jsx)(l,{variant:"text",className:"w-full h-6 mb-2"}),(0,s.jsx)(l,{variant:"text",className:"w-3/4 h-6 mb-3"}),(0,s.jsx)(l,{variant:"text",className:"w-full h-4"}),(0,s.jsx)(l,{variant:"text",className:"w-2/3 h-4 mt-1"})]}),r=()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l,{className:"w-20 h-6"}),(0,s.jsx)(l,{className:"w-20 h-6"})]}),(0,s.jsx)(l,{variant:"text",className:"w-full h-12"}),(0,s.jsx)(l,{variant:"text",className:"w-4/5 h-12"}),(0,s.jsxs)("div",{className:"border-l-2 border-forest/20 pl-6 space-y-2",children:[(0,s.jsx)(l,{variant:"text",className:"w-full h-5"}),(0,s.jsx)(l,{variant:"text",className:"w-3/4 h-5"})]}),(0,s.jsx)(l,{className:"w-full h-[400px]"}),(0,s.jsx)(l,{className:"w-full h-16"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(l,{variant:"text",className:"w-full h-4"}),(0,s.jsx)(l,{variant:"text",className:"w-full h-4"}),(0,s.jsx)(l,{variant:"text",className:"w-2/3 h-4"})]})]}),i=e=>{let{count:t=4}=e;return(0,s.jsx)("div",{className:"narvo-border bg-surface/20 divide-y divide-forest/10",children:Array.from({length:t}).map((e,t)=>(0,s.jsx)(c,{},t))})},m=l},1428(e,t,a){a.r(t),a.d(t,{default:()=>g});var s=a(5043),l=a(6930),n=a(4395),c=a(1111),r=a(5892),i=a(6941),m=a(6788),o=a(9379),x=a(6667);const d=new Map([["bold",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,60a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,60Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,124Zm0-112a92.1,92.1,0,0,0-92,92c0,77.36,81.64,135.4,85.12,137.83a12,12,0,0,0,13.76,0,259,259,0,0,0,42.18-39C205.15,170.57,220,136.37,220,104A92.1,92.1,0,0,0,128,12Zm31.3,174.71A249.35,249.35,0,0,1,128,216.89a249.35,249.35,0,0,1-31.3-30.18C80,167.37,60,137.31,60,104a68,68,0,0,1,136,0C196,137.31,176,167.37,159.3,186.71Z"}))],["duotone",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,24a80,80,0,0,0-80,80c0,72,80,128,80,128s80-56,80-128A80,80,0,0,0,128,24Zm0,112a32,32,0,1,1,32-32A32,32,0,0,1,128,136Z",opacity:"0.2"}),s.createElement("path",{d:"M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"}))],["fill",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,16a88.1,88.1,0,0,0-88,88c0,75.3,80,132.17,83.41,134.55a8,8,0,0,0,9.18,0C136,236.17,216,179.3,216,104A88.1,88.1,0,0,0,128,16Zm0,56a32,32,0,1,1-32,32A32,32,0,0,1,128,72Z"}))],["light",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,66a38,38,0,1,0,38,38A38,38,0,0,0,128,66Zm0,64a26,26,0,1,1,26-26A26,26,0,0,1,128,130Zm0-112a86.1,86.1,0,0,0-86,86c0,30.91,14.34,63.74,41.47,94.94a252.32,252.32,0,0,0,41.09,38,6,6,0,0,0,6.88,0,252.32,252.32,0,0,0,41.09-38c27.13-31.2,41.47-64,41.47-94.94A86.1,86.1,0,0,0,128,18Zm0,206.51C113,212.93,54,163.62,54,104a74,74,0,0,1,148,0C202,163.62,143,212.93,128,224.51Z"}))],["regular",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"}))],["thin",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,68a36,36,0,1,0,36,36A36,36,0,0,0,128,68Zm0,64a28,28,0,1,1,28-28A28,28,0,0,1,128,132Zm0-112a84.09,84.09,0,0,0-84,84c0,30.42,14.17,62.79,41,93.62a250,250,0,0,0,40.73,37.66,4,4,0,0,0,4.58,0A250,250,0,0,0,171,197.62c26.81-30.83,41-63.2,41-93.62A84.09,84.09,0,0,0,128,20Zm37.1,172.23A254.62,254.62,0,0,1,128,227a254.62,254.62,0,0,1-37.1-34.81C73.15,171.8,52,139.9,52,104a76,76,0,0,1,152,0C204,139.9,182.85,171.8,165.1,192.23Z"}))]]),p=s.forwardRef((e,t)=>s.createElement(x.A,(0,o.A)((0,o.A)({ref:t},e),{},{weights:d})));p.displayName="MapPinIcon";const h=p;var v=a(6424),f=a(639),u=a(7302),j=a(579);const N="http://localhost:8000",b=e=>{let{title:t,icon:a,loading:s,children:l}=e;return(0,j.jsxs)("div",{className:"narvo-border bg-surface/5 p-5 md:p-8 flex flex-col justify-between min-h-[180px] md:min-h-[220px]",children:[(0,j.jsxs)("div",{className:"flex justify-between items-start",children:[(0,j.jsx)("h3",{className:"mono-ui text-[11px] md:text-[12px] text-forest font-bold tracking-widest",children:t}),(0,j.jsx)(a,{className:"w-4 h-4 md:w-5 md:h-5 text-forest"})]}),s?(0,j.jsx)(u.Ay,{variant:"text",className:"w-24 h-12 mt-4"}):(0,j.jsx)("div",{className:"mt-auto",children:l})]})},g=()=>{var e,t,a,o,x,d,p,g,w;const{user:A}=(0,n.A)(),{t:y}=(0,l.Bd)(),[Z,E]=(0,s.useState)(null),[M,_]=(0,s.useState)([]),[k,C]=(0,s.useState)(!0);(0,s.useEffect)(()=>{Promise.all([fetch("".concat(N,"/api/metrics")).then(e=>e.json()).catch(()=>null),fetch("".concat(N,"/api/system-alerts")).then(e=>e.json()).catch(()=>[])]).then(e=>{let[t,a]=e;E(t),_(a),C(!1)})},[]);const I=Z&&parseInt(Z.network_load)||0;return(0,j.jsx)("main",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scroll bg-background-dark min-h-0","data-testid":"account-page",children:(0,j.jsxs)("div",{className:"p-4 md:p-8 lg:p-10 space-y-6 md:space-y-8 pb-32 md:pb-10",children:[A&&(0,j.jsxs)("div",{className:"narvo-border bg-surface/10 p-4 md:p-8 relative overflow-hidden",children:[(0,j.jsx)("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 blur-3xl pointer-events-none"}),(0,j.jsxs)("div",{className:"relative z-10",children:[(0,j.jsx)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest font-bold tracking-[0.2em] block mb-4",children:"AUTHENTICATED_OPERATOR"}),(0,j.jsxs)("div",{className:"flex items-center gap-4",children:[(0,j.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 narvo-border bg-primary/20 flex items-center justify-center shrink-0",children:(0,j.jsx)("span",{className:"font-display text-primary text-xl md:text-2xl font-bold",children:null===(e=A.email)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase()})}),(0,j.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,j.jsx)("span",{className:"text-content block font-display font-bold text-sm md:text-lg truncate",children:A.email}),(0,j.jsxs)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest block mt-0.5",children:["OPERATOR_ID: ",null===(a=A.id)||void 0===a?void 0:a.slice(0,16),"..."]}),(0,j.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,j.jsx)("span",{className:"px-1.5 py-0.5 bg-primary/20 text-primary mono-ui text-[9px] md:text-[10px] font-bold",children:"PREMIUM"}),(0,j.jsx)("span",{className:"px-1.5 py-0.5 bg-forest/20 text-forest mono-ui text-[9px] md:text-[10px] font-bold",children:"VERIFIED"})]})]})]})]})]}),(0,j.jsxs)("div",{className:"narvo-border relative overflow-hidden",children:[(0,j.jsx)("div",{className:"absolute -top-10 -right-10 opacity-5 pointer-events-none",children:(0,j.jsx)(c.C,{className:"w-48 h-48 md:w-64 md:h-64 text-primary"})}),(0,j.jsxs)("div",{className:"relative z-10 p-4 md:p-8 space-y-4 md:space-y-6",children:[(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[(0,j.jsx)("span",{className:"w-2 h-2 bg-primary animate-pulse"}),(0,j.jsx)("span",{className:"mono-ui text-[11px] md:text-[12px] text-primary font-bold uppercase",children:y("account.stream_active")})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"mono-ui text-[10px] md:text-[11px] text-forest font-bold uppercase tracking-widest mb-1",children:y("account.current_plan")}),(0,j.jsx)("p",{className:"font-display text-3xl md:text-5xl lg:text-6xl font-bold text-content uppercase leading-none",children:y("account.premium_broadcast").split("\n").map((e,t)=>(0,j.jsxs)(s.Fragment,{children:[t>0&&(0,j.jsx)("br",{}),e]},t))})]}),(0,j.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4",children:[(0,j.jsx)("button",{className:"px-4 md:px-6 py-2 bg-transparent border border-white text-content mono-ui text-[11px] md:text-[12px] font-bold hover:bg-primary hover:border-primary hover:text-background-dark transition-all","data-testid":"manage-plan-btn",children:y("account.manage_plan")}),(0,j.jsxs)("button",{className:"px-3 py-2 text-slate-400 mono-ui text-[11px] md:text-[12px] font-bold hover:text-primary transition-colors flex items-center gap-2",children:[(0,j.jsx)(r.i,{className:"w-3.5 h-3.5"}),(0,j.jsx)("span",{children:y("account.view_invoices")})]})]})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{className:"mono-ui text-[11px] md:text-[12px] text-forest font-bold tracking-[0.2em] mb-4",children:"TRANSMISSION_METRICS"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[(0,j.jsxs)(b,{title:y("account.broadcast_hours"),icon:i.M,loading:k,children:[(0,j.jsx)("span",{className:"font-display text-4xl md:text-5xl font-bold text-content block",children:null!==(o=null===Z||void 0===Z?void 0:Z.broadcast_hours)&&void 0!==o?o:0}),(0,j.jsx)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest font-bold mt-1 block",children:"HOURS_GENERATED"}),(0,j.jsx)("div",{className:"w-full h-1 bg-forest/20 mt-4 relative",children:(0,j.jsx)("div",{className:"absolute top-0 left-0 h-full bg-primary",style:{width:"".concat(Math.min(100,10*((null===Z||void 0===Z?void 0:Z.broadcast_hours)||0)),"%")}})})]}),(0,j.jsxs)(b,{title:y("account.signals_processed"),icon:m.C,loading:k,children:[(0,j.jsx)("span",{className:"font-display text-4xl md:text-5xl font-bold text-content block",children:null!==(x=null===Z||void 0===Z?void 0:Z.stories_processed)&&void 0!==x?x:0}),(0,j.jsxs)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest font-bold mt-1 block",children:[null!==(d=null===Z||void 0===Z?void 0:Z.sources_online)&&void 0!==d?d:0,"_SOURCES_ONLINE"]}),(0,j.jsx)("div",{className:"flex items-end gap-1 h-8 mt-4 opacity-40",children:[40,60,30,80,100,50,70].map((e,t)=>(0,j.jsx)("div",{className:"flex-1 ".concat(4===t?"bg-primary":"bg-forest"),style:{height:"".concat(e,"%")}},t))})]}),(0,j.jsxs)(b,{title:"NETWORK_LOAD",icon:h,loading:k,children:[(0,j.jsx)("span",{className:"font-display text-4xl md:text-5xl font-bold text-content block",children:null!==(p=null===Z||void 0===Z?void 0:Z.network_load)&&void 0!==p?p:"0%"}),(0,j.jsxs)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest font-bold mt-1 block",children:["SIGNAL: ",null!==(g=null===Z||void 0===Z?void 0:Z.signal_strength)&&void 0!==g?g:"N/A"]}),(0,j.jsx)("div",{className:"w-full h-1 bg-forest/20 mt-4 relative",children:(0,j.jsx)("div",{className:"absolute top-0 left-0 h-full bg-primary",style:{width:"".concat(I,"%")}})})]})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("h2",{className:"mono-ui text-[11px] md:text-[12px] text-forest font-bold tracking-[0.2em] mb-4 flex items-center gap-2",children:[(0,j.jsx)(v.I,{className:"w-3.5 h-3.5"}),y("account.system_alerts")]}),(0,j.jsx)("div",{className:"space-y-3",children:k?Array.from({length:2}).map((e,t)=>(0,j.jsxs)("div",{className:"p-4 narvo-border",children:[(0,j.jsx)(u.Ay,{variant:"text",className:"w-48 h-4 mb-2"}),(0,j.jsx)(u.Ay,{variant:"text",className:"w-64 h-3"})]},t)):0===M.length?(0,j.jsx)("div",{className:"p-4 narvo-border text-center",children:(0,j.jsx)("span",{className:"mono-ui text-[11px] text-forest",children:"NO_ACTIVE_ALERTS"})}):M.map(e=>(0,j.jsxs)("div",{className:"p-4 md:p-5 narvo-border relative ".concat(e.priority?"bg-primary/5":"border-forest/30 bg-surface/5"),"data-testid":"alert-".concat(e.id),children:[e.priority&&(0,j.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary"}),(0,j.jsx)("p",{className:"mono-ui text-[12px] md:text-[13px] font-bold mb-1.5 ".concat(e.priority?"text-primary":"text-content"),children:e.title}),(0,j.jsx)("p",{className:"mono-ui text-[10px] md:text-[11px] text-forest leading-relaxed",children:e.desc}),e.time&&(0,j.jsx)("p",{className:"mono-ui text-[9px] text-slate-500 mt-2 text-right",children:e.time.includes("T")?new Date(e.time).toLocaleString():e.time})]},e.id))})]}),A&&(0,j.jsxs)("div",{className:"narvo-border-t pt-4 md:pt-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[(0,j.jsx)(f.K,{className:"w-4 h-4 text-forest"}),(0,j.jsx)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest",children:y("account.session_active")})]}),(0,j.jsxs)("span",{className:"mono-ui text-[10px] text-forest/50",children:["LISTENERS: ",null!==(w=null===Z||void 0===Z?void 0:Z.listeners_today)&&void 0!==w?w:"0"]})]})]})})}},6941(e,t,a){a.d(t,{M:()=>i});var s=a(9379),l=a(5043),n=a(6667);const c=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M128,44a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,44Zm0,168a72,72,0,1,1,72-72A72.08,72.08,0,0,1,128,212ZM164.49,99.51a12,12,0,0,1,0,17l-28,28a12,12,0,0,1-17-17l28-28A12,12,0,0,1,164.49,99.51ZM92,16A12,12,0,0,1,104,4h48a12,12,0,0,1,0,24H104A12,12,0,0,1,92,16Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M216,136a88,88,0,1,1-88-88A88,88,0,0,1,216,136Z",opacity:"0.2"}),l.createElement("path",{d:"M128,40a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,40Zm0,176a80,80,0,1,1,80-80A80.09,80.09,0,0,1,128,216ZM173.66,90.34a8,8,0,0,1,0,11.32l-40,40a8,8,0,0,1-11.32-11.32l40-40A8,8,0,0,1,173.66,90.34ZM96,16a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H104A8,8,0,0,1,96,16Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M128,40a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,40Zm45.66,61.66-40,40a8,8,0,0,1-11.32-11.32l40-40a8,8,0,0,1,11.32,11.32ZM96,16a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H104A8,8,0,0,1,96,16Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M128,42a94,94,0,1,0,94,94A94.11,94.11,0,0,0,128,42Zm0,176a82,82,0,1,1,82-82A82.1,82.1,0,0,1,128,218ZM172.24,91.76a6,6,0,0,1,0,8.48l-40,40a6,6,0,1,1-8.48-8.48l40-40A6,6,0,0,1,172.24,91.76ZM98,16a6,6,0,0,1,6-6h48a6,6,0,0,1,0,12H104A6,6,0,0,1,98,16Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M128,40a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,40Zm0,176a80,80,0,1,1,80-80A80.09,80.09,0,0,1,128,216ZM173.66,90.34a8,8,0,0,1,0,11.32l-40,40a8,8,0,0,1-11.32-11.32l40-40A8,8,0,0,1,173.66,90.34ZM96,16a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H104A8,8,0,0,1,96,16Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M128,44a92,92,0,1,0,92,92A92.1,92.1,0,0,0,128,44Zm0,176a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,220ZM170.83,93.17a4,4,0,0,1,0,5.66l-40,40a4,4,0,1,1-5.66-5.66l40-40A4,4,0,0,1,170.83,93.17ZM100,16a4,4,0,0,1,4-4h48a4,4,0,0,1,0,8H104A4,4,0,0,1,100,16Z"}))]]),r=l.forwardRef((e,t)=>l.createElement(n.A,(0,s.A)((0,s.A)({ref:t},e),{},{weights:c})));r.displayName="TimerIcon";const i=r}}]);
//# sourceMappingURL=428.8f6a65db.chunk.js.map