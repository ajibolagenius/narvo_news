{"version":3,"file":"static/js/266.a701255c.chunk.js","mappings":"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","sources":["components/HashtagText.js","components/Skeleton.js","components/TruthTag.js","hooks/useBookmarks.js","pages/NewsDetailPage.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\n\n/**\n * HashtagText — Parses text and renders #hashtags as clickable links.\n * Clicking a hashtag navigates to /search?q={tag}\n * @param {string} text - Text containing #hashtags\n * @param {string} className - Additional classes for the container span\n * @param {string} tagClassName - Classes for individual tag links\n */\nconst HashtagText = ({ text, className = '', tagClassName = '' }) => {\n  const navigate = useNavigate();\n\n  if (!text) return null;\n\n  const parts = text.split(/(#[a-zA-Z0-9_]+)/g);\n\n  return (\n    <span className={className}>\n      {parts.map((part, i) => {\n        if (part.startsWith('#')) {\n          const tag = part.slice(1);\n          return (\n            <button\n              key={i}\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                navigate(`/search?q=${encodeURIComponent(tag)}`);\n              }}\n              className={`text-primary hover:underline cursor-pointer ${tagClassName}`}\n              data-testid={`hashtag-${tag.toLowerCase()}`}\n            >\n              {part}\n            </button>\n          );\n        }\n        return <React.Fragment key={i}>{part}</React.Fragment>;\n      })}\n    </span>\n  );\n};\n\n/**\n * TagPill — Renders a single tag as a clickable pill\n * @param {string} tag - Tag name (without #)\n * @param {string} className - Additional classes\n */\nexport const TagPill = ({ tag, className = '' }) => {\n  const navigate = useNavigate();\n  return (\n    <button\n      onClick={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        navigate(`/search?q=${encodeURIComponent(tag)}`);\n      }}\n      className={`narvo-border px-1.5 py-1 mono-ui text-[10px] text-content hover:bg-primary hover:text-background-dark hover:border-primary cursor-pointer transition-colors ${className}`}\n      data-testid={`hashtag-${tag.toLowerCase()}`}\n    >\n      #{tag.toUpperCase()}\n    </button>\n  );\n};\n\nexport default HashtagText;\n","import React from 'react';\n\nconst Skeleton = ({ className = '', variant = 'rect' }) => {\n  const base = 'animate-pulse bg-forest/10';\n  if (variant === 'circle') return <div className={`${base} rounded-full ${className}`} />;\n  if (variant === 'text') return <div className={`${base} h-4 ${className}`} />;\n  return <div className={`${base} ${className}`} />;\n};\n\nexport const FeaturedSkeleton = () => (\n  <div className=\"narvo-border bg-surface/30 flex flex-col md:flex-row min-h-[320px]\">\n    <div className=\"md:w-1/2 bg-forest/5 min-h-[200px]\" />\n    <div className=\"flex-1 p-8 flex flex-col justify-between gap-4\">\n      <div className=\"space-y-4\">\n        <Skeleton variant=\"text\" className=\"w-40 h-3\" />\n        <Skeleton variant=\"text\" className=\"w-full h-8\" />\n        <Skeleton variant=\"text\" className=\"w-3/4 h-8\" />\n        <Skeleton variant=\"text\" className=\"w-full h-4 mt-4\" />\n        <Skeleton variant=\"text\" className=\"w-2/3 h-4\" />\n      </div>\n      <div className=\"flex gap-4\">\n        <Skeleton className=\"flex-1 h-12\" />\n        <Skeleton className=\"w-12 h-12\" />\n        <Skeleton className=\"w-12 h-12\" />\n      </div>\n    </div>\n  </div>\n);\n\nexport const StreamCardSkeleton = () => (\n  <div className=\"p-6 narvo-border-b\">\n    <div className=\"flex justify-between mb-3\">\n      <div className=\"flex gap-3\"><Skeleton variant=\"text\" className=\"w-24 h-4\" /><Skeleton variant=\"text\" className=\"w-14 h-4\" /></div>\n      <Skeleton variant=\"text\" className=\"w-20 h-4\" />\n    </div>\n    <Skeleton variant=\"text\" className=\"w-full h-6 mb-2\" />\n    <Skeleton variant=\"text\" className=\"w-3/4 h-6 mb-3\" />\n    <Skeleton variant=\"text\" className=\"w-full h-4\" />\n    <Skeleton variant=\"text\" className=\"w-2/3 h-4 mt-1\" />\n  </div>\n);\n\nexport const ArticleSkeleton = () => (\n  <div className=\"space-y-6\">\n    <div className=\"flex gap-2\"><Skeleton className=\"w-20 h-6\" /><Skeleton className=\"w-20 h-6\" /></div>\n    <Skeleton variant=\"text\" className=\"w-full h-12\" />\n    <Skeleton variant=\"text\" className=\"w-4/5 h-12\" />\n    <div className=\"border-l-2 border-forest/20 pl-6 space-y-2\">\n      <Skeleton variant=\"text\" className=\"w-full h-5\" />\n      <Skeleton variant=\"text\" className=\"w-3/4 h-5\" />\n    </div>\n    <Skeleton className=\"w-full h-[400px]\" />\n    <Skeleton className=\"w-full h-16\" />\n    <div className=\"space-y-3\">\n      <Skeleton variant=\"text\" className=\"w-full h-4\" />\n      <Skeleton variant=\"text\" className=\"w-full h-4\" />\n      <Skeleton variant=\"text\" className=\"w-2/3 h-4\" />\n    </div>\n  </div>\n);\n\nexport const ListSkeleton = ({ count = 4 }) => (\n  <div className=\"narvo-border bg-surface/20 divide-y divide-forest/10\">\n    {Array.from({ length: count }).map((_, i) => <StreamCardSkeleton key={i} />)}\n  </div>\n);\n\nexport default Skeleton;\n","import React, { useState, useEffect } from 'react';\nimport { ShieldCheck, ShieldWarning, Question, CircleNotch } from '@phosphor-icons/react';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\n\nconst STATUS_MAP = {\n  VERIFIED: { icon: ShieldCheck, color: 'text-green-400', bg: 'bg-green-400/10', border: 'border-green-400/30', label: 'VERIFIED' },\n  DISPUTED: { icon: ShieldWarning, color: 'text-red-400', bg: 'bg-red-400/10', border: 'border-red-400/30', label: 'DISPUTED' },\n  UNVERIFIED: { icon: Question, color: 'text-yellow-400', bg: 'bg-yellow-400/10', border: 'border-yellow-400/30', label: 'UNVERIFIED' },\n  PENDING: { icon: CircleNotch, color: 'text-forest', bg: 'bg-forest/10', border: 'border-forest/30', label: 'CHECKING...' },\n};\n\nconst TruthTag = ({ storyId, compact = false }) => {\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!storyId) { setLoading(false); return; }\n    fetch(`${API_URL}/api/factcheck/story/${storyId}`)\n      .then(r => r.ok ? r.json() : null)\n      .then(data => {\n        if (data) setResult(data);\n        setLoading(false);\n      })\n      .catch(() => setLoading(false));\n  }, [storyId]);\n\n  if (loading) {\n    return (\n      <span className=\"inline-flex items-center gap-1 px-1.5 py-0.5 mono-ui text-[9px] md:text-[10px] text-forest border border-forest/30 font-bold\">\n        <CircleNotch className=\"w-3 h-3 animate-spin\" />\n        {!compact && 'VERIFYING...'}\n      </span>\n    );\n  }\n\n  const status = result?.status || 'UNVERIFIED';\n  const config = STATUS_MAP[status] || STATUS_MAP.UNVERIFIED;\n  const Icon = config.icon;\n  const source = result?.source || 'UNKNOWN';\n  const confidence = result?.confidence || 0;\n\n  if (compact) {\n    return (\n      <span\n        className={`inline-flex items-center gap-1 px-1.5 py-0.5 mono-ui text-[9px] font-bold ${config.color} ${config.bg} ${config.border} border`}\n        data-testid={`truth-tag-${storyId}`}\n        title={`${config.label} (${confidence}%) — ${source}`}\n      >\n        <Icon className=\"w-3 h-3\" weight={status === 'PENDING' ? 'regular' : 'bold'} />\n        {config.label}\n      </span>\n    );\n  }\n\n  return (\n    <div\n      className={`flex items-center gap-2 p-2 ${config.bg} border ${config.border}`}\n      data-testid={`truth-tag-${storyId}`}\n    >\n      <Icon className={`w-4 h-4 ${config.color}`} weight={status === 'PENDING' ? 'regular' : 'bold'} />\n      <div className=\"flex flex-col gap-0.5 min-w-0\">\n        <div className=\"flex items-center gap-2\">\n          <span className={`mono-ui text-[11px] font-bold ${config.color}`}>{config.label}</span>\n          <span className=\"mono-ui text-[9px] text-forest/60\">{confidence}%</span>\n        </div>\n        <span className=\"mono-ui text-[9px] text-forest truncate\">{source}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default TruthTag;\n","import { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\nconst BOOKMARKS_KEY = 'narvo_bookmarks';\n\nexport const useBookmarks = () => {\n  const { user } = useAuth();\n  const [bookmarks, setBookmarks] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const getLocalBookmarks = () => {\n    try {\n      return JSON.parse(localStorage.getItem(BOOKMARKS_KEY) || '[]');\n    } catch { return []; }\n  };\n\n  const saveLocalBookmarks = (items) => {\n    localStorage.setItem(BOOKMARKS_KEY, JSON.stringify(items));\n  };\n\n  const fetchBookmarks = useCallback(async () => {\n    if (!user) {\n      setBookmarks(getLocalBookmarks());\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/bookmarks?user_id=${user.id}`);\n      if (res.ok) {\n        const data = await res.json();\n        setBookmarks(data);\n        saveLocalBookmarks(data);\n      } else {\n        setBookmarks(getLocalBookmarks());\n      }\n    } catch {\n      setBookmarks(getLocalBookmarks());\n    }\n    setLoading(false);\n  }, [user]);\n\n  useEffect(() => { fetchBookmarks(); }, [fetchBookmarks]);\n\n  const addBookmark = async (story) => {\n    const bookmark = {\n      story_id: story.id,\n      title: story.title,\n      summary: story.summary || '',\n      source: story.source || '',\n      category: story.category || 'General',\n      source_url: story.source_url || '',\n      saved_at: new Date().toISOString(),\n    };\n\n    const updated = [...bookmarks.filter(b => b.story_id !== story.id), bookmark];\n    setBookmarks(updated);\n    saveLocalBookmarks(updated);\n\n    if (user) {\n      try {\n        await fetch(`${API_URL}/api/bookmarks`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ user_id: user.id, ...bookmark }),\n        });\n      } catch (e) { console.error('Failed to sync bookmark:', e); }\n    }\n  };\n\n  const removeBookmark = async (storyId) => {\n    const updated = bookmarks.filter(b => b.story_id !== storyId);\n    setBookmarks(updated);\n    saveLocalBookmarks(updated);\n\n    if (user) {\n      try {\n        await fetch(`${API_URL}/api/bookmarks/${storyId}?user_id=${user.id}`, { method: 'DELETE' });\n      } catch (e) { console.error('Failed to remove bookmark:', e); }\n    }\n  };\n\n  const isBookmarked = (storyId) => bookmarks.some(b => b.story_id === storyId);\n\n  return { bookmarks, loading, addBookmark, removeBookmark, isBookmarked, fetchBookmarks };\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Helmet } from 'react-helmet-async';\nimport { Play, Pause, BookmarkSimple, Translate, ArrowSquareOut, ArrowLeft, Lightbulb, ShareNetwork, Clock, Eye, Broadcast, Queue, CaretDown, CaretUp } from '@phosphor-icons/react';\nimport { useAudio } from '../contexts/AudioContext';\nimport { useBookmarks } from '../hooks/useBookmarks';\nimport { useHapticAlert } from '../components/HapticAlerts';\nimport { ArticleSkeleton } from '../components/Skeleton';\nimport TruthTag from '../components/TruthTag';\nimport { TagPill } from '../components/HashtagText';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\n\nconst MobileMetadata = ({ news, readTime, relatedNews, isBookmarked, toggleBookmark, addToQueue, shareStory, navigate, showAlert, t, formatPublishedDate }) => {\n  const [open, setOpen] = useState(true);\n  return (\n    <div className=\"lg:hidden mt-8 narvo-border\" data-testid=\"mobile-article-metadata\">\n      <button\n        onClick={() => setOpen(v => !v)}\n        className=\"w-full p-4 flex items-center justify-between bg-surface/10 hover:bg-surface/20 transition-colors\"\n        data-testid=\"mobile-metadata-toggle\"\n      >\n        <span className=\"mono-ui text-[12px] text-forest font-bold tracking-widest uppercase\">{t('news_detail.article_metadata')}</span>\n        {open ? <CaretUp weight=\"bold\" className=\"w-4 h-4 text-forest\" /> : <CaretDown weight=\"bold\" className=\"w-4 h-4 text-forest\" />}\n      </button>\n      {open && (\n        <div className=\"p-4 space-y-5 narvo-border-t\">\n          {/* Verification */}\n          <div className=\"narvo-border bg-primary/5 p-3 border-primary/30\">\n            <span className=\"mono-ui text-[11px] text-forest block mb-2 font-bold tracking-widest\">{t('news_detail.verification_status')}</span>\n            <TruthTag storyId={news.id} />\n          </div>\n          {/* Signal Metadata */}\n          <div className=\"narvo-border bg-surface/20 p-3\">\n            <span className=\"mono-ui text-[11px] text-forest block mb-2 font-bold tracking-widest\">{t('news_detail.signal_metadata')}</span>\n            <div className=\"space-y-2\">\n              {[\n                [t('news_detail.category'), news.category?.toUpperCase() || 'GENERAL', true],\n                [t('news_detail.source'), news.source?.toUpperCase() || 'UNKNOWN', false],\n                [t('news_detail.region'), news.region?.toUpperCase() || 'AFRICA', false],\n                [t('news_detail.read_time'), `${readTime} MIN`, true],\n                [t('news_detail.ai_synthesis'), news.narrative ? t('news_detail.complete') : t('news_detail.pending'), true],\n              ].map(([label, value, isPrimary], i) => (\n                <div key={i} className=\"flex justify-between mono-ui text-[11px]\">\n                  <span className=\"text-forest\">{label}</span>\n                  <span className={isPrimary ? 'text-primary font-bold' : 'text-content'}>{value}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n          {/* Quick Actions */}\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => { addToQueue(news); showAlert({ type: 'sync', title: 'QUEUE_UPDATED', message: 'Added to playlist queue', code: 'Q_ADD', duration: 2000 }); }}\n              className=\"flex-1 narvo-border py-2 mono-ui text-[11px] text-forest hover:text-primary hover:border-primary flex items-center justify-center gap-2 transition-colors\"\n              data-testid=\"mobile-queue-btn\"\n            >\n              <Queue weight=\"bold\" className=\"w-3 h-3\" />\n              QUEUE\n            </button>\n            <button\n              onClick={shareStory}\n              className=\"flex-1 narvo-border py-2 mono-ui text-[11px] text-forest hover:text-primary hover:border-primary flex items-center justify-center gap-2 transition-colors\"\n              data-testid=\"mobile-share-btn\"\n            >\n              <ShareNetwork weight=\"bold\" className=\"w-3 h-3\" />\n              SHARE\n            </button>\n            <button\n              onClick={toggleBookmark}\n              className={`flex-1 narvo-border py-2 mono-ui text-[11px] flex items-center justify-center gap-2 transition-colors ${isBookmarked(news.id) ? 'text-primary border-primary' : 'text-forest hover:text-primary hover:border-primary'}`}\n              data-testid=\"mobile-bookmark-btn\"\n            >\n              <BookmarkSimple weight={isBookmarked(news.id) ? 'fill' : 'regular'} className=\"w-3 h-3\" />\n              {isBookmarked(news.id) ? t('dashboard.saved') : t('dashboard.save')}\n            </button>\n          </div>\n          {/* Tags */}\n          {news.tags?.length > 0 && (\n            <div>\n              <span className=\"mono-ui text-[11px] text-forest block mb-3 font-bold tracking-widest\">{t('news_detail.signal_tags')}</span>\n              <div className=\"flex flex-wrap gap-1.5\">\n                {news.tags.map((tag, i) => (\n                  <TagPill key={i} tag={tag} />\n                ))}\n              </div>\n            </div>\n          )}\n          {/* Related Stories */}\n          {relatedNews.length > 0 && (\n            <div>\n              <span className=\"mono-ui text-[11px] text-forest block mb-3 font-bold tracking-widest\">{t('news_detail.related_transmissions')}</span>\n              <div className=\"space-y-2\">\n                {relatedNews.map((item) => (\n                  <div\n                    key={item.id}\n                    className=\"narvo-border p-3 cursor-pointer hover:bg-surface/40 transition-colors group\"\n                    onClick={() => navigate(`/news/${item.id}`)}\n                    data-testid={`mobile-related-${item.id}`}\n                  >\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <span className=\"mono-ui text-[10px] text-primary\">{item.source}</span>\n                      <TruthTag storyId={item.id} compact />\n                    </div>\n                    <h4 className=\"text-xs text-content font-display font-bold leading-tight group-hover:text-primary transition-colors line-clamp-2\">\n                      {item.title}\n                    </h4>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst NewsDetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [news, setNews] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [relatedNews, setRelatedNews] = useState([]);\n  const [readTime, setReadTime] = useState(0);\n  const { playTrack, forcePlayTrack, addToQueue, currentTrack, isPlaying, voiceModel, broadcastLanguage, settingsLoaded } = useAudio();\n  const { isBookmarked, addBookmark, removeBookmark } = useBookmarks();\n  const { showAlert } = useHapticAlert();\n  const { t } = useTranslation();\n  const hasAutoPlayed = useRef(false);\n\n  useEffect(() => {\n    setLoading(true);\n    hasAutoPlayed.current = false;\n    \n    Promise.all([\n      fetch(`${API_URL}/api/news/${id}`).then(r => r.ok ? r.json() : null),\n      fetch(`${API_URL}/api/news?limit=6`).then(r => r.json()).catch(() => []),\n    ]).then(([newsData, related]) => {\n      if (!newsData) { \n        navigate('/dashboard'); \n        return; \n      }\n      setNews(newsData);\n      \n      // Filter related news by same category, excluding current article\n      const sameCategory = related.filter(r => r.id !== id && r.category === newsData.category);\n      const otherNews = related.filter(r => r.id !== id && r.category !== newsData.category);\n      setRelatedNews([...sameCategory, ...otherNews].slice(0, 3));\n      \n      // Calculate read time (average 200 words per minute)\n      const text = (newsData.narrative || newsData.summary || '');\n      const wordCount = text.split(/\\s+/).length;\n      setReadTime(Math.max(1, Math.ceil(wordCount / 200)));\n      \n      setLoading(false);\n    }).catch(() => navigate('/dashboard'));\n  }, [id, navigate]);\n\n  const [autoplayReady, setAutoplayReady] = useState(false);\n  const pregenAudioUrl = useRef(null);\n\n  // Pre-generate TTS audio as soon as news loads AND settings are ready\n  useEffect(() => {\n    if (!news || loading || !settingsLoaded) return;\n    const text = news.narrative || news.summary || news.title || '';\n    if (!text) return;\n    \n    const vid = voiceModel || 'emma';\n    const lang = broadcastLanguage || 'en';\n    \n    fetch(`${API_URL}/api/tts/generate`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ text: text.slice(0, 4000), voice_id: vid, language: lang }),\n    })\n      .then(r => r.ok ? r.json() : null)\n      .then(data => {\n        if (data?.audio_url) pregenAudioUrl.current = data.audio_url;\n        setAutoplayReady(true);\n      })\n      .catch(() => setAutoplayReady(true));\n  }, [news, loading, settingsLoaded, voiceModel, broadcastLanguage]);\n\n  // Auto-play once TTS is pre-cached — pass audio_url directly to skip double-fetch\n  useEffect(() => {\n    if (autoplayReady && news && !hasAutoPlayed.current) {\n      hasAutoPlayed.current = true;\n      const trackWithAudio = pregenAudioUrl.current\n        ? { ...news, url: pregenAudioUrl.current }\n        : news;\n      forcePlayTrack(trackWithAudio);\n    }\n  }, [autoplayReady, news, forcePlayTrack]);\n\n  const toggleBookmark = () => {\n    if (isBookmarked(news.id)) {\n      removeBookmark(news.id);\n      showAlert('BOOKMARK_REMOVED');\n    } else {\n      addBookmark(news);\n      showAlert('BOOKMARK_ADDED');\n    }\n  };\n\n  const shareStory = async () => {\n    // Use the /api/share/ URL which has proper OG meta tags for social media\n    const shareUrl = `${API_URL}/api/share/${news.id}`;\n    const shareText = `${news.title} - Listen on NARVO`;\n    \n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: news.title,\n          text: shareText,\n          url: shareUrl,\n        });\n        showAlert({\n          type: 'success',\n          title: 'SHARED_SUCCESS',\n          message: 'Story shared successfully.',\n          code: 'SHARE_OK',\n        });\n      } catch (err) {\n        if (err.name !== 'AbortError') {\n          await navigator.clipboard.writeText(shareUrl);\n          showAlert({\n            type: 'sync',\n            title: 'LINK_COPIED',\n            message: 'Story link copied to clipboard.',\n            code: 'CLIP_OK',\n          });\n        }\n      }\n    } else {\n      await navigator.clipboard.writeText(shareUrl);\n      showAlert({\n        type: 'sync',\n        title: 'LINK_COPIED',\n        message: 'Story link copied to clipboard.',\n        code: 'CLIP_OK',\n      });\n    }\n  };\n\n  const formatPublishedDate = (dateStr) => {\n    if (!dateStr) return 'Today';\n    try {\n      const date = new Date(dateStr);\n      const now = new Date();\n      const diffHours = Math.floor((now - date) / (1000 * 60 * 60));\n      \n      if (diffHours < 1) return 'Just now';\n      if (diffHours < 24) return `${diffHours}h ago`;\n      if (diffHours < 48) return 'Yesterday';\n      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\n    } catch {\n      return dateStr;\n    }\n  };\n\n  if (loading || !news) {\n    return (\n      <div className=\"flex-1 flex min-h-0 overflow-hidden\">\n        <section className=\"flex-1 overflow-y-auto overflow-x-hidden bg-background-dark custom-scroll\" data-testid=\"news-detail-loading\">\n          <div className=\"max-w-3xl mx-auto py-8 md:py-12 px-4 md:px-8\">\n            <ArticleSkeleton />\n          </div>\n        </section>\n        <aside className=\"w-80 hidden xl:flex flex-col narvo-border-l bg-background-dark shrink-0\">\n          <div className=\"h-20 narvo-border-b bg-surface/10\" />\n          <div className=\"p-6 space-y-6\">\n            <div className=\"narvo-border bg-surface/20 p-4 space-y-3\">\n              {Array.from({ length: 4 }).map((_, i) => (\n                <div key={i} className=\"h-4 bg-forest/10 animate-pulse\" />\n              ))}\n            </div>\n          </div>\n        </aside>\n      </div>\n    );\n  }\n\n  const narrativeParagraphs = (news.narrative || news.summary || '').split('\\n').filter(p => p.trim());\n  const isCurrentlyPlaying = currentTrack?.id === news.id && isPlaying;\n\n  return (\n    <div className=\"flex-1 flex min-h-0 overflow-hidden\">\n      <Helmet>\n        <title>{news.title} — NARVO</title>\n        <meta property=\"og:title\" content={news.title} />\n        <meta property=\"og:description\" content={news.narrative?.slice(0, 160) || `Listen on Narvo — Audio-first news for Africa`} />\n        <meta property=\"og:type\" content=\"article\" />\n        <meta property=\"og:url\" content={`${window.location.origin}/news/${id}`} />\n        <meta property=\"og:image\" content={`${API_URL}/api/og/${id}`} />\n        <meta property=\"og:site_name\" content=\"NARVO\" />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:title\" content={news.title} />\n        <meta name=\"twitter:description\" content={news.narrative?.slice(0, 160) || 'Audio-first news for Africa'} />\n        <meta name=\"twitter:image\" content={`${API_URL}/api/og/${id}`} />\n      </Helmet>\n      {/* Main Article Content */}\n      <section className=\"flex-1 overflow-y-auto overflow-x-hidden relative bg-background-dark custom-scroll\" data-testid=\"news-detail-page\">\n        <div className=\"max-w-3xl mx-auto py-8 md:py-12 px-4 md:px-8 pb-32 md:pb-40\">\n          {/* Back + Truth Tag Header */}\n          <div className=\"mb-4 md:mb-6 flex items-center justify-between\">\n            <button \n              onClick={() => navigate('/dashboard')} \n              className=\"mono-ui text-[12px] md:text-xs text-forest hover:text-primary flex items-center gap-2 transition-colors\" \n              data-testid=\"back-btn\"\n            >\n              <ArrowLeft weight=\"bold\" className=\"w-4 h-4\" />\n              <span>{t('news_detail.back_to_feed')}</span>\n            </button>\n            <div className=\"flex items-center gap-3\">\n              <TruthTag storyId={news.id} />\n            </div>\n          </div>\n\n          {/* Category Pills + Meta */}\n          <div className=\"mb-6 md:mb-10\">\n            <div className=\"flex flex-wrap items-center gap-3 mb-4 md:mb-6\">\n              <div className=\"flex gap-0 narvo-border w-fit\">\n                <span className=\"px-2 md:px-3 py-1 narvo-border-r text-[11px] md:text-[12px] font-bold uppercase tracking-wider text-primary bg-background-dark font-mono\">\n                  {news.category || 'General'}\n                </span>\n                {news.tags?.slice(0, 1).map((tag, i) => (\n                  <TagPill key={i} tag={tag} className=\"border-0 bg-background-dark text-primary text-[11px] md:text-[12px] px-2 md:px-3 py-1 tracking-wider\" />\n                ))}\n              </div>\n              <div className=\"flex items-center gap-4 mono-ui text-[11px] md:text-[12px] text-forest\">\n                <span className=\"flex items-center gap-1.5\">\n                  <Clock weight=\"bold\" className=\"w-3 h-3\" />\n                  {readTime} MIN READ\n                </span>\n                <span className=\"flex items-center gap-1.5\">\n                  <Eye weight=\"bold\" className=\"w-3 h-3\" />\n                  {formatPublishedDate(news.published)}\n                </span>\n              </div>\n            </div>\n\n            {/* Headline */}\n            <h1 className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-content leading-[1.1] tracking-tight mb-4 md:mb-6 font-display uppercase\" data-testid=\"news-title\">\n              {news.title}\n            </h1>\n\n            {/* Lead */}\n            <p className=\"text-base md:text-lg lg:text-xl text-slate-300 font-light leading-relaxed font-display border-l-2 border-forest pl-4 md:pl-6\">\n              {news.summary}\n            </p>\n          </div>\n\n          {/* Hero Image */}\n          <figure className=\"mb-8 md:mb-12 narvo-border relative group\">\n            <img\n              alt={news.title}\n              className=\"w-full h-[200px] sm:h-[300px] md:h-[400px] object-cover opacity-90 grayscale-[20%] group-hover:grayscale-0 transition-all duration-500\"\n              src={news.image_url || \"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?auto=format&fit=crop&q=80&w=1200\"}\n            />\n            <div className=\"absolute bottom-0 left-0 right-0 p-2 bg-background-dark narvo-border-t w-fit ml-auto\">\n              <figcaption className=\"text-[11px] md:text-[12px] text-primary font-mono uppercase tracking-wider\">\n                FIG 1.0 — {news.source || 'Source'} / {news.category}\n              </figcaption>\n            </div>\n            {/* Now Playing Indicator */}\n            {isCurrentlyPlaying && (\n              <div className=\"absolute top-4 left-4 flex items-center gap-2 bg-primary px-3 py-1.5\">\n                <Broadcast weight=\"fill\" className=\"w-4 h-4 text-background-dark animate-pulse\" />\n                <span className=\"mono-ui text-[11px] text-background-dark font-bold\">NOW_PLAYING</span>\n              </div>\n            )}\n          </figure>\n\n          {/* Audio Controls Bar */}\n          <div className=\"narvo-border bg-surface/30 p-3 md:p-5 mb-8 md:mb-12 flex flex-col sm:flex-row items-start sm:items-center gap-3 md:gap-4\">\n            <button\n              onClick={() => playTrack(news)}\n              className={`${isCurrentlyPlaying ? 'bg-white' : 'bg-primary hover:bg-white'} text-background-dark w-10 h-10 md:w-12 md:h-12 flex items-center justify-center transition-all shrink-0`}\n              data-testid=\"play-story-btn\"\n            >\n              {isCurrentlyPlaying ? <Pause weight=\"fill\" className=\"w-5 h-5\" /> : <Play weight=\"fill\" className=\"w-5 h-5 ml-0.5\" />}\n            </button>\n            <div className=\"flex flex-col justify-center flex-1 min-w-0\">\n              <span className=\"text-[11px] md:text-[12px] text-forest font-mono uppercase tracking-widest mb-1\">\n                {isCurrentlyPlaying ? t('news_detail.now_playing') : t('news_detail.narrative_audio')}\n              </span>\n              <span className=\"text-xs md:text-sm text-content font-medium font-display uppercase tracking-wide truncate\">\n                {news.title?.slice(0, 50)}...\n              </span>\n            </div>\n            <div className=\"flex items-center gap-2 md:gap-3 w-full sm:w-auto sm:ml-auto\">\n              <button className=\"hidden md:flex narvo-border px-3 py-1.5 items-center gap-2 hover:bg-forest hover:text-content transition-colors\">\n                <Translate weight=\"bold\" className=\"w-4 h-4 text-primary\" />\n                <span className=\"text-[12px] text-primary font-mono font-bold uppercase tracking-wider\">West African English</span>\n              </button>\n              <button className=\"md:hidden narvo-border p-2 text-primary\">\n                <Translate weight=\"bold\" className=\"w-4 h-4\" />\n              </button>\n              <button\n                onClick={shareStory}\n                className=\"narvo-border w-10 h-10 flex items-center justify-center text-forest hover:text-primary transition-colors\"\n                title=\"Share Story\"\n                data-testid=\"share-story-btn\"\n              >\n                <ShareNetwork weight=\"bold\" className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={toggleBookmark}\n                className={`narvo-border w-10 h-10 flex items-center justify-center transition-colors ${isBookmarked(news.id) ? 'text-primary border-primary' : 'text-forest hover:text-primary'}`}\n                data-testid=\"bookmark-detail-btn\"\n              >\n                {<BookmarkSimple weight={isBookmarked(news.id) ? \"fill\" : \"regular\"} className=\"w-5 h-5\" />}\n              </button>\n            </div>\n          </div>\n\n          {/* Key Takeaways */}\n          {news.key_takeaways?.length > 0 && (\n            <div className=\"narvo-border bg-transparent p-4 md:p-6 mb-8 md:mb-12 relative overflow-hidden\">\n              <div className=\"absolute top-0 left-0 w-1 h-full bg-forest\" />\n              <h3 className=\"text-base md:text-lg font-bold text-content mb-3 md:mb-4 flex items-center gap-2 font-display uppercase tracking-tight\">\n                <Lightbulb weight=\"fill\" className=\"text-primary w-4 h-4 md:w-5 md:h-5\" />\n                {t('news_detail.key_takeaways')}\n              </h3>\n              <ul className=\"space-y-2 md:space-y-3\">\n                {news.key_takeaways.map((takeaway, i) => (\n                  <li key={i} className=\"flex items-start gap-2 md:gap-3 text-slate-300 text-sm md:text-base leading-relaxed\">\n                    <span className=\"mt-1.5 md:mt-2 w-1.5 h-1.5 bg-primary shrink-0\" />\n                    <span>{takeaway}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* Article Body */}\n          <article className=\"prose prose-invert prose-sm md:prose-lg max-w-none\">\n            {narrativeParagraphs.length > 0 ? narrativeParagraphs.map((para, i) => (\n              <React.Fragment key={i}>\n                <p className=\"text-slate-300 font-light leading-relaxed mb-4 md:mb-6 text-sm md:text-base\">{para}</p>\n                {/* Insert a quote block after 2nd paragraph */}\n                {i === 1 && narrativeParagraphs.length > 2 && (\n                  <div className=\"my-6 md:my-8 p-4 md:p-6 narvo-border bg-transparent relative\">\n                    <span className=\"absolute top-0 left-0 bg-background-dark px-2 -mt-3 text-primary text-2xl md:text-4xl leading-none font-display\">\"</span>\n                    <p className=\"italic text-primary font-display text-base md:text-xl leading-relaxed mb-2\">\n                      The narrative isn't just information; it's context. Pull one thread, and the whole story changes.\n                    </p>\n                    <cite className=\"text-[12px] md:text-xs font-mono text-slate-500 not-italic uppercase tracking-widest\">— Narvo AI Synthesis</cite>\n                  </div>\n                )}\n              </React.Fragment>\n            )) : (\n              <p className=\"text-slate-300 font-light leading-relaxed text-sm md:text-base\">{news.summary}</p>\n            )}\n          </article>\n\n          {/* Source Attribution */}\n          <div className=\"mt-8 md:mt-12 narvo-border bg-surface/20 p-4 md:p-6\">\n            <span className=\"mono-ui text-[11px] md:text-[12px] text-forest block mb-2 md:mb-3 font-bold tracking-widest\">{t('news_detail.source_attribution')}</span>\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\n              <div>\n                <span className=\"text-content font-display font-bold text-sm md:text-base\">{news.source}</span>\n                <span className=\"mono-ui text-[11px] md:text-[12px] text-forest block mt-1\">{formatPublishedDate(news.published)}</span>\n              </div>\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={shareStory}\n                  className=\"narvo-border px-3 md:px-4 py-2 mono-ui text-[11px] md:text-[12px] text-forest hover:text-primary flex items-center gap-2 transition-colors\"\n                  data-testid=\"share-source-btn\"\n                >\n                  <ShareNetwork weight=\"bold\" className=\"w-3 h-3\" />\n                  <span>{t('dashboard.share')}</span>\n                </button>\n                {news.source_url && (\n                  <a \n                    href={news.source_url} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\" \n                    className=\"narvo-border px-3 md:px-4 py-2 mono-ui text-[11px] md:text-[12px] text-forest hover:text-primary flex items-center gap-2 transition-colors\"\n                  >\n                    <ArrowSquareOut weight=\"bold\" className=\"w-3 h-3\" />\n                    <span>{t('news_detail.original_source')}</span>\n                  </a>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Mobile Article Metadata - visible only on smaller screens */}\n          <MobileMetadata\n            news={news}\n            readTime={readTime}\n            relatedNews={relatedNews}\n            isBookmarked={isBookmarked}\n            toggleBookmark={toggleBookmark}\n            addToQueue={addToQueue}\n            shareStory={shareStory}\n            navigate={navigate}\n            showAlert={showAlert}\n            t={t}\n            formatPublishedDate={formatPublishedDate}\n          />\n        </div>\n      </section>\n\n      {/* Right Sidebar: Related & Metadata - hidden on mobile/tablet */}\n      <aside className=\"w-72 xl:w-80 hidden lg:flex flex-col narvo-border-l bg-background-dark shrink-0\" data-testid=\"detail-sidebar\">\n        <div className=\"h-16 xl:h-20 flex items-center px-4 xl:px-6 narvo-border-b bg-surface/10\">\n          <span className=\"mono-ui text-[12px] xl:text-xs font-bold text-forest tracking-widest uppercase\">{t('news_detail.article_metadata')}</span>\n        </div>\n        <div className=\"flex-1 overflow-y-auto p-4 xl:p-6 space-y-6 xl:space-y-8 custom-scroll\">\n          {/* Truth Tag Display */}\n          <div className=\"narvo-border bg-primary/5 p-3 xl:p-4 border-primary/30\">\n            <span className=\"mono-ui text-[11px] xl:text-[12px] text-forest block mb-2 xl:mb-3 font-bold tracking-widest\">{t('news_detail.verification_status')}</span>\n            <TruthTag storyId={news.id} />\n          </div>\n\n          {/* Article Info */}\n          <div className=\"narvo-border bg-surface/20 p-3 xl:p-4\">\n            <span className=\"mono-ui text-[11px] xl:text-[12px] text-forest block mb-2 xl:mb-3 font-bold tracking-widest\">{t('news_detail.signal_metadata')}</span>\n            <div className=\"space-y-2 xl:space-y-3\">\n              <div className=\"flex justify-between mono-ui text-[11px] xl:text-[12px]\">\n                <span className=\"text-forest\">{t('news_detail.category')}</span>\n                <span className=\"text-primary font-bold\">{news.category?.toUpperCase() || 'GENERAL'}</span>\n              </div>\n              <div className=\"flex justify-between mono-ui text-[11px] xl:text-[12px]\">\n                <span className=\"text-forest\">{t('news_detail.source')}</span>\n                <span className=\"text-content\">{news.source?.toUpperCase() || 'UNKNOWN'}</span>\n              </div>\n              <div className=\"flex justify-between mono-ui text-[11px] xl:text-[12px]\">\n                <span className=\"text-forest\">{t('news_detail.region')}</span>\n                <span className=\"text-content\">{news.region?.toUpperCase() || 'AFRICA'}</span>\n              </div>\n              <div className=\"flex justify-between mono-ui text-[11px] xl:text-[12px]\">\n                <span className=\"text-forest\">{t('news_detail.read_time')}</span>\n                <span className=\"text-primary font-bold\">{readTime} MIN</span>\n              </div>\n              <div className=\"flex justify-between mono-ui text-[11px] xl:text-[12px]\">\n                <span className=\"text-forest\">{t('news_detail.ai_synthesis')}</span>\n                <span className=\"text-primary font-bold\">{news.narrative ? t('news_detail.complete') : t('news_detail.pending')}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => { addToQueue(news); showAlert({ type: 'sync', title: 'QUEUE_UPDATED', message: 'Added to playlist queue', code: 'Q_ADD', duration: 2000 }); }}\n              className=\"flex-1 narvo-border py-2 mono-ui text-[11px] xl:text-[12px] text-forest hover:text-primary hover:border-primary flex items-center justify-center gap-2 transition-colors\"\n              data-testid=\"sidebar-queue-btn\"\n            >\n              <Queue weight=\"bold\" className=\"w-3 h-3\" />\n              QUEUE\n            </button>\n            <button\n              onClick={shareStory}\n              className=\"flex-1 narvo-border py-2 mono-ui text-[11px] xl:text-[12px] text-forest hover:text-primary hover:border-primary flex items-center justify-center gap-2 transition-colors\"\n              data-testid=\"sidebar-share-btn\"\n            >\n              <ShareNetwork weight=\"bold\" className=\"w-3 h-3\" />\n              SHARE\n            </button>\n            <button\n              onClick={toggleBookmark}\n              className={`flex-1 narvo-border py-2 mono-ui text-[11px] xl:text-[12px] flex items-center justify-center gap-2 transition-colors ${isBookmarked(news.id) ? 'text-primary border-primary' : 'text-forest hover:text-primary hover:border-primary'}`}\n              data-testid=\"sidebar-bookmark-btn\"\n            >\n              {<BookmarkSimple weight={isBookmarked(news.id) ? \"fill\" : \"regular\"} className=\"w-3 h-3\" />}\n              {isBookmarked(news.id) ? t('dashboard.saved') : t('dashboard.save')}\n            </button>\n          </div>\n\n          {/* Tags */}\n          {news.tags?.length > 0 && (\n            <div>\n              <span className=\"mono-ui text-[11px] xl:text-[12px] text-forest block mb-3 xl:mb-4 font-bold tracking-widest\">{t('news_detail.signal_tags')}</span>\n              <div className=\"flex flex-wrap gap-1.5 xl:gap-2\">\n                {news.tags.map((tag, i) => (\n                  <TagPill key={i} tag={tag} className=\"xl:px-2 xl:text-[11px]\" />\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Related Stories */}\n          {relatedNews.length > 0 && (\n            <div>\n              <span className=\"mono-ui text-[11px] xl:text-[12px] text-forest block mb-3 xl:mb-4 font-bold tracking-widest\">{t('news_detail.related_transmissions')}</span>\n              <div className=\"space-y-2 xl:space-y-3\">\n                {relatedNews.map((item) => (\n                  <div\n                    key={item.id}\n                    className=\"narvo-border p-3 xl:p-4 cursor-pointer hover:bg-surface/40 transition-colors group\"\n                    onClick={() => navigate(`/news/${item.id}`)}\n                    data-testid={`related-${item.id}`}\n                  >\n                    <div className=\"flex items-center gap-2 mb-1 xl:mb-2\">\n                      <span className=\"mono-ui text-[10px] xl:text-[11px] text-primary\">{item.source}</span>\n                      <TruthTag storyId={item.id} compact />\n                    </div>\n                    <h4 className=\"text-xs xl:text-sm text-content font-display font-bold leading-tight group-hover:text-primary transition-colors line-clamp-2\">\n                      {item.title}\n                    </h4>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </aside>\n    </div>\n  );\n};\n\nexport default NewsDetailPage;\n"],"names":["TagPill","_ref2","tag","className","navigate","useNavigate","_jsxs","onClick","e","preventDefault","stopPropagation","concat","encodeURIComponent","toLowerCase","children","toUpperCase","Skeleton","_ref","variant","base","_jsx","FeaturedSkeleton","StreamCardSkeleton","ArticleSkeleton","ListSkeleton","count","Array","from","length","map","_","i","STATUS_MAP","VERIFIED","icon","ShieldCheck","color","bg","border","label","DISPUTED","ShieldWarning","UNVERIFIED","Question","PENDING","CircleNotch","storyId","compact","result","setResult","useState","loading","setLoading","useEffect","fetch","process","then","r","ok","json","data","catch","status","config","Icon","source","confidence","title","weight","API_URL","BOOKMARKS_KEY","useBookmarks","user","useAuth","bookmarks","setBookmarks","getLocalBookmarks","JSON","parse","localStorage","getItem","_unused","saveLocalBookmarks","items","setItem","stringify","fetchBookmarks","useCallback","async","res","id","_unused2","addBookmark","bookmark","story_id","story","summary","category","source_url","saved_at","Date","toISOString","updated","filter","b","method","headers","body","_objectSpread","user_id","console","error","removeBookmark","isBookmarked","some","MobileMetadata","_news$category","_news$source","_news$region","_news$tags","news","readTime","relatedNews","toggleBookmark","addToQueue","shareStory","showAlert","t","formatPublishedDate","open","setOpen","v","CaretUp","CaretDown","TruthTag","region","narrative","value","isPrimary","type","message","code","duration","Queue","ShareNetwork","BookmarkSimple","tags","item","NewsDetailPage","_news$narrative","_news$narrative2","_news$tags2","_news$title","_news$key_takeaways","_news$category2","_news$source2","_news$region2","_news$tags3","useParams","setNews","setRelatedNews","setReadTime","playTrack","forcePlayTrack","currentTrack","isPlaying","voiceModel","broadcastLanguage","settingsLoaded","useAudio","useHapticAlert","useTranslation","hasAutoPlayed","useRef","current","Promise","all","_ref3","newsData","related","sameCategory","otherNews","slice","wordCount","split","Math","max","ceil","autoplayReady","setAutoplayReady","pregenAudioUrl","text","vid","lang","voice_id","language","audio_url","trackWithAudio","url","shareUrl","shareText","navigator","share","err","name","clipboard","writeText","dateStr","date","now","diffHours","floor","toLocaleDateString","month","day","year","narrativeParagraphs","p","trim","isCurrentlyPlaying","Helmet","property","content","window","location","origin","ArrowLeft","Clock","Eye","published","alt","src","image_url","Broadcast","Pause","Play","Translate","key_takeaways","Lightbulb","takeaway","para","React","href","target","rel","ArrowSquareOut"],"sourceRoot":""}