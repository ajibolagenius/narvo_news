"use strict";(self.webpackChunknarvo_frontend=self.webpackChunknarvo_frontend||[]).push([[146],{831(e,s,t){t.d(s,{A:()=>l});var r=t(5043),a=t(579);const l=()=>{const[e,s]=(0,r.useState)("00:00:00");return(0,r.useEffect)(()=>{const e=()=>s((new Date).toLocaleTimeString("en-GB",{hour12:!1}));e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,a.jsx)("span",{children:e})}},6146(e,s,t){t.r(s),t.d(s,{default:()=>d});var r=t(5043),a=t(5475),l=t(3216),o=t(4395),i=t(5887),n=t(831),c=t(579);const d=()=>{const e=(0,l.Zp)(),{signIn:s,signUp:t,signInWithGoogle:d}=(0,o.A)(),[x,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,b]=(0,r.useState)(!1),[u,j]=(0,r.useState)(""),[N,g]=(0,r.useState)(!1),[v,w]=(0,r.useState)("");return(0,c.jsxs)("div",{className:"h-screen w-full overflow-hidden flex flex-col relative bg-background-dark","data-testid":"auth-page",children:[(0,c.jsxs)("header",{className:"h-16 flex items-center justify-between px-8 border-b border-forest bg-background-dark z-10 shrink-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("svg",{className:"w-6 h-6 text-primary",viewBox:"0 0 256 256",fill:"currentColor",children:(0,c.jsx)("path",{d:"M208,40H48A16,16,0,0,0,32,56V200a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V56A16,16,0,0,0,208,40Zm0,160H48V56H208V200ZM64,96a8,8,0,0,1,8-8H184a8,8,0,0,1,0,16H72A8,8,0,0,1,64,96Zm0,32a8,8,0,0,1,8-8H184a8,8,0,0,1,0,16H72A8,8,0,0,1,64,128Zm0,32a8,8,0,0,1,8-8h72a8,8,0,0,1,0,16H72A8,8,0,0,1,64,160Z"})}),(0,c.jsxs)("div",{className:"font-display text-xl tracking-tight font-bold uppercase text-content",children:["NARVO ",(0,c.jsx)("span",{className:"text-forest font-light mx-2",children:"//"})," ACCESS_CENTER"]}),(0,c.jsx)("div",{className:"h-4 w-[1px] bg-forest mx-2"}),(0,c.jsx)("div",{className:"mono-ui text-[12px] text-forest",children:"V.2.5.0_STABLE"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-8 mono-ui text-[12px] text-forest",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"w-2 h-2 bg-primary animate-pulse"}),(0,c.jsx)("span",{children:"SECURE_CONNECTION: ACTIVE"})]}),(0,c.jsx)("div",{className:"hidden md:flex items-center gap-2",children:(0,c.jsxs)("span",{children:["LOCAL ",(0,c.jsx)(n.A,{})]})})]})]}),(0,c.jsxs)("main",{className:"flex-1 grid grid-cols-12 h-full",children:[(0,c.jsx)("div",{className:"hidden lg:block lg:col-span-3 border-r border-forest h-full relative",children:(0,c.jsxs)("div",{className:"absolute inset-0 grid grid-rows-6",children:[(0,c.jsxs)("div",{className:"border-b border-forest p-6 flex flex-col justify-end",children:[(0,c.jsx)("span",{className:"mono-ui text-[11px] text-forest block mb-1",children:"NODE_ID"}),(0,c.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"NRV-LGS-X1"})]}),(0,c.jsxs)("div",{className:"border-b border-forest p-6 flex flex-col justify-end",children:[(0,c.jsx)("span",{className:"mono-ui text-[11px] text-forest block mb-1",children:"ENCRYPTION"}),(0,c.jsx)("span",{className:"mono-ui text-[12px] text-primary",children:"AES-256-GCM"})]}),(0,c.jsx)("div",{className:"border-b border-forest"}),(0,c.jsx)("div",{className:"border-b border-forest"}),(0,c.jsx)("div",{className:"border-b border-forest"}),(0,c.jsx)("div",{className:"p-6 flex items-end",children:(0,c.jsx)("span",{className:"mono-ui text-[11px] text-forest animate-pulse",children:"AWAITING_INPUT_SIGNAL..."})})]})}),(0,c.jsxs)("div",{className:"col-span-12 lg:col-span-6 flex flex-col justify-center items-center relative p-6",children:[(0,c.jsx)("div",{className:"absolute inset-0 grid grid-cols-4 pointer-events-none opacity-5",children:[...Array(4)].map((e,s)=>(0,c.jsx)("div",{className:"border-r border-forest h-full"},s))}),(0,c.jsxs)("div",{className:"w-full max-w-md z-10 relative",children:[(0,c.jsxs)("div",{className:"border border-forest bg-background-dark mb-[-1px]",children:[(0,c.jsxs)("div",{className:"p-4 flex justify-between items-center border-b border-forest",children:[(0,c.jsx)("h2",{className:"font-display text-2xl font-bold uppercase tracking-tight text-content",children:f?"Create Account":"Initialize Session"}),(0,c.jsx)("svg",{className:"w-6 h-6 text-primary",viewBox:"0 0 256 256",fill:"currentColor",children:(0,c.jsx)("path",{d:"M184,128a56,56,0,1,1-56-56A56,56,0,0,1,184,128Z"})})]}),(0,c.jsx)("div",{className:"h-1 w-full bg-surface overflow-hidden border-b border-forest",children:(0,c.jsx)("div",{className:"h-full w-1/3 bg-primary"})})]}),(0,c.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),j(""),w(""),g(!0);try{if(f){const s=await t(x,h);null!==s&&void 0!==s&&s.user&&!s.session?w("Check your email to confirm your account, then sign in."):e("/onboarding")}else{const t=await s(x,h);if(null!==t&&void 0!==t&&t.user)try{const s=await fetch("".concat("http://localhost:8000","/api/preferences?user_id=").concat(t.user.id));if(s.ok){const t=await s.json();if(t.updated_at)return localStorage.setItem("narvo_preferences",JSON.stringify(t)),e("/dashboard"),void setTimeout(i.JU,2500)}}catch(a){}const r=localStorage.getItem("narvo_preferences");e(r?"/dashboard":"/onboarding"),setTimeout(i.JU,2500)}}catch(l){j(l.message||"Authentication failed")}g(!1)},className:"border border-forest border-t-0 bg-surface/50 p-8 flex flex-col gap-6",children:[u&&(0,c.jsxs)("div",{className:"border border-red-500/50 bg-red-500/10 p-3 text-red-400 mono-ui text-[13px]","data-testid":"auth-error",children:["[ERROR] ",u]}),v&&(0,c.jsxs)("div",{className:"border border-primary/50 bg-primary/10 p-3 text-primary mono-ui text-[13px]","data-testid":"auth-confirm",children:["[OK] ",v]}),(0,c.jsxs)("div",{className:"group relative",children:[(0,c.jsx)("label",{className:"mono-ui text-[12px] text-forest mb-2 block font-bold",children:"Operator Credential"}),(0,c.jsxs)("div",{className:"flex items-center border border-forest bg-background-dark h-12 px-4 focus-within:border-primary transition-all",children:[(0,c.jsx)("svg",{className:"w-5 h-5 text-forest mr-3",viewBox:"0 0 256 256",fill:"currentColor",children:(0,c.jsx)("path",{d:"M200,112H184V88a56,56,0,0,0-112,0v24H56a8,8,0,0,0-8,8v80a8,8,0,0,0,8,8H200a8,8,0,0,0,8-8V120A8,8,0,0,0,200,112Z"})}),(0,c.jsx)("input",{type:"email",value:x,onChange:e=>m(e.target.value),className:"flex-1 bg-transparent border-none outline-none text-content mono-ui text-sm",placeholder:"operator@narvo.io",required:!0,"data-testid":"email-input"})]})]}),(0,c.jsxs)("div",{className:"group relative",children:[(0,c.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,c.jsx)("label",{className:"mono-ui text-[12px] text-forest font-bold",children:"Access Code"}),!f&&(0,c.jsx)(a.N_,{to:"/forgot-password",className:"mono-ui text-[11px] text-primary cursor-pointer hover:underline","data-testid":"forgot-password-link",children:"[Recover_Key]"})]}),(0,c.jsxs)("div",{className:"flex items-center border border-forest bg-background-dark h-12 px-4 focus-within:border-primary transition-all",children:[(0,c.jsx)("svg",{className:"w-5 h-5 text-forest mr-3",viewBox:"0 0 256 256",fill:"currentColor",children:(0,c.jsx)("path",{d:"M216.57,39.43A80,80,0,0,0,83.91,120.78L28.69,176A15.86,15.86,0,0,0,24,187.31V216a16,16,0,0,0,16,16H72a8,8,0,0,0,8-8V208H96a8,8,0,0,0,8-8V184h16a8,8,0,0,0,5.66-2.34l9.56-9.57A80,80,0,0,0,216.57,39.43Z"})}),(0,c.jsx)("input",{type:"password",value:h,onChange:e=>p(e.target.value),className:"flex-1 bg-transparent border-none outline-none text-content mono-ui text-sm",placeholder:"min 6 characters",required:!0,minLength:6,"data-testid":"password-input"})]})]}),(0,c.jsxs)("button",{type:"submit",disabled:N,className:"w-full h-14 bg-primary text-background-dark font-display font-bold uppercase tracking-tighter text-lg hover:bg-white transition-all flex items-center justify-between px-6 mt-2 group disabled:opacity-50","data-testid":"auth-submit-btn",children:[(0,c.jsx)("span",{children:N?"Processing...":f?"Create Account":"Initiate Sync"}),!N&&(0,c.jsx)("svg",{className:"w-6 h-6 group-hover:translate-x-1 transition-transform",viewBox:"0 0 256 256",fill:"currentColor",children:(0,c.jsx)("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"})})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,c.jsx)("div",{className:"flex-1 h-px bg-forest/30"}),(0,c.jsx)("span",{className:"mono-ui text-[11px] text-forest/50",children:"OR"}),(0,c.jsx)("div",{className:"flex-1 h-px bg-forest/30"})]}),(0,c.jsxs)("button",{type:"button",onClick:async()=>{try{await d()}catch(e){j(e.message)}},className:"w-full h-12 border border-forest bg-background-dark text-content mono-ui text-[13px] font-bold hover:border-primary hover:text-primary transition-all flex items-center justify-center gap-3","data-testid":"google-auth-btn",children:[(0,c.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,c.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),(0,c.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,c.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,c.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"CONTINUE WITH GOOGLE"]})]}),(0,c.jsx)("div",{className:"border border-forest border-t-0 bg-background-dark p-4",children:(0,c.jsx)("button",{onClick:()=>{b(!f),j(""),w("")},className:"w-full text-center mono-ui text-[13px] text-forest hover:text-primary transition-colors","data-testid":"auth-toggle-btn",children:f?"[Already have access? Sign In]":"[Request New Access? Create Account]"})}),(0,c.jsxs)("div",{className:"grid grid-cols-2 border border-forest border-t-0 bg-background-dark",children:[(0,c.jsxs)("div",{className:"p-4 border-r border-forest flex items-center gap-3",children:[(0,c.jsx)("svg",{className:"w-5 h-5 text-forest",viewBox:"0 0 256 256",fill:"currentColor",children:(0,c.jsx)("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8Z"})}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"mono-ui text-[11px] text-forest",children:"AUTHENTICATION"}),(0,c.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"Supabase_Auth"})]})]}),(0,c.jsxs)("div",{className:"p-4 flex items-center gap-3",children:[(0,c.jsx)("svg",{className:"w-5 h-5 text-forest",viewBox:"0 0 256 256",fill:"currentColor",children:(0,c.jsx)("path",{d:"M208,40H48A16,16,0,0,0,32,56V200a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V56A16,16,0,0,0,208,40Z"})}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"mono-ui text-[11px] text-forest",children:"PROTOCOL"}),(0,c.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"E2E_ENCRYPTED"})]})]})]}),(0,c.jsx)("div",{className:"mt-8 text-center",children:(0,c.jsxs)("p",{className:"mono-ui text-[11px] text-forest leading-relaxed",children:["Authorized Access Only. Internal Signal NRV-00-1.",(0,c.jsx)("br",{}),"Clearance Level: [LEVEL_4_BROADCAST]"]})}),(0,c.jsx)(a.N_,{to:"/",className:"block text-center mono-ui text-[12px] text-forest mt-6 hover:text-primary","data-testid":"back-to-landing",children:"\u2190 [BACK_TO_LANDING]"})]})]}),(0,c.jsx)("div",{className:"hidden lg:block lg:col-span-3 border-l border-forest h-full relative",children:(0,c.jsxs)("div",{className:"absolute inset-0 grid grid-rows-6",children:[(0,c.jsx)("div",{className:"border-b border-forest p-6 flex justify-end items-end",children:(0,c.jsxs)("span",{className:"mono-ui text-[12px] text-forest",children:["SECURE_HANDSHAKE: ",(0,c.jsx)("span",{className:"text-primary",children:"PASS"})]})}),(0,c.jsxs)("div",{className:"border-b border-forest p-6 flex flex-col justify-end items-end gap-1",children:[(0,c.jsx)("div",{className:"h-[1px] w-12 bg-forest"}),(0,c.jsx)("div",{className:"h-[1px] w-8 bg-forest opacity-50"}),(0,c.jsx)("div",{className:"h-[1px] w-4 bg-forest opacity-30"})]}),(0,c.jsx)("div",{className:"border-b border-forest"}),(0,c.jsx)("div",{className:"border-b border-forest"}),(0,c.jsx)("div",{className:"border-b border-forest"}),(0,c.jsxs)("div",{className:"p-6 flex flex-col justify-end items-end text-right",children:[(0,c.jsx)("span",{className:"mono-ui text-[11px] text-forest uppercase",children:"Node_Location"}),(0,c.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"6.5244 N, 3.3792 E"})]})]})})]}),(0,c.jsxs)("footer",{className:"h-12 border-t border-forest bg-surface/30 flex items-center justify-between px-8 text-forest mono-ui text-[11px] z-10 shrink-0",children:[(0,c.jsxs)("div",{className:"flex gap-6",children:[(0,c.jsx)("span",{className:"pr-6 border-r border-forest/30",children:"HELP_TERMINAL"}),(0,c.jsx)("span",{children:"PRIVACY_PROTOCOL_2026"})]}),(0,c.jsx)("div",{className:"flex items-center gap-2",children:(0,c.jsx)("span",{children:"SYSTEM_STORAGE: 84% READ_ONLY"})})]})]})}}}]);
//# sourceMappingURL=146.8747dfce.chunk.js.map