"use strict";(self.webpackChunknarvo_frontend=self.webpackChunknarvo_frontend||[]).push([[284],{7302(e,t,s){s.d(t,{Ay:()=>l,Oi:()=>o,_N:()=>c,c$:()=>n,if:()=>i});s(5043);var a=s(579);const r=e=>{let{className:t="",variant:s="rect"}=e;const r="animate-pulse bg-forest/10";return"circle"===s?(0,a.jsx)("div",{className:"".concat(r," rounded-full ").concat(t)}):"text"===s?(0,a.jsx)("div",{className:"".concat(r," h-4 ").concat(t)}):(0,a.jsx)("div",{className:"".concat(r," ").concat(t)})},n=()=>(0,a.jsxs)("div",{className:"narvo-border bg-surface/30 flex flex-col md:flex-row min-h-[320px]",children:[(0,a.jsx)("div",{className:"md:w-1/2 bg-forest/5 min-h-[200px]"}),(0,a.jsxs)("div",{className:"flex-1 p-8 flex flex-col justify-between gap-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(r,{variant:"text",className:"w-40 h-3"}),(0,a.jsx)(r,{variant:"text",className:"w-full h-8"}),(0,a.jsx)(r,{variant:"text",className:"w-3/4 h-8"}),(0,a.jsx)(r,{variant:"text",className:"w-full h-4 mt-4"}),(0,a.jsx)(r,{variant:"text",className:"w-2/3 h-4"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(r,{className:"flex-1 h-12"}),(0,a.jsx)(r,{className:"w-12 h-12"}),(0,a.jsx)(r,{className:"w-12 h-12"})]})]})]}),o=()=>(0,a.jsxs)("div",{className:"p-6 narvo-border-b",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(r,{variant:"text",className:"w-24 h-4"}),(0,a.jsx)(r,{variant:"text",className:"w-14 h-4"})]}),(0,a.jsx)(r,{variant:"text",className:"w-20 h-4"})]}),(0,a.jsx)(r,{variant:"text",className:"w-full h-6 mb-2"}),(0,a.jsx)(r,{variant:"text",className:"w-3/4 h-6 mb-3"}),(0,a.jsx)(r,{variant:"text",className:"w-full h-4"}),(0,a.jsx)(r,{variant:"text",className:"w-2/3 h-4 mt-1"})]}),i=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r,{className:"w-20 h-6"}),(0,a.jsx)(r,{className:"w-20 h-6"})]}),(0,a.jsx)(r,{variant:"text",className:"w-full h-12"}),(0,a.jsx)(r,{variant:"text",className:"w-4/5 h-12"}),(0,a.jsxs)("div",{className:"border-l-2 border-forest/20 pl-6 space-y-2",children:[(0,a.jsx)(r,{variant:"text",className:"w-full h-5"}),(0,a.jsx)(r,{variant:"text",className:"w-3/4 h-5"})]}),(0,a.jsx)(r,{className:"w-full h-[400px]"}),(0,a.jsx)(r,{className:"w-full h-16"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(r,{variant:"text",className:"w-full h-4"}),(0,a.jsx)(r,{variant:"text",className:"w-full h-4"}),(0,a.jsx)(r,{variant:"text",className:"w-2/3 h-4"})]})]}),c=e=>{let{count:t=4}=e;return(0,a.jsx)("div",{className:"narvo-border bg-surface/20 divide-y divide-forest/10",children:Array.from({length:t}).map((e,t)=>(0,a.jsx)(o,{},t))})},l=r},9903(e,t,s){s.r(t),s.d(t,{default:()=>D});var a=s(9379),r=s(5043),n=s(1739),o=s(6442),i=s(8357),c=s(1215),l=s(4663),d=s(1042),x=s(7149),m=s(6539),p=s(7505),h=s(8564),u=s(3654),f=s(866),b=s(1111),g=s(8924),j=s(6930),N=s(3988),v=s(5643),y=s(985),w=s(5130),k=s(7302),A=s(3216),S=s(2633),E=s(714),C=s(9659),T=s(8899),_=s(4547),O=s(2970),I=s(579);const L=e=>{let{title:t="TRANSMISSION HALTED",message:s="The news feed matrix is currently empty. We are unable to establish a secure connection to the broadcast server.",errorCode:a="0x4F_NULL",showSlots:r=!0,onRefresh:n,onDiagnostics:o,variant:i="default"}=e;const c=(0,A.Zp)(),l=()=>{n?n():window.location.reload()},d=[{id:"SLOT_01",icon:b.C,opacity:"opacity-40"},{id:"SLOT_02",icon:S.F,opacity:"opacity-30"},{id:"SLOT_03",icon:E.t,opacity:"opacity-20"},{id:"SLOT_04",icon:C.l,opacity:"opacity-10"}],x={default:{title:"TRANSMISSION HALTED",message:"The news feed matrix is currently empty. We are unable to establish a secure connection to the broadcast server.",errorCode:"0x4F_NULL",primaryAction:"INITIATE REFRESH",secondaryAction:"SYSTEM DIAGNOSTICS"},search:{title:"NO RESULTS FOUND",message:"Your search query returned zero matches. Try adjusting your filters or using different keywords.",errorCode:"0x00_EMPTY_SET",primaryAction:"CLEAR FILTERS",secondaryAction:"BROWSE ALL"},saved:{title:"ARCHIVE EMPTY",message:"You have not saved any stories yet. Bookmark articles from the feed to access them offline.",errorCode:"0x00_NO_SAVES",primaryAction:"GO TO FEED",secondaryAction:"BROWSE TRENDING"},offline:{title:"NO CACHED DATA",message:"No offline content is available. Download stories while online to access them later.",errorCode:"0x00_CACHE_EMPTY",primaryAction:"GO ONLINE",secondaryAction:"MANAGE STORAGE"}},m=x[i]||x.default;return(0,I.jsxs)("div",{className:"relative flex-1 flex flex-col p-8 gap-8","data-testid":"empty-state",children:[(0,I.jsx)("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#628141 1px, transparent 1px), linear-gradient(90deg, #628141 1px, transparent 1px)",backgroundSize:"60px 60px"}}),(0,I.jsxs)("div",{className:"flex justify-between items-end pb-4 narvo-border-b relative z-10",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("h2",{className:"font-display text-2xl md:text-3xl font-bold text-content uppercase tracking-tight",children:"GLOBAL FEED MATRIX"}),(0,I.jsxs)("p",{className:"mono-ui text-[12px] text-forest font-bold mt-1",children:["SECTOR_7 ","//"," NULL_TRANSMISSION"]})]}),(0,I.jsxs)("div",{className:"flex gap-4",children:[(0,I.jsxs)("button",{className:"px-4 md:px-6 py-3 narvo-border mono-ui text-[12px] font-bold text-forest hover:text-content transition-all flex items-center gap-2 uppercase",children:[(0,I.jsx)(T.r,{className:"w-4 h-4"}),(0,I.jsx)("span",{className:"hidden sm:inline",children:"FILTER"})]}),(0,I.jsxs)("button",{onClick:l,className:"px-4 md:px-6 py-3 bg-primary mono-ui text-[12px] font-bold text-background-dark hover:bg-white transition-all flex items-center gap-2 uppercase",children:[(0,I.jsx)(_.o,{className:"w-4 h-4"}),(0,I.jsx)("span",{className:"hidden sm:inline",children:"RECONNECT"})]})]})]}),r&&(0,I.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 flex-1 relative z-10",children:d.map((e,t)=>{const s=e.icon;return(0,I.jsxs)("div",{className:"narvo-border border-dashed p-4 md:p-6 flex flex-col justify-between bg-background-dark/20 ".concat(e.opacity," hover:opacity-100 transition-opacity min-h-[120px] md:min-h-[150px]"),children:[(0,I.jsxs)("div",{className:"flex justify-between items-start",children:[(0,I.jsx)("span",{className:"mono-ui text-[10px] text-forest font-bold tracking-widest",children:e.id}),(0,I.jsx)(s,{className:"w-5 h-5 text-forest"})]}),(0,I.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,I.jsx)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest font-bold text-center",children:"NO_SIGNAL_DETECTED"})})]},t)})}),(0,I.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-20",children:(0,I.jsxs)("div",{className:"bg-background-dark narvo-border p-8 md:p-12 max-w-lg w-full mx-4 text-center shadow-2xl pointer-events-auto backdrop-blur-md",children:[(0,I.jsx)("div",{className:"mb-6 md:mb-8 flex justify-center",children:(0,I.jsxs)("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-surface narvo-border border-dashed flex items-center justify-center relative",children:[(0,I.jsx)("div",{className:"absolute inset-0 border border-primary/20 animate-ping"}),(0,I.jsx)(O.r,{className:"w-10 h-10 md:w-12 md:h-12 text-primary"})]})}),(0,I.jsx)("h3",{className:"font-display text-2xl md:text-3xl font-bold text-content mb-4 uppercase tracking-tighter",children:t||m.title}),(0,I.jsx)("p",{className:"text-forest text-sm mono-ui leading-relaxed mb-8 md:mb-10 lowercase",children:s||m.message}),(0,I.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,I.jsxs)("button",{onClick:l,className:"h-12 md:h-14 px-6 md:px-8 bg-primary text-background-dark font-bold mono-ui text-[12px] md:text-[13px] hover:bg-white transition-all flex items-center justify-center gap-3","data-testid":"empty-state-refresh-btn",children:[(0,I.jsx)(_.o,{className:"w-4 h-4 md:w-5 md:h-5"}),m.primaryAction]}),(0,I.jsx)("button",{onClick:()=>{o?o():c("/settings")},className:"h-12 md:h-14 px-6 md:px-8 narvo-border text-primary font-bold mono-ui text-[12px] md:text-[13px] hover:bg-primary hover:text-background-dark transition-all","data-testid":"empty-state-diagnostics-btn",children:m.secondaryAction})]}),(0,I.jsxs)("div",{className:"mt-8 md:mt-10 pt-6 narvo-border-t flex justify-between items-center text-[10px] md:text-[11px] mono-ui font-bold text-forest",children:[(0,I.jsxs)("span",{children:["ERR_CODE: ",a||m.errorCode]}),(0,I.jsx)("span",{children:"NARVO_SYS_V2.6"})]})]})})]})},R="http://localhost:8000",D=()=>{var e,t,s,A,S,E;const{t:C}=(0,j.Bd)(),[T,_]=(0,r.useState)(null),[O,D]=(0,r.useState)(!0),[F,G]=(0,r.useState)("latest"),[P,U]=(0,r.useState)("podcasts"),[M,Y]=(0,r.useState)([]),[B,V]=(0,r.useState)(!0),[W,H]=(0,r.useState)(""),[z,q]=(0,r.useState)("all"),[K,Q]=(0,r.useState)([]),[X,Z]=(0,r.useState)(null),[,$]=(0,r.useState)([]),[J,ee]=(0,r.useState)({}),{playTrack:te}=(0,N.n)(),{addToQueue:se,addSingleToQueue:ae,queue:re,isProcessing:ne}=(0,v.F)(),{sources:oe,getTotalSources:ie,getLocalSources:ce,getInternationalSources:le,getContinentalSources:de,getBroadcastSources:xe}=(0,y.do)(),[me,pe]=(0,r.useState)([]),[he,ue]=(0,r.useState)(!0),[fe,be]=(0,r.useState)("NG"),[ge,je]=(0,r.useState)([]),[Ne,ve]=(0,r.useState)(null),[ye,we]=(0,r.useState)(!1),[ke,Ae]=(0,r.useState)(.7),Se=(0,r.useRef)(null),[Ee,Ce]=(0,r.useState)(null),Te=async e=>{const t={};for(const s of e)t[s.id]=await(0,w.pP)(s.id);ee(t)};(0,r.useEffect)(()=>{fetch("".concat(R,"/api/news?limit=1")).then(e=>e.json()).then(e=>{e.length>0&&_(e[0]),D(!1)}).catch(()=>D(!1)),fetch("".concat(R,"/api/radio/countries")).then(e=>e.json()).then(je).catch(console.error),fetch("".concat(R,"/api/discover/trending")).then(e=>e.json()).then($).catch(console.error),fetch("".concat(R,"/api/podcasts/categories")).then(e=>e.json()).then(Q).catch(console.error),fetch("".concat(R,"/api/aggregators/fetch?keywords=Nigeria+Africa")).then(e=>e.json()).then(Ce).catch(console.error)},[]),(0,r.useEffect)(()=>{V(!0),fetch("".concat(R,"/api/podcasts?sort=").concat(F,"&limit=8")).then(e=>e.json()).then(e=>{Y(e),Te(e),V(!1)}).catch(()=>V(!1))},[F]),(0,r.useEffect)(()=>{ue(!0),fetch("".concat(R,"/api/radio/stations?country=").concat(fe,"&limit=10")).then(e=>e.json()).then(e=>{pe(e),e.length>0&&!Ne&&ve(e[0]),ue(!1)}).catch(()=>ue(!1))},[fe,Ne]);const _e=e=>{te({id:e.id,title:e.title,summary:e.description})},Oe=(0,r.useRef)(null),Ie="all"===z?M:M.filter(e=>(e.category||"").toLowerCase()===z),Le=e=>re.some(t=>t.id===e&&"complete"!==t.status&&"failed"!==t.status),Re=async e=>{if(!e.audio_url)return void alert("This podcast does not have a downloadable audio file yet.");const t="".concat(R,"/api/podcasts/").concat(e.id,"/audio");ae({id:e.id,audioUrl:t,title:e.title,source:e.episode,duration:e.duration,type:"podcast"})};(0,r.useEffect)(()=>{const e=re.filter(e=>"complete"===e.status).map(e=>e.id);e.length>0&&ee(t=>{const s=(0,a.A)({},t);return e.forEach(e=>{s[e]=!0}),s})},[re]);return(0,I.jsx)("main",{className:"flex-1 flex flex-col bg-background-dark relative min-h-0 overflow-hidden","data-testid":"discover-page",children:(0,I.jsxs)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scroll",children:[(0,I.jsxs)("section",{className:"h-[300px] md:h-[450px] narvo-border-b relative group overflow-hidden shrink-0",children:[O?(0,I.jsx)("div",{className:"absolute inset-0 bg-surface/20 animate-pulse"}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"absolute inset-0 bg-cover bg-center grayscale contrast-125 transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:"url('https://images.pexels.com/photos/5061702/pexels-photo-5061702.jpeg?auto=compress&cs=tinysrgb&w=1600')"}}),(0,I.jsx)("div",{className:"absolute inset-0 bg-background-dark/40 mix-blend-multiply"})]}),(0,I.jsx)("div",{className:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-background-dark via-background-dark/80 to-transparent p-6 md:p-12",children:(0,I.jsxs)("div",{className:"max-w-4xl space-y-4 md:space-y-6",children:[(0,I.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,I.jsx)("span",{className:"bg-primary text-background-dark px-2 md:px-3 py-1 mono-ui text-[11px] md:text-[12px] font-bold",children:C("discover.live_broadcast")}),(0,I.jsx)("span",{className:"mono-ui text-[11px] md:text-[12px] text-primary",children:"SIGNAL_STRONG // ARC_NODE_01"})]}),O?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Ay,{variant:"text",className:"w-3/4 h-12 md:h-16"}),(0,I.jsx)(k.Ay,{variant:"text",className:"w-1/2 h-4"})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("h2",{className:"font-display text-3xl md:text-6xl font-bold uppercase tracking-tighter text-content leading-none",children:[null===T||void 0===T||null===(e=T.title)||void 0===e?void 0:e.split(" ").slice(0,3).join(" ")," ",(0,I.jsx)("span",{className:"text-primary",children:"Shift."})]}),(0,I.jsxs)("p",{className:"text-xs md:text-sm text-forest font-body max-w-2xl leading-relaxed hidden sm:block",children:["ANALYSIS_DEEP_DIVE: ",null===T||void 0===T||null===(t=T.summary)||void 0===t?void 0:t.slice(0,120),"..."]})]}),(0,I.jsxs)("div",{className:"flex items-center gap-4 md:gap-6 pt-2 md:pt-4",children:[(0,I.jsxs)("button",{onClick:()=>{T&&te(T)},className:"flex items-center gap-2 md:gap-3 bg-white text-background-dark px-4 md:px-8 py-2 md:py-4 mono-ui text-[12px] md:text-[12px] font-bold hover:bg-primary transition-colors","data-testid":"start-transmission-btn",children:[(0,I.jsx)(n.j,{className:"w-4 h-4 md:w-5 md:h-5",fill:"currentColor"}),(0,I.jsxs)("span",{children:["[ ",C("discover.start_transmission")," ]"]})]}),(0,I.jsxs)("div",{className:"hidden sm:flex gap-2 md:gap-4",children:[(0,I.jsx)("div",{className:"text-primary mono-ui text-[11px] md:text-[12px] bg-background-dark narvo-border px-2 md:px-3 py-1",children:"CAM_01"}),(0,I.jsx)("div",{className:"text-primary mono-ui text-[11px] md:text-[12px] bg-background-dark narvo-border px-2 md:px-3 py-1 animate-pulse",children:"REC \u25cf"})]})]})]})})]}),(0,I.jsxs)("div",{className:"lg:hidden flex items-center narvo-border-b",children:[(0,I.jsxs)("button",{onClick:()=>U("podcasts"),className:"flex-1 h-10 flex items-center justify-center gap-2 mono-ui text-[11px] font-bold transition-colors ".concat("podcasts"===P?"bg-primary text-background-dark":"text-forest hover:text-content"),"data-testid":"tab-podcasts",children:[(0,I.jsx)(o.f,{className:"w-3.5 h-3.5"})," PODCASTS"]}),(0,I.jsxs)("button",{onClick:()=>U("radio"),className:"flex-1 h-10 flex items-center justify-center gap-2 mono-ui text-[11px] font-bold transition-colors ".concat("radio"===P?"bg-primary text-background-dark":"text-forest hover:text-content"),"data-testid":"tab-radio",children:[(0,I.jsx)(i.s,{className:"w-3.5 h-3.5"})," RADIO"]})]}),(0,I.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3",children:[(0,I.jsxs)("div",{className:"lg:col-span-2 lg:narvo-border-r h-full ".concat("podcasts"!==P?"hidden lg:block":""),children:[(0,I.jsxs)("div",{className:"flex flex-col gap-3 p-4 md:p-8 narvo-border-b bg-surface/10 sticky top-0 z-10 backdrop-blur-md",children:[(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)("h3",{className:"font-display text-lg md:text-2xl font-bold uppercase text-content tracking-tight",children:C("discover.deep_dive_podcasts")}),(0,I.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[M.some(e=>e.audio_url&&!J[e.id]&&!Le(e.id))&&(0,I.jsxs)("button",{onClick:async()=>{const e=M.filter(e=>e.audio_url&&!J[e.id]&&!Le(e.id));if(0===e.length)return;const t=e.map(e=>({id:e.id,audioUrl:"".concat(R,"/api/podcasts/").concat(e.id,"/audio"),title:e.title,source:e.episode,duration:e.duration,type:"podcast"}));se(t)},disabled:ne,className:"flex items-center gap-1.5 px-3 py-1 mono-ui text-[10px] md:text-[11px] font-bold narvo-border ".concat(ne?"text-forest cursor-wait":"text-primary hover:bg-primary hover:text-background-dark"," transition-colors"),"data-testid":"download-all-btn",children:[(0,I.jsx)(c.p,{className:"w-3 h-3"}),(0,I.jsx)("span",{className:"hidden sm:inline",children:"DOWNLOAD ALL"})]}),(0,I.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 p-1 narvo-border bg-background-dark",children:[(0,I.jsx)("button",{onClick:()=>{G("latest"),H("")},className:"px-2 md:px-4 py-1 mono-ui text-[11px] md:text-[12px] font-bold ".concat("latest"===F?"bg-primary text-background-dark":"text-forest hover:text-content"),children:C("discover.latest")}),(0,I.jsx)("button",{onClick:()=>{G("popular"),H("")},className:"px-2 md:px-4 py-1 mono-ui text-[11px] md:text-[12px] ".concat("popular"===F?"bg-primary text-background-dark font-bold":"text-forest hover:text-content"),children:C("discover.popular")})]})]})]}),(0,I.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,I.jsxs)("div",{className:"relative flex-1",children:[(0,I.jsx)(l.e,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-forest"}),(0,I.jsx)("input",{type:"text",value:W,onChange:e=>{return t=e.target.value,H(t),Oe.current&&clearTimeout(Oe.current),void(t.trim()&&(Oe.current=setTimeout(()=>{V(!0),fetch("".concat(R,"/api/podcasts/search?q=").concat(encodeURIComponent(t),"&limit=10")).then(e=>e.json()).then(e=>{Y(e),Te(e),V(!1)}).catch(()=>V(!1))},500)));var t},placeholder:"SEARCH_EPISODES...",className:"w-full h-8 pl-8 pr-3 narvo-border bg-background-dark mono-ui text-[11px] text-content placeholder:text-forest/40 focus:border-primary focus:outline-none","data-testid":"podcast-search-input"})]}),(0,I.jsxs)("div",{className:"flex gap-1 overflow-x-auto custom-scroll pb-1",children:[(0,I.jsx)("button",{onClick:()=>q("all"),className:"px-2 py-1 mono-ui text-[10px] font-bold whitespace-nowrap shrink-0 ".concat("all"===z?"bg-primary text-background-dark":"narvo-border text-forest hover:text-content"),"data-testid":"podcast-cat-all",children:"ALL"}),K.map(e=>(0,I.jsx)("button",{onClick:()=>q(e.id),className:"px-2 py-1 mono-ui text-[10px] font-bold whitespace-nowrap shrink-0 ".concat(z===e.id?"bg-primary text-background-dark":"narvo-border text-forest hover:text-content"),"data-testid":"podcast-cat-".concat(e.id),children:e.name.toUpperCase()},e.id))]})]})]}),(0,I.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-[1px] bg-forest/20",children:B?Array.from({length:4}).map((e,t)=>(0,I.jsxs)("div",{className:"bg-background-dark p-4 md:p-8 flex flex-col gap-4",children:[(0,I.jsxs)("div",{className:"flex justify-between items-start",children:[(0,I.jsx)(k.Ay,{className:"w-16 h-5"}),(0,I.jsx)(k.Ay,{className:"w-12 h-4"})]}),(0,I.jsx)(k.Ay,{variant:"text",className:"w-full h-6"}),(0,I.jsx)(k.Ay,{variant:"text",className:"w-3/4 h-4"}),(0,I.jsx)(k.Ay,{variant:"text",className:"w-1/2 h-4"})]},t)):0===Ie.length?(0,I.jsx)("div",{className:"col-span-2 p-8 text-center",children:(0,I.jsx)(L,{title:W?"NO RESULTS FOUND":"NO PODCASTS AVAILABLE",description:W?'No episodes match "'.concat(W,'"'):"Check back later for new content"})}):Ie.map(e=>{const t=Le(e.id),s=J[e.id],a=(e=>{const t=re.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.progress)||0})(e.id),r=X===e.id;return(0,I.jsxs)("article",{className:"bg-background-dark p-4 md:p-8 flex flex-col gap-4 md:gap-6 transition-colors group cursor-pointer border border-transparent ".concat(r?"bg-primary/5 border-primary/30 col-span-1 md:col-span-2":"hover:bg-surface/40 hover:border-forest/50"),onClick:()=>Z(r?null:e.id),"data-testid":"podcast-".concat(e.id),children:[(0,I.jsxs)("div",{className:"flex justify-between items-start",children:[(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)("span",{className:"mono-ui text-[10px] md:text-[11px] text-primary border border-primary/30 px-1.5 md:px-2 py-0.5 bg-primary/10 font-bold",children:e.episode}),s&&(0,I.jsxs)("span",{className:"flex items-center gap-1 mono-ui text-[9px] text-green-500",children:[(0,I.jsx)(d.r,{weight:"fill",className:"w-3 h-3"}),"OFFLINE"]})]}),(0,I.jsx)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest",children:e.duration})]}),(0,I.jsx)("div",{className:"flex items-center gap-2",children:(0,I.jsx)("span",{className:"mono-ui text-[9px] text-forest bg-surface/50 px-1.5 py-0.5 uppercase",children:e.category})}),(0,I.jsx)("h4",{className:"font-display text-base md:text-xl font-bold uppercase tracking-tight text-content leading-tight group-hover:text-primary transition-colors",children:e.title}),(0,I.jsx)("p",{className:"text-[12px] md:text-xs text-forest font-mono leading-relaxed opacity-70 line-clamp-3",children:e.description}),r&&(0,I.jsxs)("div",{className:"narvo-border bg-surface/10 p-4 space-y-3","data-testid":"podcast-detail-".concat(e.id),children:[(0,I.jsxs)("div",{className:"flex flex-wrap gap-3 mono-ui text-[10px] text-forest",children:[(0,I.jsxs)("span",{children:["CATEGORY: ",(0,I.jsx)("span",{className:"text-primary",children:(e.category||"GENERAL").toUpperCase()})]}),(0,I.jsxs)("span",{children:["DURATION: ",(0,I.jsx)("span",{className:"text-content",children:e.duration})]}),e.published&&(0,I.jsxs)("span",{children:["PUBLISHED: ",(0,I.jsx)("span",{className:"text-content",children:e.published})]})]}),(0,I.jsx)("p",{className:"mono-ui text-[11px] text-forest/80 leading-relaxed",children:e.description}),(0,I.jsxs)("div",{className:"flex gap-2 pt-1",children:[(0,I.jsxs)("button",{onClick:t=>{t.stopPropagation(),_e(e)},className:"flex items-center gap-2 bg-primary text-background-dark px-4 py-2 mono-ui text-[11px] font-bold hover:bg-white transition-colors","data-testid":"play-detail-".concat(e.id),children:[(0,I.jsx)(n.j,{className:"w-4 h-4",fill:"currentColor"}),"PLAY_NOW"]}),e.audio_url&&!s&&(0,I.jsxs)("button",{onClick:t=>{t.stopPropagation(),Re(e)},disabled:t,className:"flex items-center gap-2 narvo-border px-4 py-2 mono-ui text-[11px] font-bold text-forest hover:text-primary hover:border-primary transition-colors",children:[(0,I.jsx)(c.p,{className:"w-4 h-4"}),t?"".concat(a,"%"):"DOWNLOAD"]})]})]}),(0,I.jsxs)("div",{className:"mt-auto pt-4 md:pt-6 flex items-center justify-between",children:[(0,I.jsxs)("button",{onClick:()=>_e(e),className:"flex items-center gap-2 md:gap-3 text-primary mono-ui text-[11px] md:text-[12px] font-bold hover:text-content transition-colors","data-testid":"play-podcast-".concat(e.id),children:[(0,I.jsx)(x.N,{className:"w-5 h-5 md:w-6 md:h-6"}),(0,I.jsx)("span",{children:"[ LISTEN_CMD ]"})]}),e.audio_url&&!s&&(0,I.jsx)("button",{onClick:t=>{t.stopPropagation(),Re(e)},disabled:t,className:"flex items-center gap-1.5 mono-ui text-[10px] md:text-[11px] ".concat(t?"text-primary cursor-wait":"text-forest hover:text-primary"," transition-colors"),"data-testid":"download-podcast-".concat(e.id),title:"Download for offline",children:t?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(m.N,{className:"w-4 h-4 animate-spin"}),(0,I.jsxs)("span",{children:[a,"%"]})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.p,{className:"w-4 h-4"}),(0,I.jsx)("span",{className:"hidden md:inline",children:"OFFLINE"})]})})]})]},e.id)})})]}),(0,I.jsxs)("div",{className:"lg:col-span-1 flex flex-col h-full bg-surface/5 ".concat("radio"!==P?"hidden lg:flex":""),children:[(0,I.jsx)("audio",{ref:Se,className:"hidden"}),(0,I.jsxs)("div",{className:"p-4 md:p-8 narvo-border-b bg-background-dark sticky top-0 z-10",children:[(0,I.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,I.jsx)("h3",{className:"font-display text-lg md:text-2xl font-bold uppercase text-content tracking-tight",children:C("discover.radio_garden")}),(0,I.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] md:text-[11px] mono-ui text-primary font-bold bg-primary/10 px-1.5 md:px-2 py-0.5 narvo-border",children:[(0,I.jsx)("span",{className:"w-1.5 h-1.5 ".concat(ye?"bg-primary animate-pulse":"bg-forest")}),ye?"LIVE":"STANDBY"]})]}),(0,I.jsx)("p",{className:"mono-ui text-[11px] md:text-[12px] text-forest",children:"AFRICAN_BROADCAST_RELAY_v2.1"})]}),(0,I.jsx)("div",{className:"p-4 narvo-border-b flex flex-wrap gap-2",children:ge.slice(0,6).map(e=>(0,I.jsxs)("button",{onClick:()=>be(e.code),className:"px-2 py-1 mono-ui text-[10px] md:text-[11px] font-bold transition-all ".concat(fe===e.code?"bg-primary text-background-dark":"narvo-border text-forest hover:text-content hover:border-white"),"data-testid":"radio-country-".concat(e.code),children:[e.flag," ",e.code]},e.code))}),(0,I.jsx)("div",{className:"flex-1 overflow-y-auto custom-scroll",children:he?(0,I.jsx)("div",{className:"p-4 space-y-3",children:Array.from({length:4}).map((e,t)=>(0,I.jsxs)("div",{className:"p-3 narvo-border bg-surface/10",children:[(0,I.jsx)(k.Ay,{variant:"text",className:"w-32 h-4 mb-2"}),(0,I.jsx)(k.Ay,{variant:"text",className:"w-24 h-3"})]},t))}):0===me.length?(0,I.jsx)("div",{className:"p-4 flex flex-col items-center justify-center min-h-[200px]",children:(0,I.jsxs)("div",{className:"narvo-border bg-surface/10 p-6 text-center",children:[(0,I.jsx)(i.s,{className:"w-8 h-8 text-forest mx-auto mb-3 opacity-50"}),(0,I.jsx)("h4",{className:"font-display text-sm font-bold text-content uppercase mb-2",children:"NO STATIONS FOUND"}),(0,I.jsx)("p",{className:"mono-ui text-[11px] text-forest",children:"Try selecting another country."})]})}):(0,I.jsx)("div",{className:"p-4 space-y-2",children:me.map(e=>(0,I.jsxs)("button",{onClick:()=>(e=>{Se.current&&Se.current.pause(),ve(e),we(!0),Se.current&&(Se.current.src=e.url_resolved||e.url,Se.current.volume=ke,Se.current.play().catch(e=>{console.error("Radio play error:",e),we(!1)}))})(e),className:"w-full p-3 narvo-border text-left transition-all group ".concat((null===Ne||void 0===Ne?void 0:Ne.id)===e.id&&ye?"bg-primary/10 border-primary":"bg-surface/10 hover:bg-surface/30 hover:border-forest"),"data-testid":"radio-station-".concat(e.id),children:[(0,I.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,I.jsx)("span",{className:"font-display text-xs md:text-sm font-bold uppercase truncate ".concat((null===Ne||void 0===Ne?void 0:Ne.id)===e.id&&ye?"text-primary":"text-content"),children:e.name}),(null===Ne||void 0===Ne?void 0:Ne.id)===e.id&&ye&&(0,I.jsx)(i.s,{className:"w-3 h-3 text-primary animate-pulse"})]}),(0,I.jsxs)("div",{className:"flex items-center gap-2 mono-ui text-[10px] text-forest",children:[(0,I.jsx)("span",{children:e.country}),e.bitrate>0&&(0,I.jsxs)("span",{children:["\u2022 ",e.bitrate,"kbps"]})]})]},e.id))})}),(0,I.jsxs)("div",{className:"p-4 md:p-6 bg-background-dark/90 backdrop-blur-md narvo-border-t",children:[(0,I.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,I.jsxs)("div",{className:"space-y-1 min-w-0 flex-1",children:[(0,I.jsx)("span",{className:"mono-ui text-[10px] md:text-[11px] text-forest font-bold block",children:C("discover.now_playing")}),(0,I.jsx)("p",{className:"mono-ui text-[12px] md:text-xs text-content font-bold uppercase truncate",children:(null===Ne||void 0===Ne?void 0:Ne.name)||C("discover.select_station")}),(0,I.jsxs)("p",{className:"mono-ui text-[10px] text-forest",children:[(null===Ne||void 0===Ne?void 0:Ne.country)||"--"," ",null!==Ne&&void 0!==Ne&&Ne.bitrate?"// ".concat(Ne.bitrate,"kbps"):""]})]}),(0,I.jsx)("button",{onClick:()=>{Se.current&&Ne&&(ye?(Se.current.pause(),we(!1)):(Se.current.src=Ne.url_resolved||Ne.url,Se.current.volume=ke,Se.current.play().catch(e=>{console.error("Radio play error:",e),we(!1)}),we(!0)))},disabled:!Ne,className:"w-12 h-12 md:w-14 md:h-14 narvo-border flex items-center justify-center transition-colors ".concat(Ne?"bg-primary text-background-dark hover:bg-white":"bg-surface/20 text-forest cursor-not-allowed"),"data-testid":"radio-play-btn",children:ye?(0,I.jsx)(p.v,{className:"w-5 h-5 md:w-6 md:h-6"}):(0,I.jsx)(n.j,{className:"w-5 h-5 md:w-6 md:h-6",fill:"currentColor"})})]}),(0,I.jsxs)("div",{className:"flex items-center gap-3",children:[(0,I.jsx)(h.j,{className:"w-4 h-4 text-forest"}),(0,I.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:ke,onChange:e=>{const t=parseFloat(e.target.value);Ae(t),Se.current&&(Se.current.volume=t)},className:"flex-1 h-1 bg-forest/30 appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-primary","data-testid":"radio-volume"}),(0,I.jsx)(u.o,{className:"w-4 h-4 text-primary"})]})]})]})]}),Ee&&Ee.total>0&&(0,I.jsxs)("section",{className:"narvo-border-t bg-surface/5","data-testid":"aggregator-wire-section",children:[(0,I.jsx)("div",{className:"p-4 md:p-8 narvo-border-b bg-surface/10",children:(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsxs)("div",{className:"flex items-center gap-3",children:[(0,I.jsx)(f.l,{weight:"fill",className:"w-5 h-5 text-primary"}),(0,I.jsx)("h3",{className:"font-display text-lg md:text-2xl font-bold uppercase text-content tracking-tight",children:"AGGREGATOR_WIRE"})]}),(0,I.jsxs)("div",{className:"flex items-center gap-3 mono-ui text-[11px]",children:[(0,I.jsxs)("span",{className:"text-primary font-bold",children:[Ee.total," ARTICLES"]}),(0,I.jsx)("span",{className:"text-forest/50",children:"MEDIASTACK + NEWSDATA"})]})]})}),(0,I.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-[1px] bg-forest/20",children:[...(null===(s=Ee.mediastack)||void 0===s?void 0:s.articles)||[],...(null===(A=Ee.newsdata)||void 0===A?void 0:A.articles)||[]].slice(0,8).map((e,t)=>(0,I.jsxs)("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer",className:"bg-background-dark p-4 hover:bg-surface/20 transition-colors group block","data-testid":"aggregator-article-".concat(t),children:[(0,I.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,I.jsx)("span",{className:"mono-ui text-[9px] font-bold px-1.5 py-0.5 ".concat("mediastack"===e.aggregator?"bg-amber-500/20 text-amber-500 border border-amber-500/30":"bg-primary/10 text-primary border border-primary/30"),children:"mediastack"===e.aggregator?"MEDIASTACK":"NEWSDATA"}),(0,I.jsx)("span",{className:"mono-ui text-[10px] text-forest/50 truncate",children:e.source})]}),(0,I.jsx)("h4",{className:"mono-ui text-[12px] md:text-[13px] text-content font-bold leading-tight group-hover:text-primary transition-colors line-clamp-2",children:e.title}),e.summary&&(0,I.jsx)("p",{className:"mt-1 mono-ui text-[10px] text-forest/60 line-clamp-2",children:e.summary})]},e.id||t))})]}),(0,I.jsxs)("section",{className:"narvo-border-t bg-surface/5",children:[(0,I.jsx)("div",{className:"p-4 md:p-8 narvo-border-b bg-surface/10",children:(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsxs)("div",{className:"flex items-center gap-3",children:[(0,I.jsx)(b.C,{className:"w-5 h-5 text-primary"}),(0,I.jsx)("h3",{className:"font-display text-lg md:text-2xl font-bold uppercase text-content tracking-tight",children:"CONTENT_SOURCES"})]}),(0,I.jsx)("div",{className:"flex items-center gap-4 mono-ui text-[11px]",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)("span",{className:"w-2 h-2 bg-primary animate-pulse"}),(0,I.jsxs)("span",{className:"text-primary font-bold",children:[ie()," ACTIVE_FEEDS"]})]})})]})}),(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-[1px] bg-forest/20",children:[(0,I.jsxs)("div",{className:"bg-background-dark p-4 md:p-6",children:[(0,I.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,I.jsx)(o.f,{className:"w-4 h-4 text-primary"}),(0,I.jsx)("span",{className:"mono-ui text-[12px] text-forest font-bold tracking-widest",children:"RSS_FEEDS"})]}),(0,I.jsxs)("div",{className:"space-y-3",children:[(0,I.jsxs)("div",{className:"flex justify-between items-center narvo-border p-3 bg-surface/10",children:[(0,I.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"LOCAL_NG"}),(0,I.jsx)("span",{className:"mono-ui text-sm text-primary font-bold",children:ce()})]}),(0,I.jsxs)("div",{className:"flex justify-between items-center narvo-border p-3 bg-surface/10",children:[(0,I.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"CONTINENTAL_AF"}),(0,I.jsx)("span",{className:"mono-ui text-sm text-primary font-bold",children:de()})]}),(0,I.jsxs)("div",{className:"flex justify-between items-center narvo-border p-3 bg-surface/10",children:[(0,I.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"INTERNATIONAL"}),(0,I.jsx)("span",{className:"mono-ui text-sm text-primary font-bold",children:le()})]}),Ee&&(0,I.jsxs)("div",{className:"flex justify-between items-center narvo-border p-3 bg-primary/5 border-primary/20",children:[(0,I.jsx)("span",{className:"mono-ui text-[12px] text-primary",children:"AGGREGATOR_APIs"}),(0,I.jsx)("span",{className:"mono-ui text-sm text-primary font-bold",children:Ee.total})]}),(0,I.jsx)("div",{className:"mono-ui text-[10px] text-forest/60 mt-2",children:(null===oe||void 0===oe||null===(S=oe.sources)||void 0===S?void 0:S.slice(0,5).map(e=>e.name).join(" \xb7 "))||"Loading..."})]})]}),(0,I.jsxs)("div",{className:"bg-background-dark p-4 md:p-6",children:[(0,I.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,I.jsx)(i.s,{className:"w-4 h-4 text-primary"}),(0,I.jsx)("span",{className:"mono-ui text-[12px] text-forest font-bold tracking-widest",children:"BROADCAST_RELAY"})]}),(0,I.jsxs)("div",{className:"space-y-3",children:[(0,I.jsxs)("div",{className:"flex justify-between items-center narvo-border p-3 bg-surface/10",children:[(0,I.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"TV_STATIONS"}),(0,I.jsx)("span",{className:"mono-ui text-sm text-primary font-bold",children:xe().filter(e=>"TV"===e.type).length})]}),(0,I.jsxs)("div",{className:"flex justify-between items-center narvo-border p-3 bg-surface/10",children:[(0,I.jsx)("span",{className:"mono-ui text-[12px] text-content",children:"RADIO_STATIONS"}),(0,I.jsx)("span",{className:"mono-ui text-sm text-primary font-bold",children:xe().filter(e=>"Radio"===e.type).length})]}),(0,I.jsx)("div",{className:"mono-ui text-[10px] text-forest/60 mt-2",children:xe().slice(0,4).map(e=>e.name).join(" \u2022 ")||"Loading..."})]})]}),(0,I.jsxs)("div",{className:"bg-background-dark p-4 md:p-6",children:[(0,I.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,I.jsx)(g.q,{className:"w-4 h-4 text-primary"}),(0,I.jsx)("span",{className:"mono-ui text-[12px] text-forest font-bold tracking-widest",children:"VERIFICATION_API"})]}),(0,I.jsx)("div",{className:"space-y-2",children:(null===oe||void 0===oe||null===(E=oe.verification_apis)||void 0===E?void 0:E.map((e,t)=>{var s;return(0,I.jsxs)("div",{className:"flex items-center justify-between narvo-border p-2 bg-surface/10",children:[(0,I.jsx)("span",{className:"mono-ui text-[11px] text-content",children:e.name}),(0,I.jsx)("span",{className:"mono-ui text-[10px] px-1.5 py-0.5 ".concat("active"===e.status?"bg-primary/20 text-primary":"bg-forest/20 text-forest"),children:null===(s=e.status)||void 0===s?void 0:s.toUpperCase()})]},t)}))||(0,I.jsx)("div",{className:"text-center p-4",children:(0,I.jsx)("span",{className:"mono-ui text-[11px] text-forest",children:"Loading APIs..."})})})]})]})]})]})})}}}]);
//# sourceMappingURL=284.95059a39.chunk.js.map