{"version":3,"file":"static/js/266.cf11f884.chunk.js","mappings":"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","sources":["components/TruthTag.js","hooks/useBookmarks.js","pages/NewsDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CheckCircle, Warning, Question, XCircle, CircleNotch } from '@phosphor-icons/react';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\n\n// Cache for fact-check results to avoid duplicate API calls\nconst factCheckCache = new Map();\n\nconst TruthTag = ({ storyId, compact = false }) => {\n  const [factCheck, setFactCheck] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchFactCheck = async () => {\n      // Check cache first\n      if (factCheckCache.has(storyId)) {\n        setFactCheck(factCheckCache.get(storyId));\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const res = await fetch(`${API_URL}/api/factcheck/${storyId}`);\n        const data = await res.json();\n        factCheckCache.set(storyId, data);\n        setFactCheck(data);\n      } catch (err) {\n        console.error('Failed to fetch fact-check:', err);\n      }\n      setLoading(false);\n    };\n\n    fetchFactCheck();\n  }, [storyId]);\n\n  if (loading) {\n    return compact ? (\n      <CircleNotch className=\"w-3 h-3 text-forest animate-spin\" />\n    ) : (\n      <div className=\"flex items-center gap-1 mono-ui text-[8px] text-forest\">\n        <CircleNotch className=\"w-3 h-3 animate-spin\" />\n        <span>VERIFYING...</span>\n      </div>\n    );\n  }\n\n  if (!factCheck) return null;\n\n  const statusConfig = {\n    VERIFIED: {\n      icon: CheckCircle,\n      color: 'text-primary',\n      bgColor: 'bg-primary/10',\n      borderColor: 'border-primary/30',\n      label: 'VERIFIED',\n    },\n    UNVERIFIED: {\n      icon: Question,\n      color: 'text-forest',\n      bgColor: 'bg-forest/10',\n      borderColor: 'border-forest/30',\n      label: 'UNVERIFIED',\n    },\n    DISPUTED: {\n      icon: Warning,\n      color: 'text-yellow-500',\n      bgColor: 'bg-yellow-500/10',\n      borderColor: 'border-yellow-500/30',\n      label: 'DISPUTED',\n    },\n    FALSE: {\n      icon: XCircle,\n      color: 'text-red-500',\n      bgColor: 'bg-red-500/10',\n      borderColor: 'border-red-500/30',\n      label: 'FALSE',\n    },\n  };\n\n  const config = statusConfig[factCheck.status] || statusConfig.UNVERIFIED;\n  const Icon = config.icon;\n\n  if (compact) {\n    return (\n      <div \n        className={`flex items-center gap-1 px-1.5 py-0.5 border ${config.borderColor} ${config.bgColor} ${config.color}`}\n        title={`${factCheck.status}: ${factCheck.confidence}% confidence`}\n        data-testid={`truth-tag-${storyId}`}\n      >\n        <Icon className=\"w-3 h-3\" />\n        <span className=\"mono-ui text-[7px] md:text-[8px] font-bold\">{factCheck.confidence}%</span>\n      </div>\n    );\n  }\n\n  return (\n    <div \n      className={`flex items-center gap-2 px-2 py-1 border ${config.borderColor} ${config.bgColor} ${config.color}`}\n      title={factCheck.explanation}\n      data-testid={`truth-tag-${storyId}`}\n    >\n      <Icon className=\"w-3.5 h-3.5\" />\n      <span className=\"mono-ui text-[8px] md:text-[9px] font-bold\">{config.label}</span>\n      <span className=\"mono-ui text-[7px] md:text-[8px] opacity-70\">{factCheck.confidence}%</span>\n    </div>\n  );\n};\n\nexport default TruthTag;\n","import { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\nconst BOOKMARKS_KEY = 'narvo_bookmarks';\n\nexport const useBookmarks = () => {\n  const { user } = useAuth();\n  const [bookmarks, setBookmarks] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const getLocalBookmarks = () => {\n    try {\n      return JSON.parse(localStorage.getItem(BOOKMARKS_KEY) || '[]');\n    } catch { return []; }\n  };\n\n  const saveLocalBookmarks = (items) => {\n    localStorage.setItem(BOOKMARKS_KEY, JSON.stringify(items));\n  };\n\n  const fetchBookmarks = useCallback(async () => {\n    if (!user) {\n      setBookmarks(getLocalBookmarks());\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/bookmarks?user_id=${user.id}`);\n      if (res.ok) {\n        const data = await res.json();\n        setBookmarks(data);\n        saveLocalBookmarks(data);\n      } else {\n        setBookmarks(getLocalBookmarks());\n      }\n    } catch {\n      setBookmarks(getLocalBookmarks());\n    }\n    setLoading(false);\n  }, [user]);\n\n  useEffect(() => { fetchBookmarks(); }, [fetchBookmarks]);\n\n  const addBookmark = async (story) => {\n    const bookmark = {\n      story_id: story.id,\n      title: story.title,\n      summary: story.summary || '',\n      source: story.source || '',\n      category: story.category || 'General',\n      source_url: story.source_url || '',\n      saved_at: new Date().toISOString(),\n    };\n\n    const updated = [...bookmarks.filter(b => b.story_id !== story.id), bookmark];\n    setBookmarks(updated);\n    saveLocalBookmarks(updated);\n\n    if (user) {\n      try {\n        await fetch(`${API_URL}/api/bookmarks`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ user_id: user.id, ...bookmark }),\n        });\n      } catch (e) { console.error('Failed to sync bookmark:', e); }\n    }\n  };\n\n  const removeBookmark = async (storyId) => {\n    const updated = bookmarks.filter(b => b.story_id !== storyId);\n    setBookmarks(updated);\n    saveLocalBookmarks(updated);\n\n    if (user) {\n      try {\n        await fetch(`${API_URL}/api/bookmarks/${storyId}?user_id=${user.id}`, { method: 'DELETE' });\n      } catch (e) { console.error('Failed to remove bookmark:', e); }\n    }\n  };\n\n  const isBookmarked = (storyId) => bookmarks.some(b => b.story_id === storyId);\n\n  return { bookmarks, loading, addBookmark, removeBookmark, isBookmarked, fetchBookmarks };\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Helmet } from 'react-helmet-async';\nimport { Play, Pause, BookmarkSimple, Translate, ArrowSquareOut, ArrowLeft, Lightbulb, ShareNetwork, Clock, Eye, Broadcast, Queue } from '@phosphor-icons/react';\nimport { useAudio } from '../contexts/AudioContext';\nimport { useBookmarks } from '../hooks/useBookmarks';\nimport { useHapticAlert } from '../components/HapticAlerts';\nimport { ArticleSkeleton } from '../components/Skeleton';\nimport TruthTag from '../components/TruthTag';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\n\nconst NewsDetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [news, setNews] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [relatedNews, setRelatedNews] = useState([]);\n  const [readTime, setReadTime] = useState(0);\n  const { playTrack, addToQueue, currentTrack, isPlaying } = useAudio();\n  const { isBookmarked, addBookmark, removeBookmark } = useBookmarks();\n  const { showAlert } = useHapticAlert();\n  const { t } = useTranslation();\n  const hasAutoPlayed = useRef(false);\n\n  useEffect(() => {\n    setLoading(true);\n    hasAutoPlayed.current = false;\n    \n    Promise.all([\n      fetch(`${API_URL}/api/news/${id}`).then(r => r.ok ? r.json() : null),\n      fetch(`${API_URL}/api/news?limit=6`).then(r => r.json()).catch(() => []),\n    ]).then(([newsData, related]) => {\n      if (!newsData) { \n        navigate('/dashboard'); \n        return; \n      }\n      setNews(newsData);\n      \n      // Filter related news by same category, excluding current article\n      const sameCategory = related.filter(r => r.id !== id && r.category === newsData.category);\n      const otherNews = related.filter(r => r.id !== id && r.category !== newsData.category);\n      setRelatedNews([...sameCategory, ...otherNews].slice(0, 3));\n      \n      // Calculate read time (average 200 words per minute)\n      const text = (newsData.narrative || newsData.summary || '');\n      const wordCount = text.split(/\\s+/).length;\n      setReadTime(Math.max(1, Math.ceil(wordCount / 200)));\n      \n      setLoading(false);\n    }).catch(() => navigate('/dashboard'));\n  }, [id, navigate]);\n\n  // Auto-play audio when news loads\n  useEffect(() => {\n    if (news && !loading && !hasAutoPlayed.current) {\n      hasAutoPlayed.current = true;\n      // Small delay to ensure UI is ready\n      const timer = setTimeout(() => {\n        playTrack(news);\n        showAlert({\n          type: 'sync',\n          title: 'AUTO_PLAY_STARTED',\n          message: `Now playing: ${news.title.slice(0, 40)}...`,\n          code: 'PLAY_OK',\n          duration: 3000,\n        });\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [news, loading, playTrack, showAlert]);\n\n  const toggleBookmark = () => {\n    if (isBookmarked(news.id)) {\n      removeBookmark(news.id);\n      showAlert('BOOKMARK_REMOVED');\n    } else {\n      addBookmark(news);\n      showAlert('BOOKMARK_ADDED');\n    }\n  };\n\n  const shareStory = async () => {\n    // Use the /api/share/ URL which has proper OG meta tags for social media\n    const shareUrl = `${API_URL}/api/share/${news.id}`;\n    const shareText = `${news.title} - Listen on NARVO`;\n    \n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: news.title,\n          text: shareText,\n          url: shareUrl,\n        });\n        showAlert({\n          type: 'success',\n          title: 'SHARED_SUCCESS',\n          message: 'Story shared successfully.',\n          code: 'SHARE_OK',\n        });\n      } catch (err) {\n        if (err.name !== 'AbortError') {\n          await navigator.clipboard.writeText(shareUrl);\n          showAlert({\n            type: 'sync',\n            title: 'LINK_COPIED',\n            message: 'Story link copied to clipboard.',\n            code: 'CLIP_OK',\n          });\n        }\n      }\n    } else {\n      await navigator.clipboard.writeText(shareUrl);\n      showAlert({\n        type: 'sync',\n        title: 'LINK_COPIED',\n        message: 'Story link copied to clipboard.',\n        code: 'CLIP_OK',\n      });\n    }\n  };\n\n  const formatPublishedDate = (dateStr) => {\n    if (!dateStr) return 'Today';\n    try {\n      const date = new Date(dateStr);\n      const now = new Date();\n      const diffHours = Math.floor((now - date) / (1000 * 60 * 60));\n      \n      if (diffHours < 1) return 'Just now';\n      if (diffHours < 24) return `${diffHours}h ago`;\n      if (diffHours < 48) return 'Yesterday';\n      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\n    } catch {\n      return dateStr;\n    }\n  };\n\n  if (loading || !news) {\n    return (\n      <>\n        <section className=\"flex-1 overflow-y-auto bg-background-dark custom-scroll\" data-testid=\"news-detail-loading\">\n          <div className=\"max-w-3xl mx-auto py-8 md:py-12 px-4 md:px-8\">\n            <ArticleSkeleton />\n          </div>\n        </section>\n        <aside className=\"w-80 hidden xl:flex flex-col narvo-border-l bg-background-dark shrink-0\">\n          <div className=\"h-20 narvo-border-b bg-surface/10\" />\n          <div className=\"p-6 space-y-6\">\n            <div className=\"narvo-border bg-surface/20 p-4 space-y-3\">\n              {Array.from({ length: 4 }).map((_, i) => (\n                <div key={i} className=\"h-4 bg-forest/10 animate-pulse\" />\n              ))}\n            </div>\n          </div>\n        </aside>\n      </>\n    );\n  }\n\n  const narrativeParagraphs = (news.narrative || news.summary || '').split('\\n').filter(p => p.trim());\n  const isCurrentlyPlaying = currentTrack?.id === news.id && isPlaying;\n\n  return (\n    <>\n      <Helmet>\n        <title>{news.title} — NARVO</title>\n        <meta property=\"og:title\" content={news.title} />\n        <meta property=\"og:description\" content={news.narrative?.slice(0, 160) || `Listen on Narvo — Audio-first news for Africa`} />\n        <meta property=\"og:type\" content=\"article\" />\n        <meta property=\"og:url\" content={`${window.location.origin}/news/${id}`} />\n        <meta property=\"og:image\" content={`${API_URL}/api/og/${id}`} />\n        <meta property=\"og:site_name\" content=\"NARVO\" />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:title\" content={news.title} />\n        <meta name=\"twitter:description\" content={news.narrative?.slice(0, 160) || 'Audio-first news for Africa'} />\n        <meta name=\"twitter:image\" content={`${API_URL}/api/og/${id}`} />\n      </Helmet>\n      {/* Main Article Content */}\n      <section className=\"flex-1 overflow-y-auto relative bg-background-dark custom-scroll\" data-testid=\"news-detail-page\">\n        <div className=\"max-w-3xl mx-auto py-8 md:py-12 px-4 md:px-8 pb-32 md:pb-40\">\n          {/* Back + Truth Tag Header */}\n          <div className=\"mb-4 md:mb-6 flex items-center justify-between\">\n            <button \n              onClick={() => navigate('/dashboard')} \n              className=\"mono-ui text-[10px] md:text-xs text-forest hover:text-primary flex items-center gap-2 transition-colors\" \n              data-testid=\"back-btn\"\n            >\n              <ArrowLeft weight=\"bold\" className=\"w-4 h-4\" />\n              <span>{t('news_detail.back_to_feed')}</span>\n            </button>\n            <div className=\"flex items-center gap-3\">\n              <TruthTag storyId={news.id} />\n            </div>\n          </div>\n\n          {/* Category Pills + Meta */}\n          <div className=\"mb-6 md:mb-10\">\n            <div className=\"flex flex-wrap items-center gap-3 mb-4 md:mb-6\">\n              <div className=\"flex gap-0 narvo-border w-fit\">\n                <span className=\"px-2 md:px-3 py-1 narvo-border-r text-[9px] md:text-[10px] font-bold uppercase tracking-wider text-primary bg-background-dark font-mono\">\n                  {news.category || 'General'}\n                </span>\n                {news.tags?.slice(0, 1).map((tag, i) => (\n                  <span key={i} className=\"px-2 md:px-3 py-1 text-[9px] md:text-[10px] font-bold uppercase tracking-wider text-primary bg-background-dark font-mono\">\n                    {tag}\n                  </span>\n                ))}\n              </div>\n              <div className=\"flex items-center gap-4 mono-ui text-[9px] md:text-[10px] text-forest\">\n                <span className=\"flex items-center gap-1.5\">\n                  <Clock weight=\"bold\" className=\"w-3 h-3\" />\n                  {readTime} MIN READ\n                </span>\n                <span className=\"flex items-center gap-1.5\">\n                  <Eye weight=\"bold\" className=\"w-3 h-3\" />\n                  {formatPublishedDate(news.published)}\n                </span>\n              </div>\n            </div>\n\n            {/* Headline */}\n            <h1 className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-content leading-[1.1] tracking-tight mb-4 md:mb-6 font-display uppercase\" data-testid=\"news-title\">\n              {news.title}\n            </h1>\n\n            {/* Lead */}\n            <p className=\"text-base md:text-lg lg:text-xl text-slate-300 font-light leading-relaxed font-display border-l-2 border-forest pl-4 md:pl-6\">\n              {news.summary}\n            </p>\n          </div>\n\n          {/* Hero Image */}\n          <figure className=\"mb-8 md:mb-12 narvo-border relative group\">\n            <img\n              alt={news.title}\n              className=\"w-full h-[200px] sm:h-[300px] md:h-[400px] object-cover opacity-90 grayscale-[20%] group-hover:grayscale-0 transition-all duration-500\"\n              src={news.image_url || \"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?auto=format&fit=crop&q=80&w=1200\"}\n            />\n            <div className=\"absolute bottom-0 left-0 right-0 p-2 bg-background-dark narvo-border-t w-fit ml-auto\">\n              <figcaption className=\"text-[9px] md:text-[10px] text-primary font-mono uppercase tracking-wider\">\n                FIG 1.0 — {news.source || 'Source'} / {news.category}\n              </figcaption>\n            </div>\n            {/* Now Playing Indicator */}\n            {isCurrentlyPlaying && (\n              <div className=\"absolute top-4 left-4 flex items-center gap-2 bg-primary px-3 py-1.5\">\n                <Broadcast weight=\"fill\" className=\"w-4 h-4 text-background-dark animate-pulse\" />\n                <span className=\"mono-ui text-[9px] text-background-dark font-bold\">NOW_PLAYING</span>\n              </div>\n            )}\n          </figure>\n\n          {/* Audio Controls Bar */}\n          <div className=\"narvo-border bg-surface/30 p-3 md:p-5 mb-8 md:mb-12 flex flex-col sm:flex-row items-start sm:items-center gap-3 md:gap-4\">\n            <button\n              onClick={() => playTrack(news)}\n              className={`${isCurrentlyPlaying ? 'bg-white' : 'bg-primary hover:bg-white'} text-background-dark w-10 h-10 md:w-12 md:h-12 flex items-center justify-center transition-all shrink-0`}\n              data-testid=\"play-story-btn\"\n            >\n              {isCurrentlyPlaying ? <Pause weight=\"fill\" className=\"w-5 h-5\" /> : <Play weight=\"fill\" className=\"w-5 h-5 ml-0.5\" />}\n            </button>\n            <div className=\"flex flex-col justify-center flex-1 min-w-0\">\n              <span className=\"text-[9px] md:text-[10px] text-forest font-mono uppercase tracking-widest mb-1\">\n                {isCurrentlyPlaying ? t('news_detail.now_playing') : t('news_detail.narrative_audio')}\n              </span>\n              <span className=\"text-xs md:text-sm text-content font-medium font-display uppercase tracking-wide truncate\">\n                {news.title?.slice(0, 50)}...\n              </span>\n            </div>\n            <div className=\"flex items-center gap-2 md:gap-3 w-full sm:w-auto sm:ml-auto\">\n              <button className=\"hidden md:flex narvo-border px-3 py-1.5 items-center gap-2 hover:bg-forest hover:text-content transition-colors\">\n                <Translate weight=\"bold\" className=\"w-4 h-4 text-primary\" />\n                <span className=\"text-[10px] text-primary font-mono font-bold uppercase tracking-wider\">West African English</span>\n              </button>\n              <button className=\"md:hidden narvo-border p-2 text-primary\">\n                <Translate weight=\"bold\" className=\"w-4 h-4\" />\n              </button>\n              <button\n                onClick={shareStory}\n                className=\"narvo-border w-10 h-10 flex items-center justify-center text-forest hover:text-primary transition-colors\"\n                title=\"Share Story\"\n                data-testid=\"share-story-btn\"\n              >\n                <ShareNetwork weight=\"bold\" className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={toggleBookmark}\n                className={`narvo-border w-10 h-10 flex items-center justify-center transition-colors ${isBookmarked(news.id) ? 'text-primary border-primary' : 'text-forest hover:text-primary'}`}\n                data-testid=\"bookmark-detail-btn\"\n              >\n                {<BookmarkSimple weight={isBookmarked(news.id) ? \"fill\" : \"regular\"} className=\"w-5 h-5\" />}\n              </button>\n            </div>\n          </div>\n\n          {/* Key Takeaways */}\n          {news.key_takeaways?.length > 0 && (\n            <div className=\"narvo-border bg-transparent p-4 md:p-6 mb-8 md:mb-12 relative overflow-hidden\">\n              <div className=\"absolute top-0 left-0 w-1 h-full bg-forest\" />\n              <h3 className=\"text-base md:text-lg font-bold text-content mb-3 md:mb-4 flex items-center gap-2 font-display uppercase tracking-tight\">\n                <Lightbulb weight=\"fill\" className=\"text-primary w-4 h-4 md:w-5 md:h-5\" />\n                {t('news_detail.key_takeaways')}\n              </h3>\n              <ul className=\"space-y-2 md:space-y-3\">\n                {news.key_takeaways.map((takeaway, i) => (\n                  <li key={i} className=\"flex items-start gap-2 md:gap-3 text-slate-300 text-sm md:text-base leading-relaxed\">\n                    <span className=\"mt-1.5 md:mt-2 w-1.5 h-1.5 bg-primary shrink-0\" />\n                    <span>{takeaway}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* Article Body */}\n          <article className=\"prose prose-invert prose-sm md:prose-lg max-w-none\">\n            {narrativeParagraphs.length > 0 ? narrativeParagraphs.map((para, i) => (\n              <React.Fragment key={i}>\n                <p className=\"text-slate-300 font-light leading-relaxed mb-4 md:mb-6 text-sm md:text-base\">{para}</p>\n                {/* Insert a quote block after 2nd paragraph */}\n                {i === 1 && narrativeParagraphs.length > 2 && (\n                  <div className=\"my-6 md:my-8 p-4 md:p-6 narvo-border bg-transparent relative\">\n                    <span className=\"absolute top-0 left-0 bg-background-dark px-2 -mt-3 text-primary text-2xl md:text-4xl leading-none font-display\">\"</span>\n                    <p className=\"italic text-primary font-display text-base md:text-xl leading-relaxed mb-2\">\n                      The narrative isn't just information; it's context. Pull one thread, and the whole story changes.\n                    </p>\n                    <cite className=\"text-[10px] md:text-xs font-mono text-slate-500 not-italic uppercase tracking-widest\">— Narvo AI Synthesis</cite>\n                  </div>\n                )}\n              </React.Fragment>\n            )) : (\n              <p className=\"text-slate-300 font-light leading-relaxed text-sm md:text-base\">{news.summary}</p>\n            )}\n          </article>\n\n          {/* Source Attribution */}\n          <div className=\"mt-8 md:mt-12 narvo-border bg-surface/20 p-4 md:p-6\">\n            <span className=\"mono-ui text-[9px] md:text-[10px] text-forest block mb-2 md:mb-3 font-bold tracking-widest\">{t('news_detail.source_attribution')}</span>\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\n              <div>\n                <span className=\"text-content font-display font-bold text-sm md:text-base\">{news.source}</span>\n                <span className=\"mono-ui text-[9px] md:text-[10px] text-forest block mt-1\">{formatPublishedDate(news.published)}</span>\n              </div>\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={shareStory}\n                  className=\"narvo-border px-3 md:px-4 py-2 mono-ui text-[9px] md:text-[10px] text-forest hover:text-primary flex items-center gap-2 transition-colors\"\n                  data-testid=\"share-source-btn\"\n                >\n                  <ShareNetwork weight=\"bold\" className=\"w-3 h-3\" />\n                  <span>{t('dashboard.share')}</span>\n                </button>\n                {news.source_url && (\n                  <a \n                    href={news.source_url} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\" \n                    className=\"narvo-border px-3 md:px-4 py-2 mono-ui text-[9px] md:text-[10px] text-forest hover:text-primary flex items-center gap-2 transition-colors\"\n                  >\n                    <ArrowSquareOut weight=\"bold\" className=\"w-3 h-3\" />\n                    <span>{t('news_detail.original_source')}</span>\n                  </a>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Right Sidebar: Related & Metadata - hidden on mobile/tablet */}\n      <aside className=\"w-72 xl:w-80 hidden lg:flex flex-col narvo-border-l bg-background-dark shrink-0\" data-testid=\"detail-sidebar\">\n        <div className=\"h-16 xl:h-20 flex items-center px-4 xl:px-6 narvo-border-b bg-surface/10\">\n          <span className=\"mono-ui text-[10px] xl:text-xs font-bold text-forest tracking-widest uppercase\">{t('news_detail.article_metadata')}</span>\n        </div>\n        <div className=\"flex-1 overflow-y-auto p-4 xl:p-6 space-y-6 xl:space-y-8 custom-scroll\">\n          {/* Truth Tag Display */}\n          <div className=\"narvo-border bg-primary/5 p-3 xl:p-4 border-primary/30\">\n            <span className=\"mono-ui text-[9px] xl:text-[10px] text-forest block mb-2 xl:mb-3 font-bold tracking-widest\">{t('news_detail.verification_status')}</span>\n            <div className=\"flex items-center justify-between\">\n              <TruthTag storyId={news.id} />\n              <span className=\"mono-ui text-[8px] text-forest\">DUBAWA_AI</span>\n            </div>\n          </div>\n\n          {/* Article Info */}\n          <div className=\"narvo-border bg-surface/20 p-3 xl:p-4\">\n            <span className=\"mono-ui text-[9px] xl:text-[10px] text-forest block mb-2 xl:mb-3 font-bold tracking-widest\">{t('news_detail.signal_metadata')}</span>\n            <div className=\"space-y-2 xl:space-y-3\">\n              <div className=\"flex justify-between mono-ui text-[9px] xl:text-[10px]\">\n                <span className=\"text-forest\">{t('news_detail.category')}</span>\n                <span className=\"text-primary font-bold\">{news.category?.toUpperCase() || 'GENERAL'}</span>\n              </div>\n              <div className=\"flex justify-between mono-ui text-[9px] xl:text-[10px]\">\n                <span className=\"text-forest\">{t('news_detail.source')}</span>\n                <span className=\"text-content\">{news.source?.toUpperCase() || 'UNKNOWN'}</span>\n              </div>\n              <div className=\"flex justify-between mono-ui text-[9px] xl:text-[10px]\">\n                <span className=\"text-forest\">{t('news_detail.region')}</span>\n                <span className=\"text-content\">{news.region?.toUpperCase() || 'AFRICA'}</span>\n              </div>\n              <div className=\"flex justify-between mono-ui text-[9px] xl:text-[10px]\">\n                <span className=\"text-forest\">{t('news_detail.read_time')}</span>\n                <span className=\"text-primary font-bold\">{readTime} MIN</span>\n              </div>\n              <div className=\"flex justify-between mono-ui text-[9px] xl:text-[10px]\">\n                <span className=\"text-forest\">{t('news_detail.ai_synthesis')}</span>\n                <span className=\"text-primary font-bold\">{news.narrative ? t('news_detail.complete') : t('news_detail.pending')}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => { addToQueue(news); showAlert({ type: 'sync', title: 'QUEUE_UPDATED', message: 'Added to playlist queue', code: 'Q_ADD', duration: 2000 }); }}\n              className=\"flex-1 narvo-border py-2 mono-ui text-[9px] xl:text-[10px] text-forest hover:text-primary hover:border-primary flex items-center justify-center gap-2 transition-colors\"\n              data-testid=\"sidebar-queue-btn\"\n            >\n              <Queue weight=\"bold\" className=\"w-3 h-3\" />\n              QUEUE\n            </button>\n            <button\n              onClick={shareStory}\n              className=\"flex-1 narvo-border py-2 mono-ui text-[9px] xl:text-[10px] text-forest hover:text-primary hover:border-primary flex items-center justify-center gap-2 transition-colors\"\n              data-testid=\"sidebar-share-btn\"\n            >\n              <ShareNetwork weight=\"bold\" className=\"w-3 h-3\" />\n              SHARE\n            </button>\n            <button\n              onClick={toggleBookmark}\n              className={`flex-1 narvo-border py-2 mono-ui text-[9px] xl:text-[10px] flex items-center justify-center gap-2 transition-colors ${isBookmarked(news.id) ? 'text-primary border-primary' : 'text-forest hover:text-primary hover:border-primary'}`}\n              data-testid=\"sidebar-bookmark-btn\"\n            >\n              {<BookmarkSimple weight={isBookmarked(news.id) ? \"fill\" : \"regular\"} className=\"w-3 h-3\" />}\n              {isBookmarked(news.id) ? t('dashboard.saved') : t('dashboard.save')}\n            </button>\n          </div>\n\n          {/* Tags */}\n          {news.tags?.length > 0 && (\n            <div>\n              <span className=\"mono-ui text-[9px] xl:text-[10px] text-forest block mb-3 xl:mb-4 font-bold tracking-widest\">{t('news_detail.signal_tags')}</span>\n              <div className=\"flex flex-wrap gap-1.5 xl:gap-2\">\n                {news.tags.map((tag, i) => (\n                  <span key={i} className=\"narvo-border px-1.5 xl:px-2 py-1 mono-ui text-[8px] xl:text-[9px] text-content hover:bg-forest hover:text-background-dark cursor-pointer transition-colors\">#{tag.toUpperCase()}</span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Related Stories */}\n          {relatedNews.length > 0 && (\n            <div>\n              <span className=\"mono-ui text-[9px] xl:text-[10px] text-forest block mb-3 xl:mb-4 font-bold tracking-widest\">{t('news_detail.related_transmissions')}</span>\n              <div className=\"space-y-2 xl:space-y-3\">\n                {relatedNews.map((item) => (\n                  <div\n                    key={item.id}\n                    className=\"narvo-border p-3 xl:p-4 cursor-pointer hover:bg-surface/40 transition-colors group\"\n                    onClick={() => navigate(`/news/${item.id}`)}\n                    data-testid={`related-${item.id}`}\n                  >\n                    <div className=\"flex items-center gap-2 mb-1 xl:mb-2\">\n                      <span className=\"mono-ui text-[8px] xl:text-[9px] text-primary\">{item.source}</span>\n                      <TruthTag storyId={item.id} compact />\n                    </div>\n                    <h4 className=\"text-xs xl:text-sm text-content font-display font-bold leading-tight group-hover:text-primary transition-colors line-clamp-2\">\n                      {item.title}\n                    </h4>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </aside>\n    </>\n  );\n};\n\nexport default NewsDetailPage;\n"],"names":["factCheckCache","Map","_ref","storyId","compact","factCheck","setFactCheck","useState","loading","setLoading","useEffect","async","has","get","res","fetch","concat","process","data","json","set","err","console","error","fetchFactCheck","_jsx","CircleNotch","className","_jsxs","children","statusConfig","VERIFIED","icon","CheckCircle","color","bgColor","borderColor","label","UNVERIFIED","Question","DISPUTED","Warning","FALSE","XCircle","config","status","Icon","title","confidence","explanation","API_URL","BOOKMARKS_KEY","useBookmarks","user","useAuth","bookmarks","setBookmarks","getLocalBookmarks","JSON","parse","localStorage","getItem","_unused","saveLocalBookmarks","items","setItem","stringify","fetchBookmarks","useCallback","id","ok","_unused2","addBookmark","bookmark","story_id","story","summary","source","category","source_url","saved_at","Date","toISOString","updated","filter","b","method","headers","body","_objectSpread","user_id","e","removeBookmark","isBookmarked","some","NewsDetailPage","_news$narrative","_news$narrative2","_news$tags","_news$title","_news$key_takeaways","_news$category","_news$source","_news$region","_news$tags2","useParams","navigate","useNavigate","news","setNews","relatedNews","setRelatedNews","readTime","setReadTime","playTrack","addToQueue","currentTrack","isPlaying","useAudio","showAlert","useHapticAlert","t","useTranslation","hasAutoPlayed","useRef","current","Promise","all","then","r","catch","newsData","related","sameCategory","otherNews","slice","wordCount","narrative","split","length","Math","max","ceil","timer","setTimeout","type","message","code","duration","clearTimeout","toggleBookmark","shareStory","shareUrl","shareText","navigator","share","text","url","name","clipboard","writeText","formatPublishedDate","dateStr","date","now","diffHours","floor","toLocaleDateString","month","day","year","_Fragment","ArticleSkeleton","Array","from","map","_","i","narrativeParagraphs","p","trim","isCurrentlyPlaying","Helmet","property","content","window","location","origin","onClick","ArrowLeft","weight","TruthTag","tags","tag","Clock","Eye","published","alt","src","image_url","Broadcast","Pause","Play","Translate","ShareNetwork","BookmarkSimple","key_takeaways","Lightbulb","takeaway","para","React","href","target","rel","ArrowSquareOut","toUpperCase","region","Queue","item"],"sourceRoot":""}