{"version":3,"file":"static/js/81.f9baaa6a.chunk.js","mappings":"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","sources":["components/Skeleton.js","hooks/useBookmarks.js","pages/BookmarksPage.js","../node_modules/@phosphor-icons/react/dist/defs/Bookmark.es.js","../node_modules/@phosphor-icons/react/dist/csr/Bookmark.es.js","../node_modules/@phosphor-icons/react/dist/defs/Check.es.js","../node_modules/@phosphor-icons/react/dist/csr/Check.es.js"],"sourcesContent":["import React from 'react';\n\nconst Skeleton = ({ className = '', variant = 'rect' }) => {\n  const base = 'animate-pulse bg-forest/10';\n  if (variant === 'circle') return <div className={`${base} rounded-full ${className}`} />;\n  if (variant === 'text') return <div className={`${base} h-4 ${className}`} />;\n  return <div className={`${base} ${className}`} />;\n};\n\nexport const FeaturedSkeleton = () => (\n  <div className=\"narvo-border bg-surface/30 flex flex-col md:flex-row min-h-[320px]\">\n    <div className=\"md:w-1/2 bg-forest/5 min-h-[200px]\" />\n    <div className=\"flex-1 p-8 flex flex-col justify-between gap-4\">\n      <div className=\"space-y-4\">\n        <Skeleton variant=\"text\" className=\"w-40 h-3\" />\n        <Skeleton variant=\"text\" className=\"w-full h-8\" />\n        <Skeleton variant=\"text\" className=\"w-3/4 h-8\" />\n        <Skeleton variant=\"text\" className=\"w-full h-4 mt-4\" />\n        <Skeleton variant=\"text\" className=\"w-2/3 h-4\" />\n      </div>\n      <div className=\"flex gap-4\">\n        <Skeleton className=\"flex-1 h-12\" />\n        <Skeleton className=\"w-12 h-12\" />\n        <Skeleton className=\"w-12 h-12\" />\n      </div>\n    </div>\n  </div>\n);\n\nexport const StreamCardSkeleton = () => (\n  <div className=\"p-6 narvo-border-b\">\n    <div className=\"flex justify-between mb-3\">\n      <div className=\"flex gap-3\"><Skeleton variant=\"text\" className=\"w-24 h-4\" /><Skeleton variant=\"text\" className=\"w-14 h-4\" /></div>\n      <Skeleton variant=\"text\" className=\"w-20 h-4\" />\n    </div>\n    <Skeleton variant=\"text\" className=\"w-full h-6 mb-2\" />\n    <Skeleton variant=\"text\" className=\"w-3/4 h-6 mb-3\" />\n    <Skeleton variant=\"text\" className=\"w-full h-4\" />\n    <Skeleton variant=\"text\" className=\"w-2/3 h-4 mt-1\" />\n  </div>\n);\n\nexport const ArticleSkeleton = () => (\n  <div className=\"space-y-6\">\n    <div className=\"flex gap-2\"><Skeleton className=\"w-20 h-6\" /><Skeleton className=\"w-20 h-6\" /></div>\n    <Skeleton variant=\"text\" className=\"w-full h-12\" />\n    <Skeleton variant=\"text\" className=\"w-4/5 h-12\" />\n    <div className=\"border-l-2 border-forest/20 pl-6 space-y-2\">\n      <Skeleton variant=\"text\" className=\"w-full h-5\" />\n      <Skeleton variant=\"text\" className=\"w-3/4 h-5\" />\n    </div>\n    <Skeleton className=\"w-full h-[400px]\" />\n    <Skeleton className=\"w-full h-16\" />\n    <div className=\"space-y-3\">\n      <Skeleton variant=\"text\" className=\"w-full h-4\" />\n      <Skeleton variant=\"text\" className=\"w-full h-4\" />\n      <Skeleton variant=\"text\" className=\"w-2/3 h-4\" />\n    </div>\n  </div>\n);\n\nexport const ListSkeleton = ({ count = 4 }) => (\n  <div className=\"narvo-border bg-surface/20 divide-y divide-forest/10\">\n    {Array.from({ length: count }).map((_, i) => <StreamCardSkeleton key={i} />)}\n  </div>\n);\n\nexport default Skeleton;\n","import { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst API_URL = process.env.REACT_APP_BACKEND_URL || '';\nconst BOOKMARKS_KEY = 'narvo_bookmarks';\n\nexport const useBookmarks = () => {\n  const { user } = useAuth();\n  const [bookmarks, setBookmarks] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const getLocalBookmarks = () => {\n    try {\n      return JSON.parse(localStorage.getItem(BOOKMARKS_KEY) || '[]');\n    } catch { return []; }\n  };\n\n  const saveLocalBookmarks = (items) => {\n    localStorage.setItem(BOOKMARKS_KEY, JSON.stringify(items));\n  };\n\n  const fetchBookmarks = useCallback(async () => {\n    if (!user) {\n      setBookmarks(getLocalBookmarks());\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/bookmarks?user_id=${user.id}`);\n      if (res.ok) {\n        const data = await res.json();\n        setBookmarks(data);\n        saveLocalBookmarks(data);\n      } else {\n        setBookmarks(getLocalBookmarks());\n      }\n    } catch {\n      setBookmarks(getLocalBookmarks());\n    }\n    setLoading(false);\n  }, [user]);\n\n  useEffect(() => { fetchBookmarks(); }, [fetchBookmarks]);\n\n  const addBookmark = async (story) => {\n    const bookmark = {\n      story_id: story.id,\n      title: story.title,\n      summary: story.summary || '',\n      source: story.source || '',\n      category: story.category || 'General',\n      source_url: story.source_url || '',\n      saved_at: new Date().toISOString(),\n    };\n\n    const updated = [...bookmarks.filter(b => b.story_id !== story.id), bookmark];\n    setBookmarks(updated);\n    saveLocalBookmarks(updated);\n\n    if (user) {\n      try {\n        await fetch(`${API_URL}/api/bookmarks`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ user_id: user.id, ...bookmark }),\n        });\n      } catch (e) { console.error('Failed to sync bookmark:', e); }\n    }\n  };\n\n  const removeBookmark = async (storyId) => {\n    const updated = bookmarks.filter(b => b.story_id !== storyId);\n    setBookmarks(updated);\n    saveLocalBookmarks(updated);\n\n    if (user) {\n      try {\n        await fetch(`${API_URL}/api/bookmarks/${storyId}?user_id=${user.id}`, { method: 'DELETE' });\n      } catch (e) { console.error('Failed to remove bookmark:', e); }\n    }\n  };\n\n  const isBookmarked = (storyId) => bookmarks.some(b => b.story_id === storyId);\n\n  return { bookmarks, loading, addBookmark, removeBookmark, isBookmarked, fetchBookmarks };\n};\n","import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAudio } from '../contexts/AudioContext';\nimport { useBookmarks } from '../hooks/useBookmarks';\nimport { getAllCachedIds, removeCachedAudio } from '../lib/audioCache';\nimport { Bookmark, Play, Pause, Trash, Check } from '@phosphor-icons/react';\nimport { ListSkeleton } from '../components/Skeleton';\n\nconst BookmarksPage = () => {\n  const navigate = useNavigate();\n  const { playTrack, currentTrack, isPlaying } = useAudio();\n  const { bookmarks, loading } = useBookmarks();\n  const { removeBookmark } = useBookmarks();\n  const [cachedIds, setCachedIds] = useState([]);\n\n  useEffect(() => { getAllCachedIds().then(setCachedIds); }, []);\n\n  const handleRemove = async (storyId) => {\n    removeBookmark(storyId);\n    await removeCachedAudio(storyId);\n    setCachedIds(prev => prev.filter(id => id !== storyId));\n  };\n\n  const isCached = (storyId) => cachedIds.includes(storyId);\n\n  return (\n    <main className=\"flex-1 flex flex-col bg-background-dark min-w-0 min-h-0 overflow-hidden\" data-testid=\"bookmarks-page\">\n      <div className=\"h-12 md:h-14 flex items-center justify-between px-4 md:px-8 bg-surface/30 narvo-border-b shrink-0\">\n        <span className=\"mono-ui text-[12px] md:text-xs text-forest\">MODULE: <span className=\"text-primary\">SAVED_TRANSMISSIONS</span></span>\n        <span className=\"mono-ui text-[12px] md:text-xs text-forest\">{bookmarks.length} ITEMS</span>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto overflow-x-hidden custom-scroll p-4 md:p-8 pb-32 md:pb-8\">\n        <div className=\"max-w-4xl mx-auto\">\n          {loading ? (\n            <ListSkeleton count={3} />\n          ) : (\n            <>\n              {bookmarks.length > 0 && (\n                <div className=\"narvo-border bg-surface/20 p-3 md:p-4 mb-6 md:mb-8 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-2 h-2 bg-primary animate-pulse\" />\n                    <span className=\"mono-ui text-[11px] md:text-[12px] text-forest\">OFFLINE_CACHE: <span className=\"text-primary\">{cachedIds.filter(id => bookmarks.some(b => b.story_id === id)).length} / {bookmarks.length}</span></span>\n                  </div>\n                  <span className=\"mono-ui text-[10px] md:text-[11px] text-forest/50 sm:ml-auto\">Play to cache audio</span>\n                </div>\n              )}\n\n              {bookmarks.length === 0 ? (\n                <div className=\"narvo-border bg-surface/20 p-8 md:p-12 text-center\">\n                  <Bookmark className=\"w-10 h-10 md:w-12 md:h-12 text-forest mx-auto mb-3 md:mb-4\" />\n                  <h3 className=\"font-display text-lg md:text-xl text-content mb-2 uppercase\">No Saved Stories</h3>\n                  <p className=\"text-forest text-xs md:text-sm mb-4 md:mb-6 font-mono\">Bookmark stories to access them offline.</p>\n                  <Link to=\"/dashboard\" className=\"bg-primary text-background-dark font-display font-bold px-4 md:px-6 py-2 md:py-3 text-sm md:text-base hover:bg-white transition-all inline-block\" data-testid=\"go-to-feed-btn\">\n                    [Go to Feed]\n                  </Link>\n                </div>\n              ) : (\n                <div className=\"narvo-border bg-surface/20 divide-y divide-forest/10\" data-testid=\"bookmarks-list\">\n                  {bookmarks.map((item) => (\n                    <div key={item.story_id} className=\"p-4 md:p-6 group hover:bg-surface/40 transition-colors cursor-pointer\" onClick={() => navigate(`/news/${item.story_id}`)} data-testid={`bookmark-card-${item.story_id}`}>\n                      <div className=\"flex flex-col gap-2 md:gap-3\">\n                        <div className=\"flex flex-wrap justify-between items-start gap-2\">\n                          <div className=\"flex items-center gap-2 md:gap-3\">\n                            <span className=\"bg-forest/20 text-primary mono-ui text-[10px] md:text-[11px] px-1.5 md:px-2 py-0.5 border border-forest/30\">{item.category?.toUpperCase()}</span>\n                            {isCached(item.story_id) && (\n                              <span className=\"mono-ui text-[9px] md:text-[10px] text-forest flex items-center gap-1 border border-forest/30 px-1 md:px-1.5 py-0.5\" data-testid={`cached-badge-${item.story_id}`}>\n                                <Check className=\"w-2.5 h-2.5 md:w-3 md:h-3\" /> CACHED\n                              </span>\n                            )}\n                          </div>\n                          <span className=\"mono-ui text-[9px] md:text-[10px] text-forest/50\">{item.source}</span>\n                        </div>\n                        <h3 className=\"font-display text-base md:text-xl font-bold uppercase tracking-tight text-content group-hover:text-primary transition-colors leading-tight\">{item.title}</h3>\n                        <p className=\"text-xs md:text-sm text-forest font-mono leading-relaxed opacity-70 line-clamp-2\">{item.summary}</p>\n                        <div className=\"flex items-center gap-3 md:gap-6 pt-1\">\n                          <button onClick={(e) => { e.stopPropagation(); playTrack({ id: item.story_id, title: item.title, summary: item.summary, source: item.source }); }} className=\"mono-ui text-[11px] md:text-[12px] text-primary flex items-center gap-2 hover:text-content transition-colors\" data-testid={`play-bookmark-${item.story_id}`}>\n                            {currentTrack?.id === item.story_id && isPlaying ? <Pause className=\"w-4 h-4\" /> : <Play className=\"w-4 h-4\" />}\n                            <span className=\"hidden sm:inline\">{isCached(item.story_id) ? 'PLAY_OFFLINE' : 'GENERATE_AUDIO'}</span>\n                            <span className=\"sm:hidden\">PLAY</span>\n                          </button>\n                          <div className=\"flex-1 h-[1px] bg-forest/10 hidden md:block\" />\n                          <span className=\"mono-ui text-[9px] md:text-[10px] text-forest/50 hidden md:inline\">SAVED: {new Date(item.saved_at).toLocaleDateString()}</span>\n                          <button onClick={(e) => { e.stopPropagation(); handleRemove(item.story_id); }} className=\"text-forest hover:text-red-400 transition-colors ml-auto md:ml-0\" data-testid={`remove-bookmark-${item.story_id}`}>\n                            <Trash className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default BookmarksPage;\n","import * as e from \"react\";\nconst a = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M184,28H72A20,20,0,0,0,52,48V224a12,12,0,0,0,18.36,10.18l57.63-36,57.65,36A12,12,0,0,0,204,224V48A20,20,0,0,0,184,28Zm-4,24V154.35l-45.65-28.53a12,12,0,0,0-12.72,0L76,154.35V52ZM134.35,173.82a12,12,0,0,0-12.72,0L76,202.35v-19.7l52-32.5,52,32.5v19.7Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M192,176v48l-64-40L64,224V176l64-40Z\", opacity: \"0.2\" }), /* @__PURE__ */ e.createElement(\"path\", { d: \"M184,32H72A16,16,0,0,0,56,48V224a8,8,0,0,0,12.24,6.78L128,193.43l59.77,37.35A8,8,0,0,0,200,224V48A16,16,0,0,0,184,32Zm0,16V161.57l-51.77-32.35a8,8,0,0,0-8.48,0L72,161.56V48ZM132.23,177.22a8,8,0,0,0-8.48,0L72,209.57V180.43l56-35,56,35v29.14Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M184,32H72A16,16,0,0,0,56,48V224a8,8,0,0,0,12.24,6.78L128,193.43l59.77,37.35A8,8,0,0,0,200,224V48A16,16,0,0,0,184,32ZM132.23,177.22a8,8,0,0,0-8.48,0L72,209.57V180.43l56-35,56,35v29.14Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M184,34H72A14,14,0,0,0,58,48V224a6,6,0,0,0,9.18,5.09l60.81-38,60.83,38A6,6,0,0,0,198,224V48A14,14,0,0,0,184,34ZM72,46H184a2,2,0,0,1,2,2V165.18l-54.83-34.27a6,6,0,0,0-6.36,0L70,165.17V48A2,2,0,0,1,72,46Zm59.17,132.91a6,6,0,0,0-6.36,0L70,213.17V179.33l58-36.25,58,36.25v33.84Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M184,32H72A16,16,0,0,0,56,48V224a8,8,0,0,0,12.24,6.78L128,193.43l59.77,37.35A8,8,0,0,0,200,224V48A16,16,0,0,0,184,32Zm0,16V161.57l-51.77-32.35a8,8,0,0,0-8.48,0L72,161.56V48ZM132.23,177.22a8,8,0,0,0-8.48,0L72,209.57V180.43l56-35,56,35v29.14Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M184,36H72A12,12,0,0,0,60,48V224a4,4,0,0,0,6.12,3.39L128,188.72l61.89,38.67A4,4,0,0,0,192,228a4.06,4.06,0,0,0,1.94-.5A4,4,0,0,0,196,224V48A12,12,0,0,0,184,36ZM72,44H184a4,4,0,0,1,4,4V168.78l-57.89-36.17a4,4,0,0,0-4.24,0L68,168.78V48A4,4,0,0,1,72,44Zm58.11,136.61a4,4,0,0,0-4.24,0L68,216.78V178.22l60-37.5,60,37.5v38.56Z\" }))\n  ]\n]);\nexport {\n  a as default\n};\n","import * as o from \"react\";\nimport e from \"../lib/IconBase.es.js\";\nimport t from \"../defs/Bookmark.es.js\";\nconst r = o.forwardRef((a, m) => /* @__PURE__ */ o.createElement(e, { ref: m, ...a, weights: t }));\nr.displayName = \"BookmarkIcon\";\nconst k = r;\nexport {\n  k as Bookmark,\n  r as BookmarkIcon\n};\n","import * as e from \"react\";\nconst a = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\n      \"path\",\n      {\n        d: \"M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ e.createElement(\"path\", { d: \"M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z\" }))\n  ]\n]);\nexport {\n  a as default\n};\n","import * as e from \"react\";\nimport t from \"../lib/IconBase.es.js\";\nimport a from \"../defs/Check.es.js\";\nconst o = e.forwardRef((c, r) => /* @__PURE__ */ e.createElement(t, { ref: r, ...c, weights: a }));\no.displayName = \"CheckIcon\";\nconst n = o;\nexport {\n  n as Check,\n  o as CheckIcon\n};\n"],"names":["Skeleton","_ref","className","variant","base","_jsx","concat","FeaturedSkeleton","_jsxs","children","StreamCardSkeleton","ArticleSkeleton","ListSkeleton","_ref2","count","Array","from","length","map","_","i","API_URL","process","BOOKMARKS_KEY","useBookmarks","user","useAuth","bookmarks","setBookmarks","useState","loading","setLoading","getLocalBookmarks","JSON","parse","localStorage","getItem","_unused","saveLocalBookmarks","items","setItem","stringify","fetchBookmarks","useCallback","async","res","fetch","id","ok","data","json","_unused2","useEffect","addBookmark","bookmark","story_id","story","title","summary","source","category","source_url","saved_at","Date","toISOString","updated","filter","b","method","headers","body","_objectSpread","user_id","e","console","error","removeBookmark","storyId","isBookmarked","some","BookmarksPage","navigate","useNavigate","playTrack","currentTrack","isPlaying","useAudio","cachedIds","setCachedIds","getAllCachedIds","then","isCached","includes","_Fragment","Bookmark","Link","to","item","_item$category","onClick","toUpperCase","Check","stopPropagation","Pause","Play","toLocaleDateString","removeCachedAudio","prev","handleRemove","Trash","a","Map","d","opacity","r","o","m","ref","weights","t","displayName","k","c","n"],"sourceRoot":""}