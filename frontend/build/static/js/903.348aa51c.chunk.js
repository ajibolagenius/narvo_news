"use strict";(self.webpackChunknarvo_frontend=self.webpackChunknarvo_frontend||[]).push([[903],{9903(e,t,s){s.r(t),s.d(t,{default:()=>w});var a=s(5043),r=s(1739),n=s(7149),o=s(8357),i=s(7505),c=s(8564),l=s(3654),d=s(6930),x=s(3988),m=s(7302),p=s(3216),h=s(1111),u=s(2633),b=s(714),f=s(9659),g=s(8899),v=s(4547),j=s(2970),N=s(579);const y=e=>{let{title:t="TRANSMISSION HALTED",message:s="The news feed matrix is currently empty. We are unable to establish a secure connection to the broadcast server.",errorCode:a="0x4F_NULL",showSlots:r=!0,onRefresh:n,onDiagnostics:o,variant:i="default"}=e;const c=(0,p.Zp)(),l=()=>{n?n():window.location.reload()},d=[{id:"SLOT_01",icon:h.C,opacity:"opacity-40"},{id:"SLOT_02",icon:u.F,opacity:"opacity-30"},{id:"SLOT_03",icon:b.t,opacity:"opacity-20"},{id:"SLOT_04",icon:f.l,opacity:"opacity-10"}],x={default:{title:"TRANSMISSION HALTED",message:"The news feed matrix is currently empty. We are unable to establish a secure connection to the broadcast server.",errorCode:"0x4F_NULL",primaryAction:"INITIATE REFRESH",secondaryAction:"SYSTEM DIAGNOSTICS"},search:{title:"NO RESULTS FOUND",message:"Your search query returned zero matches. Try adjusting your filters or using different keywords.",errorCode:"0x00_EMPTY_SET",primaryAction:"CLEAR FILTERS",secondaryAction:"BROWSE ALL"},saved:{title:"ARCHIVE EMPTY",message:"You have not saved any stories yet. Bookmark articles from the feed to access them offline.",errorCode:"0x00_NO_SAVES",primaryAction:"GO TO FEED",secondaryAction:"BROWSE TRENDING"},offline:{title:"NO CACHED DATA",message:"No offline content is available. Download stories while online to access them later.",errorCode:"0x00_CACHE_EMPTY",primaryAction:"GO ONLINE",secondaryAction:"MANAGE STORAGE"}},m=x[i]||x.default;return(0,N.jsxs)("div",{className:"relative flex-1 flex flex-col p-8 gap-8","data-testid":"empty-state",children:[(0,N.jsx)("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#628141 1px, transparent 1px), linear-gradient(90deg, #628141 1px, transparent 1px)",backgroundSize:"60px 60px"}}),(0,N.jsxs)("div",{className:"flex justify-between items-end pb-4 narvo-border-b relative z-10",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"font-display text-2xl md:text-3xl font-bold text-content uppercase tracking-tight",children:"GLOBAL FEED MATRIX"}),(0,N.jsxs)("p",{className:"mono-ui text-[10px] text-forest font-bold mt-1",children:["SECTOR_7 ","//"," NULL_TRANSMISSION"]})]}),(0,N.jsxs)("div",{className:"flex gap-4",children:[(0,N.jsxs)("button",{className:"px-4 md:px-6 py-3 narvo-border mono-ui text-[10px] font-bold text-forest hover:text-content transition-all flex items-center gap-2 uppercase",children:[(0,N.jsx)(g.r,{className:"w-4 h-4"}),(0,N.jsx)("span",{className:"hidden sm:inline",children:"FILTER"})]}),(0,N.jsxs)("button",{onClick:l,className:"px-4 md:px-6 py-3 bg-primary mono-ui text-[10px] font-bold text-background-dark hover:bg-white transition-all flex items-center gap-2 uppercase",children:[(0,N.jsx)(v.o,{className:"w-4 h-4"}),(0,N.jsx)("span",{className:"hidden sm:inline",children:"RECONNECT"})]})]})]}),r&&(0,N.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 flex-1 relative z-10",children:d.map((e,t)=>{const s=e.icon;return(0,N.jsxs)("div",{className:"narvo-border border-dashed p-4 md:p-6 flex flex-col justify-between bg-background-dark/20 ".concat(e.opacity," hover:opacity-100 transition-opacity min-h-[120px] md:min-h-[150px]"),children:[(0,N.jsxs)("div",{className:"flex justify-between items-start",children:[(0,N.jsx)("span",{className:"mono-ui text-[8px] text-forest font-bold tracking-widest",children:e.id}),(0,N.jsx)(s,{className:"w-5 h-5 text-forest"})]}),(0,N.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,N.jsx)("span",{className:"mono-ui text-[8px] md:text-[9px] text-forest font-bold text-center",children:"NO_SIGNAL_DETECTED"})})]},t)})}),(0,N.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-20",children:(0,N.jsxs)("div",{className:"bg-background-dark narvo-border p-8 md:p-12 max-w-lg w-full mx-4 text-center shadow-2xl pointer-events-auto backdrop-blur-md",children:[(0,N.jsx)("div",{className:"mb-6 md:mb-8 flex justify-center",children:(0,N.jsxs)("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-surface narvo-border border-dashed flex items-center justify-center relative",children:[(0,N.jsx)("div",{className:"absolute inset-0 border border-primary/20 animate-ping"}),(0,N.jsx)(j.r,{className:"w-10 h-10 md:w-12 md:h-12 text-primary"})]})}),(0,N.jsx)("h3",{className:"font-display text-2xl md:text-3xl font-bold text-content mb-4 uppercase tracking-tighter",children:t||m.title}),(0,N.jsx)("p",{className:"text-forest text-sm mono-ui leading-relaxed mb-8 md:mb-10 lowercase",children:s||m.message}),(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,N.jsxs)("button",{onClick:l,className:"h-12 md:h-14 px-6 md:px-8 bg-primary text-background-dark font-bold mono-ui text-[10px] md:text-[11px] hover:bg-white transition-all flex items-center justify-center gap-3","data-testid":"empty-state-refresh-btn",children:[(0,N.jsx)(v.o,{className:"w-4 h-4 md:w-5 md:h-5"}),m.primaryAction]}),(0,N.jsx)("button",{onClick:()=>{o?o():c("/settings")},className:"h-12 md:h-14 px-6 md:px-8 narvo-border text-primary font-bold mono-ui text-[10px] md:text-[11px] hover:bg-primary hover:text-background-dark transition-all","data-testid":"empty-state-diagnostics-btn",children:m.secondaryAction})]}),(0,N.jsxs)("div",{className:"mt-8 md:mt-10 pt-6 narvo-border-t flex justify-between items-center text-[8px] md:text-[9px] mono-ui font-bold text-forest",children:[(0,N.jsxs)("span",{children:["ERR_CODE: ",a||m.errorCode]}),(0,N.jsx)("span",{children:"NARVO_SYS_V2.6"})]})]})})]})},k="https://african-news-hub-1.preview.emergentagent.com",w=()=>{var e,t;const{t:s}=(0,d.Bd)(),[p,h]=(0,a.useState)(null),[u,b]=(0,a.useState)(!0),[f,g]=(0,a.useState)("latest"),[v,j]=(0,a.useState)([]),[w,A]=(0,a.useState)(!0),[S,E]=(0,a.useState)([]),{playTrack:C}=(0,x.n)(),[T,_]=(0,a.useState)([]),[O,R]=(0,a.useState)(!0),[L,I]=(0,a.useState)("NG"),[D,F]=(0,a.useState)([]),[G,M]=(0,a.useState)(null),[Y,B]=(0,a.useState)(!1),[z,V]=(0,a.useState)(.7),H=(0,a.useRef)(null);(0,a.useEffect)(()=>{fetch("".concat(k,"/api/news?limit=1")).then(e=>e.json()).then(e=>{e.length>0&&h(e[0]),b(!1)}).catch(()=>b(!1)),fetch("".concat(k,"/api/radio/countries")).then(e=>e.json()).then(F).catch(console.error),fetch("".concat(k,"/api/discover/trending")).then(e=>e.json()).then(E).catch(console.error)},[]),(0,a.useEffect)(()=>{A(!0),fetch("".concat(k,"/api/podcasts?sort=").concat(f,"&limit=8")).then(e=>e.json()).then(e=>{j(e),A(!1)}).catch(()=>A(!1))},[f]),(0,a.useEffect)(()=>{R(!0),fetch("".concat(k,"/api/radio/stations?country=").concat(L,"&limit=10")).then(e=>e.json()).then(e=>{_(e),e.length>0&&!G&&M(e[0]),R(!1)}).catch(()=>R(!1))},[L,G]);return(0,N.jsx)("main",{className:"flex-1 flex flex-col bg-background-dark relative","data-testid":"discover-page",children:(0,N.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scroll",children:[(0,N.jsxs)("section",{className:"h-[300px] md:h-[450px] narvo-border-b relative group overflow-hidden shrink-0",children:[u?(0,N.jsx)("div",{className:"absolute inset-0 bg-surface/20 animate-pulse"}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"absolute inset-0 bg-cover bg-center grayscale contrast-125 transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?auto=format&fit=crop&q=80&w=1600')"}}),(0,N.jsx)("div",{className:"absolute inset-0 bg-background-dark/40 mix-blend-multiply"})]}),(0,N.jsx)("div",{className:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-background-dark via-background-dark/80 to-transparent p-6 md:p-12",children:(0,N.jsxs)("div",{className:"max-w-4xl space-y-4 md:space-y-6",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,N.jsx)("span",{className:"bg-primary text-background-dark px-2 md:px-3 py-1 mono-ui text-[9px] md:text-[10px] font-bold",children:s("discover.live_broadcast")}),(0,N.jsx)("span",{className:"mono-ui text-[9px] md:text-[10px] text-primary",children:"SIGNAL_STRONG // ARC_NODE_01"})]}),u?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Ay,{variant:"text",className:"w-3/4 h-12 md:h-16"}),(0,N.jsx)(m.Ay,{variant:"text",className:"w-1/2 h-4"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("h2",{className:"font-display text-3xl md:text-6xl font-bold uppercase tracking-tighter text-content leading-none",children:[null===p||void 0===p||null===(e=p.title)||void 0===e?void 0:e.split(" ").slice(0,3).join(" ")," ",(0,N.jsx)("span",{className:"text-primary",children:"Shift."})]}),(0,N.jsxs)("p",{className:"text-xs md:text-sm text-forest font-body max-w-2xl leading-relaxed hidden sm:block",children:["ANALYSIS_DEEP_DIVE: ",null===p||void 0===p||null===(t=p.summary)||void 0===t?void 0:t.slice(0,120),"..."]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-4 md:gap-6 pt-2 md:pt-4",children:[(0,N.jsxs)("button",{onClick:()=>{p&&C(p)},className:"flex items-center gap-2 md:gap-3 bg-white text-background-dark px-4 md:px-8 py-2 md:py-4 mono-ui text-[10px] md:text-[12px] font-bold hover:bg-primary transition-colors","data-testid":"start-transmission-btn",children:[(0,N.jsx)(r.j,{className:"w-4 h-4 md:w-5 md:h-5",fill:"currentColor"}),(0,N.jsxs)("span",{children:["[ ",s("discover.start_transmission")," ]"]})]}),(0,N.jsxs)("div",{className:"hidden sm:flex gap-2 md:gap-4",children:[(0,N.jsx)("div",{className:"text-primary mono-ui text-[9px] md:text-[10px] bg-background-dark narvo-border px-2 md:px-3 py-1",children:"CAM_01"}),(0,N.jsx)("div",{className:"text-primary mono-ui text-[9px] md:text-[10px] bg-background-dark narvo-border px-2 md:px-3 py-1 animate-pulse",children:"REC \u25cf"})]})]})]})})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3",children:[(0,N.jsxs)("div",{className:"lg:col-span-2 lg:narvo-border-r h-full",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-8 narvo-border-b bg-surface/10 sticky top-0 z-10 backdrop-blur-md",children:[(0,N.jsx)("h3",{className:"font-display text-lg md:text-2xl font-bold uppercase text-content tracking-tight",children:s("discover.deep_dive_podcasts")}),(0,N.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 p-1 narvo-border bg-background-dark",children:[(0,N.jsx)("button",{onClick:()=>g("latest"),className:"px-2 md:px-4 py-1 mono-ui text-[9px] md:text-[10px] font-bold ".concat("latest"===f?"bg-primary text-background-dark":"text-forest hover:text-content"),children:s("discover.latest")}),(0,N.jsx)("button",{onClick:()=>g("popular"),className:"px-2 md:px-4 py-1 mono-ui text-[9px] md:text-[10px] ".concat("popular"===f?"bg-primary text-background-dark font-bold":"text-forest hover:text-content"),children:s("discover.popular")})]})]}),(0,N.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-[1px] bg-forest/20",children:w?Array.from({length:4}).map((e,t)=>(0,N.jsxs)("div",{className:"bg-background-dark p-4 md:p-8 flex flex-col gap-4",children:[(0,N.jsxs)("div",{className:"flex justify-between items-start",children:[(0,N.jsx)(m.Ay,{className:"w-16 h-5"}),(0,N.jsx)(m.Ay,{className:"w-12 h-4"})]}),(0,N.jsx)(m.Ay,{variant:"text",className:"w-full h-6"}),(0,N.jsx)(m.Ay,{variant:"text",className:"w-3/4 h-4"}),(0,N.jsx)(m.Ay,{variant:"text",className:"w-1/2 h-4"})]},t)):0===v.length?(0,N.jsx)("div",{className:"col-span-2 p-8 text-center",children:(0,N.jsx)(y,{title:"NO PODCASTS AVAILABLE",description:"Check back later for new content"})}):v.map(e=>(0,N.jsxs)("article",{className:"bg-background-dark p-4 md:p-8 flex flex-col gap-4 md:gap-6 hover:bg-surface/40 transition-colors group cursor-pointer border border-transparent hover:border-forest/50","data-testid":"podcast-".concat(e.id),children:[(0,N.jsxs)("div",{className:"flex justify-between items-start",children:[(0,N.jsx)("span",{className:"mono-ui text-[8px] md:text-[9px] text-primary border border-primary/30 px-1.5 md:px-2 py-0.5 bg-primary/10 font-bold",children:e.episode}),(0,N.jsx)("span",{className:"mono-ui text-[8px] md:text-[9px] text-forest",children:e.duration})]}),(0,N.jsx)("div",{className:"flex items-center gap-2",children:(0,N.jsx)("span",{className:"mono-ui text-[7px] text-forest bg-surface/50 px-1.5 py-0.5 uppercase",children:e.category})}),(0,N.jsx)("h4",{className:"font-display text-base md:text-xl font-bold uppercase tracking-tight text-content leading-tight group-hover:text-primary transition-colors",children:e.title}),(0,N.jsx)("p",{className:"text-[10px] md:text-xs text-forest font-mono leading-relaxed opacity-70 line-clamp-3",children:e.description}),(0,N.jsxs)("button",{onClick:()=>(e=>{C({id:e.id,title:e.title,summary:e.description})})(e),className:"mt-auto pt-4 md:pt-6 flex items-center gap-2 md:gap-3 text-primary mono-ui text-[9px] md:text-[10px] font-bold hover:text-content transition-colors","data-testid":"play-podcast-".concat(e.id),children:[(0,N.jsx)(n.N,{className:"w-5 h-5 md:w-6 md:h-6"}),(0,N.jsx)("span",{children:"[ LISTEN_CMD ]"})]})]},e.id))})]}),(0,N.jsxs)("div",{className:"lg:col-span-1 flex flex-col h-full bg-surface/5",children:[(0,N.jsx)("audio",{ref:H,className:"hidden"}),(0,N.jsxs)("div",{className:"p-4 md:p-8 narvo-border-b bg-background-dark sticky top-0 z-10",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsx)("h3",{className:"font-display text-lg md:text-2xl font-bold uppercase text-content tracking-tight",children:s("discover.radio_garden")}),(0,N.jsxs)("div",{className:"flex items-center gap-1.5 text-[8px] md:text-[9px] mono-ui text-primary font-bold bg-primary/10 px-1.5 md:px-2 py-0.5 narvo-border",children:[(0,N.jsx)("span",{className:"w-1.5 h-1.5 ".concat(Y?"bg-primary animate-pulse":"bg-forest")}),Y?"LIVE":"STANDBY"]})]}),(0,N.jsx)("p",{className:"mono-ui text-[9px] md:text-[10px] text-forest",children:"AFRICAN_BROADCAST_RELAY_v2.1"})]}),(0,N.jsx)("div",{className:"p-4 narvo-border-b flex flex-wrap gap-2",children:D.slice(0,6).map(e=>(0,N.jsxs)("button",{onClick:()=>I(e.code),className:"px-2 py-1 mono-ui text-[8px] md:text-[9px] font-bold transition-all ".concat(L===e.code?"bg-primary text-background-dark":"narvo-border text-forest hover:text-content hover:border-white"),"data-testid":"radio-country-".concat(e.code),children:[e.flag," ",e.code]},e.code))}),(0,N.jsx)("div",{className:"flex-1 overflow-y-auto custom-scroll",children:O?(0,N.jsx)("div",{className:"p-4 space-y-3",children:Array.from({length:4}).map((e,t)=>(0,N.jsxs)("div",{className:"p-3 narvo-border bg-surface/10",children:[(0,N.jsx)(m.Ay,{variant:"text",className:"w-32 h-4 mb-2"}),(0,N.jsx)(m.Ay,{variant:"text",className:"w-24 h-3"})]},t))}):0===T.length?(0,N.jsx)("div",{className:"p-4 flex flex-col items-center justify-center min-h-[200px]",children:(0,N.jsxs)("div",{className:"narvo-border bg-surface/10 p-6 text-center",children:[(0,N.jsx)(o.s,{className:"w-8 h-8 text-forest mx-auto mb-3 opacity-50"}),(0,N.jsx)("h4",{className:"font-display text-sm font-bold text-content uppercase mb-2",children:"NO STATIONS FOUND"}),(0,N.jsx)("p",{className:"mono-ui text-[9px] text-forest",children:"Try selecting another country."})]})}):(0,N.jsx)("div",{className:"p-4 space-y-2",children:T.map(e=>(0,N.jsxs)("button",{onClick:()=>(e=>{H.current&&H.current.pause(),M(e),B(!0),H.current&&(H.current.src=e.url_resolved||e.url,H.current.volume=z,H.current.play().catch(e=>{console.error("Radio play error:",e),B(!1)}))})(e),className:"w-full p-3 narvo-border text-left transition-all group ".concat((null===G||void 0===G?void 0:G.id)===e.id&&Y?"bg-primary/10 border-primary":"bg-surface/10 hover:bg-surface/30 hover:border-forest"),"data-testid":"radio-station-".concat(e.id),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,N.jsx)("span",{className:"font-display text-xs md:text-sm font-bold uppercase truncate ".concat((null===G||void 0===G?void 0:G.id)===e.id&&Y?"text-primary":"text-content"),children:e.name}),(null===G||void 0===G?void 0:G.id)===e.id&&Y&&(0,N.jsx)(o.s,{className:"w-3 h-3 text-primary animate-pulse"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mono-ui text-[8px] text-forest",children:[(0,N.jsx)("span",{children:e.country}),e.bitrate>0&&(0,N.jsxs)("span",{children:["\u2022 ",e.bitrate,"kbps"]})]})]},e.id))})}),(0,N.jsxs)("div",{className:"p-4 md:p-6 bg-background-dark/90 backdrop-blur-md narvo-border-t",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,N.jsxs)("div",{className:"space-y-1 min-w-0 flex-1",children:[(0,N.jsx)("span",{className:"mono-ui text-[8px] md:text-[9px] text-forest font-bold block",children:s("discover.now_playing")}),(0,N.jsx)("p",{className:"mono-ui text-[10px] md:text-xs text-content font-bold uppercase truncate",children:(null===G||void 0===G?void 0:G.name)||s("discover.select_station")}),(0,N.jsxs)("p",{className:"mono-ui text-[8px] text-forest",children:[(null===G||void 0===G?void 0:G.country)||"--"," ",null!==G&&void 0!==G&&G.bitrate?"// ".concat(G.bitrate,"kbps"):""]})]}),(0,N.jsx)("button",{onClick:()=>{H.current&&G&&(Y?(H.current.pause(),B(!1)):(H.current.src=G.url_resolved||G.url,H.current.volume=z,H.current.play().catch(e=>{console.error("Radio play error:",e),B(!1)}),B(!0)))},disabled:!G,className:"w-12 h-12 md:w-14 md:h-14 narvo-border flex items-center justify-center transition-colors ".concat(G?"bg-primary text-background-dark hover:bg-white":"bg-surface/20 text-forest cursor-not-allowed"),"data-testid":"radio-play-btn",children:Y?(0,N.jsx)(i.v,{className:"w-5 h-5 md:w-6 md:h-6"}):(0,N.jsx)(r.j,{className:"w-5 h-5 md:w-6 md:h-6",fill:"currentColor"})})]}),(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[(0,N.jsx)(c.j,{className:"w-4 h-4 text-forest"}),(0,N.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:z,onChange:e=>{const t=parseFloat(e.target.value);V(t),H.current&&(H.current.volume=t)},className:"flex-1 h-1 bg-forest/30 appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-primary","data-testid":"radio-volume"}),(0,N.jsx)(l.o,{className:"w-4 h-4 text-primary"})]})]})]})]})]})})}}}]);
//# sourceMappingURL=903.348aa51c.chunk.js.map