"use strict";(self.webpackChunknarvo_frontend=self.webpackChunknarvo_frontend||[]).push([[963],{3963(e,t,a){a.r(t),a.d(t,{default:()=>A});var s=a(5043),r=a(4975),n=a(7505),l=a(1739),c=a(9533),o=a(6788),i=a(9379),d=a(6667);const m=new Map([["bold",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm84,108a83.6,83.6,0,0,1-16.75,50.28L77.72,60.75A84,84,0,0,1,212,128ZM44,128A83.6,83.6,0,0,1,60.75,77.72L178.28,195.25A84,84,0,0,1,44,128Z"}))],["duotone",s.createElement(s.Fragment,null,s.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),s.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm88,104a87.56,87.56,0,0,1-20.41,56.28L71.72,60.4A88,88,0,0,1,216,128ZM40,128A87.56,87.56,0,0,1,60.41,71.72L184.28,195.6A88,88,0,0,1,40,128Z"}))],["fill",s.createElement(s.Fragment,null,s.createElement("path",{d:"M200,128a71.69,71.69,0,0,1-15.78,44.91L83.09,71.78A71.95,71.95,0,0,1,200,128ZM56,128a71.95,71.95,0,0,0,116.91,56.22L71.78,83.09A71.69,71.69,0,0,0,56,128Zm180,0A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-20,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["light",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm90,102a89.6,89.6,0,0,1-22.29,59.22L68.78,60.29A89.95,89.95,0,0,1,218,128ZM38,128A89.6,89.6,0,0,1,60.29,68.78L187.22,195.71A89.95,89.95,0,0,1,38,128Z"}))],["regular",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm88,104a87.56,87.56,0,0,1-20.41,56.28L71.72,60.4A88,88,0,0,1,216,128ZM40,128A87.56,87.56,0,0,1,60.41,71.72L184.28,195.6A88,88,0,0,1,40,128Z"}))],["thin",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm92,100a91.67,91.67,0,0,1-24.21,62.13L65.87,60.21A92,92,0,0,1,220,128ZM36,128A91.67,91.67,0,0,1,60.21,65.87L190.13,195.79A92,92,0,0,1,36,128Z"}))]]),x=s.forwardRef((e,t)=>s.createElement(d.A,(0,i.A)((0,i.A)({ref:t},e),{},{weights:m})));x.displayName="ProhibitIcon";const p=x;var h=a(8357),f=a(8967),b=a(3988),g=a(1561),v=a(1225),u=a(7302),j=a(579);const N="https://african-news-hub-1.preview.emergentagent.com",A=()=>{const[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(null),[d,m]=(0,s.useState)(!0),[x,A]=(0,s.useState)(!1),[w,y]=(0,s.useState)(!1),[E]=(0,s.useState)("00:14"),[k,L]=(0,s.useState)("AFRICA"),[Z,M]=(0,s.useState)("ALL"),{playTrack:C}=(0,b.n)(),{user:_}=(0,g.A)(),{showAlert:I}=(0,v.nA)();(0,s.useEffect)(()=>{(async()=>{try{const[e,a]=await Promise.all([fetch("".concat(N,"/api/voices")),null!==_&&void 0!==_&&_.id?fetch("".concat(N,"/api/settings/").concat(_.id,"/voice")):Promise.resolve(null)]),s=await e.json();if(t(s),a){const e=await a.json(),t=s.find(t=>t.id===e.voice_model);t?i(t):s.length>0&&i(s[0]),e.voice_region&&L(e.voice_region.toUpperCase()),e.voice_dialect&&M(e.voice_dialect.toUpperCase())}else s.length>0&&i(s[0])}catch(e){console.error("Failed to load voices:",e)}m(!1)})()},[null===_||void 0===_?void 0:_.id]);return(0,j.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden bg-background-dark","data-testid":"voice-studio-page",children:[(0,j.jsxs)("div",{className:"p-6 md:p-8 narvo-border-b bg-background-dark flex flex-col gap-4 md:gap-6 shrink-0",children:[(0,j.jsxs)("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{className:"font-display text-2xl md:text-3xl font-bold text-content uppercase tracking-tight",children:"Broadcast_Preview"}),(0,j.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 mt-1",children:[(0,j.jsx)("span",{className:"mono-ui text-[9px] md:text-[10px] text-forest font-bold",children:"NODE: LAG_88_V"}),(0,j.jsx)("span",{className:"mono-ui text-[9px] md:text-[10px] text-forest/40 font-bold hidden sm:inline",children:"\u2022"}),(0,j.jsx)("span",{className:"mono-ui text-[9px] md:text-[10px] text-forest font-bold",children:"FREQ: 48kHz / 32bit"})]})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)("button",{className:"w-10 h-10 md:w-12 md:h-12 narvo-border flex items-center justify-center text-content hover:bg-forest transition-colors",children:(0,j.jsx)(r.L,{className:"w-5 h-5"})}),(0,j.jsx)("button",{onClick:()=>{a&&(C({id:"preview-".concat(a.id),title:"Voice Preview: ".concat(a.name),summary:"Testing ".concat(a.accent," voice model")}),y(!0))},className:"w-10 h-10 md:w-12 md:h-12 bg-primary text-background-dark flex items-center justify-center hover:bg-white transition-colors","data-testid":"preview-play-btn",children:w?(0,j.jsx)(n.v,{className:"w-5 h-5"}):(0,j.jsx)(l.j,{className:"w-5 h-5",fill:"currentColor"})}),(0,j.jsx)("button",{className:"w-10 h-10 md:w-12 md:h-12 narvo-border flex items-center justify-center text-content hover:bg-forest transition-colors",children:(0,j.jsx)(c.x,{className:"w-5 h-5"})})]})]}),(0,j.jsxs)("div",{className:"h-14 md:h-16 narvo-border bg-background-dark/40 flex items-center gap-1 px-4 relative overflow-hidden",children:[(0,j.jsx)("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(#628141 1px, transparent 1px)",backgroundSize:"10px 10px"}}),[20,40,60,100,80,50,30,20,40,60,100,80,50,30,20].map((e,t)=>(0,j.jsx)("div",{className:"w-1 transition-all ".concat(t>=3&&t<=10?"bg-primary":"bg-primary/30"),style:{height:"".concat(e,"%"),animationDelay:"".concat(.1*t,"s")}},t)),(0,j.jsx)("div",{className:"flex-1 h-px bg-forest opacity-20 ml-2"}),(0,j.jsxs)("span",{className:"mono-ui text-[8px] md:text-[9px] text-primary font-bold absolute right-4 bottom-2 tracking-widest",children:[E," / 02:30"]})]})]}),(0,j.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scroll p-4 md:p-8 pb-20 md:pb-8",children:[(0,j.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 md:mb-8",children:[(0,j.jsx)("h3",{className:"mono-ui text-[10px] md:text-[11px] text-forest font-bold tracking-[0.2em]",children:"VOICE_MATRIX // SELECT_ENTITY_MODEL"}),(0,j.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4",children:[(0,j.jsxs)("button",{onClick:()=>L("AFRICA"===k?"ALL":"AFRICA"),className:"px-3 md:px-4 py-2 narvo-border mono-ui text-[8px] md:text-[9px] font-bold transition-all ".concat("AFRICA"===k?"bg-primary text-background-dark":"text-forest hover:text-content hover:border-white"),children:["REGION: ",k]}),(0,j.jsxs)("button",{onClick:()=>M("ALL"===Z?"PIDGIN":"ALL"),className:"px-3 md:px-4 py-2 narvo-border mono-ui text-[8px] md:text-[9px] font-bold transition-all ".concat("ALL"!==Z?"bg-primary text-background-dark":"text-forest hover:text-content hover:border-white"),children:["DIALECT: ",Z]})]})]}),d?(0,j.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>(0,j.jsxs)("div",{className:"narvo-border p-6 md:p-8 flex flex-col gap-4",children:[(0,j.jsx)(u.Ay,{variant:"text",className:"w-24 h-4"}),(0,j.jsx)(u.Ay,{variant:"text",className:"w-32 h-8"}),(0,j.jsx)("div",{className:"h-20 md:h-24 narvo-border bg-background-dark/20"}),(0,j.jsx)(u.Ay,{variant:"text",className:"w-full h-4"})]},t))}):(0,j.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(e=>{const t=(e=>(null===a||void 0===a?void 0:a.id)===e.id?{label:"ACTIVE_MODEL",active:!0}:{label:"STANDBY",active:!1})(e);return(0,j.jsxs)("div",{onClick:()=>i(e),className:"narvo-border p-6 md:p-8 flex flex-col cursor-pointer transition-all ".concat(t.active?"border-primary bg-primary/5":"hover:border-forest hover:bg-surface/20"),"data-testid":"voice-card-".concat(e.id),children:[(0,j.jsxs)("div",{className:"flex justify-between items-start mb-4 md:mb-6",children:[(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("span",{className:"mono-ui text-[7px] md:text-[8px] px-2 py-0.5 font-bold ".concat(t.active?"bg-primary text-background-dark":"border border-forest text-forest"),children:t.label}),(0,j.jsx)("h4",{className:"font-display text-xl md:text-2xl font-bold text-content uppercase",children:e.name.replace(" ","_")})]}),t.active?(0,j.jsx)(o.C,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"}):(0,j.jsx)(p,{className:"w-5 h-5 md:w-6 md:h-6 text-forest"})]}),(0,j.jsxs)("div",{className:"h-20 md:h-24 narvo-border bg-background-dark/20 flex items-center justify-center mb-4 md:mb-6 overflow-hidden relative",children:[(0,j.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(45deg, #628141 25%, transparent 25%, transparent 50%, #628141 50%, #628141 75%, transparent 75%, transparent)",backgroundSize:"20px 20px"}}),(0,j.jsx)(h.s,{className:"w-8 h-8 text-forest opacity-30"})]}),(0,j.jsxs)("div",{className:"flex justify-between items-end narvo-border-t border-forest/30 pt-3 md:pt-4",children:[(0,j.jsxs)("span",{className:"mono-ui text-[8px] md:text-[9px] text-forest font-bold uppercase",children:["Variant: ",e.accent]}),(0,j.jsx)("span",{className:"mono-ui text-[8px] md:text-[9px] font-bold ".concat(t.active?"text-primary":"text-forest"),children:t.active?"SIGNAL_STABLE":"NODE_IDLE"})]})]},e.id)})})]}),a&&(0,j.jsxs)("div",{className:"narvo-border-t p-4 md:p-6 bg-surface/10 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 shrink-0",children:[(0,j.jsxs)("div",{className:"flex items-center gap-4",children:[(0,j.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 narvo-border bg-primary/20 flex items-center justify-center",children:(0,j.jsx)(f.J,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-content font-display font-bold text-sm md:text-base",children:a.name}),(0,j.jsx)("span",{className:"mono-ui text-[8px] md:text-[9px] text-forest block",children:a.description})]})]}),(0,j.jsx)("button",{onClick:async()=>{if(a&&null!==_&&void 0!==_&&_.id){A(!0);try{await fetch("".concat(N,"/api/settings/").concat(_.id,"/voice?voice_model=").concat(a.id,"&voice_dialect=").concat(Z.toLowerCase(),"&voice_region=").concat(k.toLowerCase()),{method:"POST"}),I("VOICE_CHANGED")}catch(e){I("NETWORK_ERROR")}A(!1)}},disabled:x,className:"bg-primary text-background-dark px-6 md:px-8 py-2 md:py-3 mono-ui text-[10px] md:text-[11px] font-bold hover:bg-white transition-all disabled:opacity-50","data-testid":"apply-voice-btn",children:x?"SAVING...":"APPLY_MODEL"})]})]})}},8967(e,t,a){a.d(t,{J:()=>o});var s=a(9379),r=a(5043),n=a(6667);const l=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z",opacity:"0.2"}),r.createElement("path",{d:"M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"}))]]),c=r.forwardRef((e,t)=>r.createElement(n.A,(0,s.A)((0,s.A)({ref:t},e),{},{weights:l})));c.displayName="CheckIcon";const o=c}}]);
//# sourceMappingURL=963.aa8444cc.chunk.js.map