{"ast":null,"code":"import React from'react';import{useAudio}from'../contexts/AudioContext';import{Headphones,ChevronLeft,Play,Pause,ChevronRight,Volume2}from'lucide-react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const AudioPlayerBar=()=>{const{currentTrack,isPlaying,progress,duration,togglePlay,seek,isLoading,volume,setVolumeLevel}=useAudio();const formatTime=s=>\"\".concat(Math.floor(s/60),\":\").concat(Math.floor(s%60).toString().padStart(2,'0'));const progressPct=duration>0?progress/duration*100:0;return/*#__PURE__*/_jsxs(\"footer\",{className:\"hidden md:flex flex-col bg-background-dark border-t-2 border-primary z-20 shrink-0\",\"data-testid\":\"audio-player-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-7 bg-primary text-background-dark flex items-center overflow-hidden marquee-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"marquee-content flex items-center gap-12 font-mono text-[10px] font-bold uppercase tracking-wider\",children:[/*#__PURE__*/_jsxs(\"span\",{children:['//',\" Narvo Intelligence Update: Regional Manufacturing Hubs report 12% growth.\"]}),/*#__PURE__*/_jsxs(\"span\",{children:['//',\" Signal Quality maintained at 100% across all sub-nodes.\"]}),/*#__PURE__*/_jsxs(\"span\",{children:['//',\" Breaking: New localized dialect synthesis node active in Ghana.\"]}),/*#__PURE__*/_jsxs(\"span\",{children:['//',\" Narvo Intelligence Update: Regional Manufacturing Hubs report 12% growth.\"]}),/*#__PURE__*/_jsxs(\"span\",{children:['//',\" Signal Quality maintained at 100% across all sub-nodes.\"]}),/*#__PURE__*/_jsxs(\"span\",{children:['//',\" Breaking: New localized dialect synthesis node active in Ghana.\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-[72px] flex items-center justify-between px-6 bg-background-dark narvo-border-t\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 w-1/4 min-w-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-11 w-11 narvo-border flex items-center justify-center bg-surface shrink-0\",children:/*#__PURE__*/_jsx(Headphones,{className:\"text-primary w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-w-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-display font-bold text-sm text-white uppercase tracking-tight truncate\",children:(currentTrack===null||currentTrack===void 0?void 0:currentTrack.title)||'No Track Selected'}),/*#__PURE__*/_jsx(\"span\",{className:\"mono-ui text-[10px] text-forest truncate\",children:(currentTrack===null||currentTrack===void 0?void 0:currentTrack.source)||'NARVO // Standby'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 max-w-xl flex flex-col items-center gap-1.5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>seek(Math.max(0,progress-15)),className:\"text-forest hover:text-white transition-colors\",\"data-testid\":\"player-prev\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:togglePlay,className:\"w-11 h-11 bg-primary text-background-dark flex items-center justify-center hover:bg-white transition-all\",disabled:isLoading||!currentTrack,\"data-testid\":\"player-play-pause\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-background-dark border-t-transparent animate-spin\"}):isPlaying?/*#__PURE__*/_jsx(Pause,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Play,{className:\"w-5 h-5 ml-0.5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>seek(Math.min(duration,progress+15)),className:\"text-forest hover:text-white transition-colors\",\"data-testid\":\"player-next\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mono-ui text-[10px] text-forest w-8 text-right\",children:formatTime(progress)}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-1 bg-forest/20 relative cursor-pointer group\",onClick:e=>{const r=e.currentTarget.getBoundingClientRect();seek((e.clientX-r.left)/r.width*duration);},children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 h-full bg-primary transition-all\",style:{width:\"\".concat(progressPct,\"%\")}})}),/*#__PURE__*/_jsx(\"span\",{className:\"mono-ui text-[10px] text-forest/50 w-8\",children:formatTime(duration)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-end gap-4 w-1/4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Volume2,{className:\"text-forest w-4 h-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-1 bg-forest/20 relative cursor-pointer\",onClick:e=>{const r=e.currentTarget.getBoundingClientRect();setVolumeLevel((e.clientX-r.left)/r.width);},children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 h-full bg-forest\",style:{width:\"\".concat(volume*100,\"%\")}})})]})})]})]});};export default AudioPlayerBar;","map":{"version":3,"names":["React","useAudio","Headphones","ChevronLeft","Play","Pause","ChevronRight","Volume2","jsxs","_jsxs","jsx","_jsx","AudioPlayerBar","currentTrack","isPlaying","progress","duration","togglePlay","seek","isLoading","volume","setVolumeLevel","formatTime","s","concat","Math","floor","toString","padStart","progressPct","className","children","title","source","onClick","max","disabled","min","e","r","currentTarget","getBoundingClientRect","clientX","left","width","style"],"sources":["/app/frontend/src/components/AudioPlayerBar.js"],"sourcesContent":["import React from 'react';\nimport { useAudio } from '../contexts/AudioContext';\nimport { Headphones, ChevronLeft, Play, Pause, ChevronRight, Volume2 } from 'lucide-react';\n\nconst AudioPlayerBar = () => {\n  const { currentTrack, isPlaying, progress, duration, togglePlay, seek, isLoading, volume, setVolumeLevel } = useAudio();\n\n  const formatTime = (s) => `${Math.floor(s / 60)}:${Math.floor(s % 60).toString().padStart(2, '0')}`;\n  const progressPct = duration > 0 ? (progress / duration) * 100 : 0;\n\n  return (\n    <footer className=\"hidden md:flex flex-col bg-background-dark border-t-2 border-primary z-20 shrink-0\" data-testid=\"audio-player-bar\">\n      {/* News Ticker */}\n      <div className=\"h-7 bg-primary text-background-dark flex items-center overflow-hidden marquee-container\">\n        <div className=\"marquee-content flex items-center gap-12 font-mono text-[10px] font-bold uppercase tracking-wider\">\n          <span>{'//'} Narvo Intelligence Update: Regional Manufacturing Hubs report 12% growth.</span>\n          <span>{'//'} Signal Quality maintained at 100% across all sub-nodes.</span>\n          <span>{'//'} Breaking: New localized dialect synthesis node active in Ghana.</span>\n          <span>{'//'} Narvo Intelligence Update: Regional Manufacturing Hubs report 12% growth.</span>\n          <span>{'//'} Signal Quality maintained at 100% across all sub-nodes.</span>\n          <span>{'//'} Breaking: New localized dialect synthesis node active in Ghana.</span>\n        </div>\n      </div>\n\n      {/* Controls Console */}\n      <div className=\"h-[72px] flex items-center justify-between px-6 bg-background-dark narvo-border-t\">\n        {/* Track Info */}\n        <div className=\"flex items-center gap-4 w-1/4 min-w-0\">\n          <div className=\"h-11 w-11 narvo-border flex items-center justify-center bg-surface shrink-0\">\n            <Headphones className=\"text-primary w-5 h-5\" />\n          </div>\n          <div className=\"flex flex-col min-w-0\">\n            <span className=\"font-display font-bold text-sm text-white uppercase tracking-tight truncate\">\n              {currentTrack?.title || 'No Track Selected'}\n            </span>\n            <span className=\"mono-ui text-[10px] text-forest truncate\">\n              {currentTrack?.source || 'NARVO // Standby'}\n            </span>\n          </div>\n        </div>\n\n        {/* Playback Controls */}\n        <div className=\"flex-1 max-w-xl flex flex-col items-center gap-1.5\">\n          <div className=\"flex items-center gap-6\">\n            <button onClick={() => seek(Math.max(0, progress - 15))} className=\"text-forest hover:text-white transition-colors\" data-testid=\"player-prev\">\n              <ChevronLeft className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={togglePlay}\n              className=\"w-11 h-11 bg-primary text-background-dark flex items-center justify-center hover:bg-white transition-all\"\n              disabled={isLoading || !currentTrack}\n              data-testid=\"player-play-pause\"\n            >\n              {isLoading ? (\n                <div className=\"w-5 h-5 border-2 border-background-dark border-t-transparent animate-spin\" />\n              ) : isPlaying ? (\n                <Pause className=\"w-5 h-5\" />\n              ) : (\n                <Play className=\"w-5 h-5 ml-0.5\" />\n              )}\n            </button>\n            <button onClick={() => seek(Math.min(duration, progress + 15))} className=\"text-forest hover:text-white transition-colors\" data-testid=\"player-next\">\n              <ChevronRight className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <div className=\"w-full flex items-center gap-2\">\n            <span className=\"mono-ui text-[10px] text-forest w-8 text-right\">{formatTime(progress)}</span>\n            <div\n              className=\"flex-1 h-1 bg-forest/20 relative cursor-pointer group\"\n              onClick={(e) => { const r = e.currentTarget.getBoundingClientRect(); seek(((e.clientX - r.left) / r.width) * duration); }}\n            >\n              <div className=\"absolute top-0 left-0 h-full bg-primary transition-all\" style={{ width: `${progressPct}%` }} />\n            </div>\n            <span className=\"mono-ui text-[10px] text-forest/50 w-8\">{formatTime(duration)}</span>\n          </div>\n        </div>\n\n        {/* Volume */}\n        <div className=\"flex items-center justify-end gap-4 w-1/4\">\n          <div className=\"hidden lg:flex items-center gap-3\">\n            <Volume2 className=\"text-forest w-4 h-4\" />\n            <div className=\"w-20 h-1 bg-forest/20 relative cursor-pointer\" onClick={(e) => {\n              const r = e.currentTarget.getBoundingClientRect();\n              setVolumeLevel((e.clientX - r.left) / r.width);\n            }}>\n              <div className=\"absolute top-0 left-0 h-full bg-forest\" style={{ width: `${volume * 100}%` }} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default AudioPlayerBar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}