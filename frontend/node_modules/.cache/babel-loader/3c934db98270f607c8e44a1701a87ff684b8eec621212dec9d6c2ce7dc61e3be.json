{"ast":null,"code":"import React from'react';import{useAudio}from'../contexts/AudioContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AudioPlayer=()=>{const{currentTrack,isPlaying,progress,duration,togglePlay,seek,isLoading}=useAudio();if(!currentTrack)return null;const formatTime=s=>\"\".concat(Math.floor(s/60),\":\").concat(Math.floor(s%60).toString().padStart(2,'0'));return/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 left-0 right-0 border-t border-forest bg-background-dark z-50\",\"data-testid\":\"audio-player\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 px-6 py-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mono-ui text-[10px] text-forest block truncate\",children:currentTrack.source||'NARVO'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-display text-sm text-white block truncate\",children:currentTrack.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>seek(Math.max(0,progress-10)),className:\"text-forest hover:text-primary\",\"data-testid\":\"audio-rewind-btn\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",viewBox:\"0 0 256 256\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M199.81,34a16,16,0,0,0-16.24.43L64,109.23V40a8,8,0,0,0-16,0V216a8,8,0,0,0,16,0V146.77l119.57,74.78A15.95,15.95,0,0,0,208,208.12V47.88A15.86,15.86,0,0,0,199.81,34Z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:togglePlay,className:\"w-10 h-10 bg-primary flex items-center justify-center\",disabled:isLoading,\"data-testid\":\"audio-play-toggle\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-background-dark border-t-transparent animate-spin\"}):isPlaying?/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-background-dark\",viewBox:\"0 0 256 256\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M216,48V208a16,16,0,0,1-16,16H160a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h40A16,16,0,0,1,216,48ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Z\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-background-dark\",viewBox:\"0 0 256 256\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>seek(Math.min(duration,progress+10)),className:\"text-forest hover:text-primary\",\"data-testid\":\"audio-forward-btn\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",viewBox:\"0 0 256 256\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M208,40V216a8,8,0,0,1-16,0V146.77L72.43,221.55A15.95,15.95,0,0,1,48,208.12V47.88A15.86,15.86,0,0,1,56.19,34a16,16,0,0,1,16.24.43L192,109.23V40a8,8,0,0,1,16,0Z\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex items-center gap-2 w-48\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mono-ui text-[10px] text-forest\",children:formatTime(progress)}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:0,max:duration||100,value:progress,onChange:e=>seek(Number(e.target.value)),className:\"flex-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mono-ui text-[10px] text-forest\",children:formatTime(duration)})]})]})});};export default AudioPlayer;","map":{"version":3,"names":["React","useAudio","jsx","_jsx","jsxs","_jsxs","AudioPlayer","currentTrack","isPlaying","progress","duration","togglePlay","seek","isLoading","formatTime","s","concat","Math","floor","toString","padStart","className","children","source","title","onClick","max","viewBox","fill","d","disabled","min","type","value","onChange","e","Number","target"],"sources":["/app/frontend/src/components/AudioPlayer.js"],"sourcesContent":["import React from 'react';\nimport { useAudio } from '../contexts/AudioContext';\n\nconst AudioPlayer = () => {\n  const { currentTrack, isPlaying, progress, duration, togglePlay, seek, isLoading } = useAudio();\n  if (!currentTrack) return null;\n\n  const formatTime = (s) => `${Math.floor(s / 60)}:${Math.floor(s % 60).toString().padStart(2, '0')}`;\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 border-t border-forest bg-background-dark z-50\" data-testid=\"audio-player\">\n      <div className=\"flex items-center gap-4 px-6 py-3\">\n        <div className=\"flex-1 min-w-0\">\n          <span className=\"mono-ui text-[10px] text-forest block truncate\">{currentTrack.source || 'NARVO'}</span>\n          <span className=\"font-display text-sm text-white block truncate\">{currentTrack.title}</span>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <button onClick={() => seek(Math.max(0, progress - 10))} className=\"text-forest hover:text-primary\" data-testid=\"audio-rewind-btn\">\n            <svg className=\"w-5 h-5\" viewBox=\"0 0 256 256\" fill=\"currentColor\">\n              <path d=\"M199.81,34a16,16,0,0,0-16.24.43L64,109.23V40a8,8,0,0,0-16,0V216a8,8,0,0,0,16,0V146.77l119.57,74.78A15.95,15.95,0,0,0,208,208.12V47.88A15.86,15.86,0,0,0,199.81,34Z\"/>\n            </svg>\n          </button>\n          <button onClick={togglePlay} className=\"w-10 h-10 bg-primary flex items-center justify-center\" disabled={isLoading} data-testid=\"audio-play-toggle\">\n            {isLoading ? (\n              <div className=\"w-4 h-4 border-2 border-background-dark border-t-transparent animate-spin\" />\n            ) : isPlaying ? (\n              <svg className=\"w-5 h-5 text-background-dark\" viewBox=\"0 0 256 256\" fill=\"currentColor\">\n                <path d=\"M216,48V208a16,16,0,0,1-16,16H160a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h40A16,16,0,0,1,216,48ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Z\"/>\n              </svg>\n            ) : (\n              <svg className=\"w-5 h-5 text-background-dark\" viewBox=\"0 0 256 256\" fill=\"currentColor\">\n                <path d=\"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z\"/>\n              </svg>\n            )}\n          </button>\n          <button onClick={() => seek(Math.min(duration, progress + 10))} className=\"text-forest hover:text-primary\" data-testid=\"audio-forward-btn\">\n            <svg className=\"w-5 h-5\" viewBox=\"0 0 256 256\" fill=\"currentColor\">\n              <path d=\"M208,40V216a8,8,0,0,1-16,0V146.77L72.43,221.55A15.95,15.95,0,0,1,48,208.12V47.88A15.86,15.86,0,0,1,56.19,34a16,16,0,0,1,16.24.43L192,109.23V40a8,8,0,0,1,16,0Z\"/>\n            </svg>\n          </button>\n        </div>\n        <div className=\"hidden sm:flex items-center gap-2 w-48\">\n          <span className=\"mono-ui text-[10px] text-forest\">{formatTime(progress)}</span>\n          <input type=\"range\" min={0} max={duration || 100} value={progress} onChange={(e) => seek(Number(e.target.value))} className=\"flex-1\" />\n          <span className=\"mono-ui text-[10px] text-forest\">{formatTime(duration)}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AudioPlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}